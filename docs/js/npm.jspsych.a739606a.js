"use strict";(self["webpackChunkvue_jspsych_test"]=self["webpackChunkvue_jspsych_test"]||[]).push([[434],{1758:function(e,t,s){s.d(t,{A:function(){return a}});var i=s(1510),n=s(7299),r={name:"@jspsych/plugin-audio-keyboard-response",version:"2.0.0",description:"jsPsych plugin for playing an audio file and getting a keyboard response",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-audio-keyboard-response"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/audio-keyboard-response",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const o={name:"audio-keyboard-response",version:r.version,parameters:{stimulus:{type:n.QL.AUDIO,default:void 0},choices:{type:n.QL.KEYS,default:"ALL_KEYS"},prompt:{type:n.QL.HTML_STRING,pretty_name:"Prompt",default:null},trial_duration:{type:n.QL.INT,default:null},response_ends_trial:{type:n.QL.BOOL,default:!0},trial_ends_after_audio:{type:n.QL.BOOL,pretty_name:"Trial ends after audio",default:!1},response_allowed_while_playing:{type:n.QL.BOOL,default:!0}},data:{response:{type:n.QL.STRING},rt:{type:n.QL.INT},stimulus:{type:n.QL.STRING}}};class a{constructor(e){this.jsPsych=e,this.response={rt:null,key:null},i(this)}trial(e,t,s){return new Promise((async i=>{this.finish=i,this.params=t,this.display=e,this.audio=await this.jsPsych.pluginAPI.getAudioPlayer(t.stimulus),t.trial_ends_after_audio&&this.audio.addEventListener("ended",this.end_trial),null!==t.prompt&&(e.innerHTML=t.prompt),this.startTime=this.jsPsych.pluginAPI.audioContext()?.currentTime,t.response_allowed_while_playing?this.setup_keyboard_listener():t.trial_ends_after_audio||this.audio.addEventListener("ended",this.setup_keyboard_listener),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{this.end_trial()}),t.trial_duration),s(),this.audio.play()}))}end_trial(){this.jsPsych.pluginAPI.clearAllTimeouts(),this.audio.stop(),this.audio.removeEventListener("ended",this.end_trial),this.audio.removeEventListener("ended",this.setup_keyboard_listener),this.jsPsych.pluginAPI.cancelAllKeyboardResponses();var e={rt:this.response.rt,response:this.response.key,stimulus:this.params.stimulus};this.display.innerHTML="",this.finish(e)}after_response(e){this.response=e,this.params.response_ends_trial&&this.end_trial()}setup_keyboard_listener(){this.jsPsych.pluginAPI.useWebaudio?this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:this.after_response,valid_responses:this.params.choices,rt_method:"audio",persist:!1,allow_held_key:!1,audio_context:this.jsPsych.pluginAPI.audioContext(),audio_context_start_time:this.startTime}):this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:this.after_response,valid_responses:this.params.choices,rt_method:"performance",persist:!1,allow_held_key:!1})}async simulate(e,t,s,i){return"data-only"==t?(i(),this.simulate_data_only(e,s)):"visual"==t?this.simulate_visual(e,s,i):void 0}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);return s}async simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement(),r=()=>{null!==i.rt&&this.jsPsych.pluginAPI.pressKey(i.response,i.rt)},o=await this.trial(n,e,(()=>{s(),e.response_allowed_while_playing?r():this.audio.addEventListener("ended",r)}));return o}create_simulation_data(e,t){const s={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,i),i}}a.info=o},207:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-call-function",version:"2.0.0",description:"jsPsych plugin for calling an arbitrary function during a jspsych experiment",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-call-function"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/call-function",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"call-function",version:n.version,parameters:{func:{type:i.QL.FUNCTION,default:void 0},async:{type:i.QL.BOOL,default:!1}},data:{value:{type:i.QL.COMPLEX,default:void 0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){let s;const i=()=>{const e={value:s};this.jsPsych.finishTrial(e)};if(t.async){const e=e=>{s=e,i()};t.func(e)}else s=t.func(),i()}}o.info=r},4824:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-html-button-response",version:"2.0.0",description:"jsPsych plugin for displaying a stimulus and getting a button response",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-html-button-response"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/html-button-response",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"html-button-response",version:n.version,parameters:{stimulus:{type:i.QL.HTML_STRING,default:void 0},choices:{type:i.QL.STRING,default:void 0,array:!0},button_html:{type:i.QL.FUNCTION,default:function(e,t){return`<button class="jspsych-btn">${e}</button>`}},prompt:{type:i.QL.HTML_STRING,default:null},stimulus_duration:{type:i.QL.INT,default:null},trial_duration:{type:i.QL.INT,default:null},button_layout:{type:i.QL.STRING,default:"grid"},grid_rows:{type:i.QL.INT,default:1},grid_columns:{type:i.QL.INT,default:null},response_ends_trial:{type:i.QL.BOOL,default:!0},enable_button_after:{type:i.QL.INT,default:0}},data:{rt:{type:i.QL.INT},response:{type:i.QL.INT},stimulus:{type:i.QL.HTML_STRING}}};class o{constructor(e){this.jsPsych=e}trial(e,t){const s=document.createElement("div");s.id="jspsych-html-button-response-stimulus",s.innerHTML=t.stimulus,e.appendChild(s);const i=document.createElement("div");if(i.id="jspsych-html-button-response-btngroup","grid"===t.button_layout){if(i.classList.add("jspsych-btn-group-grid"),null===t.grid_rows&&null===t.grid_columns)throw new Error("You cannot set `grid_rows` to `null` without providing a value for `grid_columns`.");const e=null===t.grid_columns?Math.ceil(t.choices.length/t.grid_rows):t.grid_columns,s=null===t.grid_rows?Math.ceil(t.choices.length/t.grid_columns):t.grid_rows;i.style.gridTemplateColumns=`repeat(${e}, 1fr)`,i.style.gridTemplateRows=`repeat(${s}, 1fr)`}else"flex"===t.button_layout&&i.classList.add("jspsych-btn-group-flex");for(const[c,d]of t.choices.entries()){i.insertAdjacentHTML("beforeend",t.button_html(d,c));const e=i.lastChild;e.dataset.choice=c.toString(),e.addEventListener("click",(()=>{a(c)}))}e.appendChild(i),null!==t.prompt&&e.insertAdjacentHTML("beforeend",t.prompt);var n=performance.now(),r={rt:null,button:null};const o=()=>{var e={rt:r.rt,stimulus:t.stimulus,response:r.button};this.jsPsych.finishTrial(e)};function a(e){var a=performance.now(),l=Math.round(a-n);r.button=parseInt(e),r.rt=l,s.classList.add("responded");for(const t of i.children)t.setAttribute("disabled","disabled");t.response_ends_trial&&o()}if(null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{s.style.visibility="hidden"}),t.stimulus_duration),t.enable_button_after>0){for(var l=document.querySelectorAll(".jspsych-html-button-response-button button"),u=0;u<l.length;u++)l[u].setAttribute("disabled","disabled");this.jsPsych.pluginAPI.setTimeout((()=>{for(var e=document.querySelectorAll(".jspsych-html-button-response-button button"),t=0;t<e.length;t++)e[t].removeAttribute("disabled")}),t.enable_button_after)}null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(o,t.trial_duration)}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0)+e.enable_button_after,response:this.jsPsych.randomization.randomInt(0,e.choices.length-1)},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,i),i}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s(),null!==i.rt&&this.jsPsych.pluginAPI.clickTarget(n.querySelector(`#jspsych-html-button-response-btngroup [data-choice="${i.response}"]`),i.rt)}}o.info=r},9925:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-html-keyboard-response",version:"2.0.0",description:"jsPsych plugin for displaying a stimulus and getting a keyboard response",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-html-keyboard-response"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/html-keyboard-response",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"html-keyboard-response",version:n.version,parameters:{stimulus:{type:i.QL.HTML_STRING,default:void 0},choices:{type:i.QL.KEYS,default:"ALL_KEYS"},prompt:{type:i.QL.HTML_STRING,default:null},stimulus_duration:{type:i.QL.INT,default:null},trial_duration:{type:i.QL.INT,default:null},response_ends_trial:{type:i.QL.BOOL,default:!0}},data:{response:{type:i.QL.STRING},rt:{type:i.QL.INT},stimulus:{type:i.QL.STRING}}};class o{constructor(e){this.jsPsych=e}trial(e,t){var s='<div id="jspsych-html-keyboard-response-stimulus">'+t.stimulus+"</div>";null!==t.prompt&&(s+=t.prompt),e.innerHTML=s;var i={rt:null,key:null};const n=()=>{"undefined"!==typeof o&&this.jsPsych.pluginAPI.cancelKeyboardResponse(o);var e={rt:i.rt,stimulus:t.stimulus,response:i.key};this.jsPsych.finishTrial(e)};var r=s=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").className+=" responded",null==i.key&&(i=s),t.response_ends_trial&&n()};if("NO_KEYS"!=t.choices)var o=this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:r,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1});null!==t.stimulus_duration&&this.jsPsych.pluginAPI.setTimeout((()=>{e.querySelector("#jspsych-html-keyboard-response-stimulus").style.visibility="hidden"}),t.stimulus_duration),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(n,t.trial_duration)}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,i),i}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s(),null!==i.rt&&this.jsPsych.pluginAPI.pressKey(i.response,i.rt)}}o.info=r},3425:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-preload",version:"2.0.0",description:"",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-preload"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/preload",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/plugin-audio-keyboard-response":"*","@jspsych/plugin-image-keyboard-response":"*","@jspsych/plugin-video-keyboard-response":"*"}};const r={name:"preload",version:n.version,parameters:{auto_preload:{type:i.QL.BOOL,default:!1},trials:{type:i.QL.TIMELINE,default:[]},images:{type:i.QL.STRING,default:[],array:!0},audio:{type:i.QL.STRING,default:[],array:!0},video:{type:i.QL.STRING,default:[],array:!0},message:{type:i.QL.HTML_STRING,default:null},show_progress_bar:{type:i.QL.BOOL,default:!0},continue_after_error:{type:i.QL.BOOL,default:!1},error_message:{type:i.QL.HTML_STRING,default:"The experiment failed to load."},show_detailed_errors:{type:i.QL.BOOL,default:!1},max_load_time:{type:i.QL.INT,default:null},on_error:{type:i.QL.FUNCTION,default:null},on_success:{type:i.QL.FUNCTION,default:null}},data:{success:{type:i.QL.BOOL},timeout:{type:i.QL.BOOL},failed_images:{type:i.QL.STRING,array:!0},failed_audio:{type:i.QL.STRING,array:!0},failed_video:{type:i.QL.STRING,array:!0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){var s=null,i=!1,n=[],r=[],o=[],a=[],l=this.jsPsych.getSafeModeStatus(),u=[],c=[],d=[];if(t.auto_preload){var p=this.jsPsych.getTimeline(),h=this.jsPsych.pluginAPI.getAutoPreloadList(p);u=u.concat(h.images),c=c.concat(h.audio),d=d.concat(h.video)}if(t.trials.length>0){var m=this.jsPsych.pluginAPI.getAutoPreloadList(t.trials);u=u.concat(m.images),c=c.concat(m.audio),d=d.concat(m.video)}u=u.concat(t.images),c=c.concat(t.audio),d=d.concat(t.video),u=this.jsPsych.utils.unique(u.flat()),c=this.jsPsych.utils.unique(c.flat()),d=this.jsPsych.utils.unique(d.flat()),l&&(d=[]);var y="";null!==t.message&&(y+=t.message),t.show_progress_bar&&(y+="\n            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>\n              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>\n            </div>"),e.innerHTML=y;const f=()=>{if(j++,t.show_progress_bar){var s=j/w*100,i=e.querySelector("#jspsych-loading-progress-bar");null!==i&&(i.style.width=s+"%")}},g=()=>{"undefined"!==typeof i&&!1===i&&(this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),s=!0,b())},_=()=>{this.jsPsych.pluginAPI.cancelPreloads(),"undefined"===typeof s||!1!==s&&null!==s||(i=!0,x<w&&(s=!1),P("timeout"),a.push("<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>"),t.continue_after_error?b():v())},v=()=>{this.jsPsych.pluginAPI.clearAllTimeouts(),this.jsPsych.pluginAPI.cancelPreloads(),e.innerHTML=t.error_message,t.show_detailed_errors&&(e.innerHTML+="<p><strong>Error details:</strong></p>",a.forEach((t=>{e.innerHTML+=t})))},b=()=>{var e={success:s,timeout:i,failed_images:n,failed_audio:r,failed_video:o};this.jsPsych.finishTrial(e)};null!==t.max_load_time&&this.jsPsych.pluginAPI.setTimeout(_,t.max_load_time);var w=u.length+c.length+d.length,j=0,x=0;if(0==w)g();else{const e=e=>{this.jsPsych.pluginAPI.preloadVideo(d,e,T,L)},t=e=>{this.jsPsych.pluginAPI.preloadAudio(c,e,T,L)},s=e=>{this.jsPsych.pluginAPI.preloadImages(u,e,T,L)};d.length>0&&e((()=>{})),c.length>0&&t((()=>{})),u.length>0&&s((()=>{}))}function L(e){f(),null==s&&(s=!1);var i="unknown file";e.source&&(i=e.source),e.error&&e.error.path&&e.error.path.length>0&&("img"==e.error.path[0].localName?n.push(i):"audio"==e.error.path[0].localName?r.push(i):"video"==e.error.path[0].localName&&o.push(i));var l="<p><strong>Error loading file: "+i+"</strong><br>";e.error.statusText&&(l+="File request response status: "+e.error.statusText+"<br>"),"404"==e.error&&(l+="404 - file not found.<br>"),"undefined"!==typeof e.error.loaded&&null!==e.error.loaded&&0!==e.error.loaded?l+=e.error.loaded+" bytes transferred.":l+="File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.",l+="</p>",a.push(l),P(i),j==w&&(t.continue_after_error?b():v())}function T(e){f(),k(e),x++,x==w?g():j==w&&(t.continue_after_error?b():v())}function P(e){null!==t.on_error&&t.on_error(e)}function k(e){null!==t.on_success&&t.on_success(e)}}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={success:!0,timeout:!1,failed_images:[],failed_audio:[],failed_video:[]},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return i}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.jsPsych.getDisplayElement();this.trial(i,e),s()}}o.info=r},6563:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-survey-html-form",version:"2.0.0",description:"a jspsych plugin for free html forms",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-survey-html-form"},author:"Jan Simson",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/survey-html-form",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"survey-html-form",version:n.version,parameters:{html:{type:i.QL.HTML_STRING,default:null},preamble:{type:i.QL.HTML_STRING,default:null},button_label:{type:i.QL.STRING,default:"Continue"},autofocus:{type:i.QL.STRING,default:""},dataAsArray:{type:i.QL.BOOL,default:!1},autocomplete:{type:i.QL.BOOL,default:!1}},data:{response:{type:i.QL.COMPLEX,nested:{identifier:{type:i.QL.STRING},response:{type:i.QL.STRING|i.QL.INT|i.QL.FLOAT|i.QL.BOOL|i.QL.OBJECT}}},rt:{type:i.QL.INT}}};class o{constructor(e){this.jsPsych=e}trial(e,t){var s="";if(null!==t.preamble&&(s+='<div id="jspsych-survey-html-form-preamble" class="jspsych-survey-html-form-preamble">'+t.preamble+"</div>"),t.autocomplete?s+='<form id="jspsych-survey-html-form">':s+='<form id="jspsych-survey-html-form" autocomplete="off">',s+=t.html,s+='<input type="submit" id="jspsych-survey-html-form-next" class="jspsych-btn jspsych-survey-html-form" value="'+t.button_label+'"></input>',s+="</form>",e.innerHTML=s,""!==t.autofocus){var i=e.querySelectorAll("#"+t.autofocus);0===i.length?console.warn("No element found with id: "+t.autofocus):i.length>1?console.warn('The id "'+t.autofocus+'" is not unique so autofocus will not work.'):i[0].focus()}e.querySelector("#jspsych-survey-html-form").addEventListener("submit",(s=>{s.preventDefault();var i=performance.now(),a=Math.round(i-n),l=e.querySelector("#jspsych-survey-html-form"),u=r(l);t.dataAsArray||(u=o(u));var c={rt:a,response:u};this.jsPsych.finishTrial(c)}));var n=performance.now();function r(e){for(var t=[],s=0;s<e.elements.length;s++){var i=e.elements[s];if(i.name&&!i.disabled&&"file"!==i.type&&"reset"!==i.type&&"submit"!==i.type&&"button"!==i.type)if("select-multiple"===i.type)for(var n=0;n<i.options.length;n++)i.options[n].selected&&t.push({name:i.name,value:i.options[n].value});else("checkbox"!==i.type&&"radio"!==i.type||i.checked)&&t.push({name:i.name,value:i.value})}return t}function o(e){for(var t={},s=0;s<e.length;s++)t[e[s]["name"]]=e[s]["value"];return t}}}o.info=r},3698:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-survey-likert",version:"2.0.0",description:"a jspsych plugin for measuring items on a likert scale",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-survey-likert"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/survey-likert",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"survey-likert",version:n.version,parameters:{questions:{type:i.QL.COMPLEX,array:!0,nested:{prompt:{type:i.QL.HTML_STRING,default:void 0},labels:{type:i.QL.STRING,array:!0,default:void 0},required:{type:i.QL.BOOL,default:!1},name:{type:i.QL.STRING,default:""}}},randomize_question_order:{type:i.QL.BOOL,default:!1},preamble:{type:i.QL.HTML_STRING,default:null},scale_width:{type:i.QL.INT,default:null},button_label:{type:i.QL.STRING,default:"Continue"},autocomplete:{type:i.QL.BOOL,default:!1}},data:{response:{type:i.QL.COMPLEX,nested:{identifier:{type:i.QL.STRING},response:{type:i.QL.STRING|i.QL.INT|i.QL.FLOAT|i.QL.BOOL|i.QL.OBJECT}}},rt:{type:i.QL.INT},question_order:{type:i.QL.INT,array:!0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){if(null!==t.scale_width)var s=t.scale_width+"px";else s="100%";var i="";i+='<style id="jspsych-survey-likert-css">',i+=".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:"+s+"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }",i+="</style>",null!==t.preamble&&(i+='<div id="jspsych-survey-likert-preamble" class="jspsych-survey-likert-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-likert-form">':i+='<form id="jspsych-survey-likert-form" autocomplete="off">';for(var n=[],r=0;r<t.questions.length;r++)n.push(r);t.randomize_question_order&&(n=this.jsPsych.randomization.shuffle(n));for(r=0;r<t.questions.length;r++){var o=t.questions[n[r]];i+='<label class="jspsych-survey-likert-statement">'+o.prompt+"</label>";for(var a=100/o.labels.length,l='<ul class="jspsych-survey-likert-opts" data-name="'+o.name+'" data-radio-group="Q'+n[r]+'">',u=0;u<o.labels.length;u++)l+='<li style="width:'+a+'%"><label class="jspsych-survey-likert-opt-label"><input type="radio" name="Q'+n[r]+'" value="'+u+'"',o.required&&(l+=" required"),l+=">"+o.labels[u]+"</label></li>";l+="</ul>",i+=l}i+='<input type="submit" id="jspsych-survey-likert-next" class="jspsych-survey-likert jspsych-btn" value="'+t.button_label+'"></input>',i+="</form>",e.innerHTML=i,e.querySelector("#jspsych-survey-likert-form").addEventListener("submit",(t=>{t.preventDefault();for(var s=performance.now(),i=Math.round(s-c),r={},o=e.querySelectorAll("#jspsych-survey-likert-form .jspsych-survey-likert-opts"),a=0;a<o.length;a++){var l=o[a].dataset["radioGroup"],u=e.querySelector('input[name="'+l+'"]:checked');if(null===u)var d="";else d=parseInt(u.value);var p={};if(""!==o[a].attributes["data-name"].value)var h=o[a].attributes["data-name"].value;else h=l;p[h]=d,Object.assign(r,p)}var m={rt:i,response:r,question_order:n};this.jsPsych.finishTrial(m)}));var c=performance.now()}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={};let i=1e3;for(const o of e.questions){const t=o.name?o.name:`Q${e.questions.indexOf(o)}`;s[t]=this.jsPsych.randomization.randomInt(0,o.labels.length-1),i+=this.jsPsych.randomization.sampleExGaussian(1500,400,.005,!0)}const n={response:s,rt:i,question_order:e.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(e.questions.length).keys()]):[...Array(e.questions.length).keys()]},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s();const r=Object.entries(i.response);for(let o=0;o<r.length;o++)this.jsPsych.pluginAPI.clickTarget(n.querySelector(`input[type="radio"][name="${r[o][0]}"][value="${r[o][1]}"]`),(i.rt-1e3)/r.length*(o+1));this.jsPsych.pluginAPI.clickTarget(n.querySelector("#jspsych-survey-likert-next"),i.rt)}}o.info=r},1208:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-survey-multi-choice",version:"2.0.0",description:"a jspsych plugin for multiple choice survey questions",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-survey-multi-choice"},author:"Shane Martin",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/survey-multi-choice",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"survey-multi-choice",version:n.version,parameters:{questions:{type:i.QL.COMPLEX,array:!0,nested:{prompt:{type:i.QL.HTML_STRING,default:void 0},options:{type:i.QL.STRING,array:!0,default:void 0},required:{type:i.QL.BOOL,default:!1},horizontal:{type:i.QL.BOOL,default:!1},name:{type:i.QL.STRING,default:""}}},randomize_question_order:{type:i.QL.BOOL,default:!1},preamble:{type:i.QL.HTML_STRING,default:null},button_label:{type:i.QL.STRING,default:"Continue"},autocomplete:{type:i.QL.BOOL,default:!1}},data:{response:{type:i.QL.COMPLEX,nested:{identifier:{type:i.QL.STRING},response:{type:i.QL.STRING|i.QL.INT|i.QL.FLOAT|i.QL.BOOL|i.QL.OBJECT}}},rt:{type:i.QL.INT},question_order:{type:i.QL.INT,array:!0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){var s="jspsych-survey-multi-choice",i="";i+='<style id="jspsych-survey-multi-choice-css">',i+=".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}",i+="</style>",null!==t.preamble&&(i+='<div id="jspsych-survey-multi-choice-preamble" class="jspsych-survey-multi-choice-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-multi-choice-form">':i+='<form id="jspsych-survey-multi-choice-form" autocomplete="off">';for(var n=[],r=0;r<t.questions.length;r++)n.push(r);t.randomize_question_order&&(n=this.jsPsych.randomization.shuffle(n));for(r=0;r<t.questions.length;r++){var o=t.questions[n[r]],a=n[r],l=["jspsych-survey-multi-choice-question"];o.horizontal&&l.push("jspsych-survey-multi-choice-horizontal"),i+='<div id="jspsych-survey-multi-choice-'+a+'" class="'+l.join(" ")+'"  data-name="'+o.name+'">',i+='<p class="jspsych-survey-multi-choice-text survey-multi-choice">'+o.prompt,o.required&&(i+="<span class='required'>*</span>"),i+="</p>";for(var u=0;u<o.options.length;u++){var c="jspsych-survey-multi-choice-option-"+a+"-"+u,d="jspsych-survey-multi-choice-response-"+a,p="jspsych-survey-multi-choice-response-"+a+"-"+u,h=o.required?"required":"";i+='<div id="'+c+'" class="jspsych-survey-multi-choice-option">',i+='<label class="jspsych-survey-multi-choice-text" for="'+p+'">',i+='<input type="radio" name="'+d+'" id="'+p+'" value="'+o.options[u]+'" '+h+"></input>",i+=o.options[u]+"</label>",i+="</div>"}i+="</div>"}i+='<input type="submit" id="'+s+'-next" class="'+s+' jspsych-btn"'+(t.button_label?' value="'+t.button_label+'"':"")+"></input>",i+="</form>",e.innerHTML=i,document.querySelector("form").addEventListener("submit",(s=>{s.preventDefault();for(var i=performance.now(),r=Math.round(i-m),o={},a=0;a<t.questions.length;a++){var l,u=e.querySelector("#jspsych-survey-multi-choice-"+a),c="Q"+a;l=null!==u.querySelector("input[type=radio]:checked")?u.querySelector("input[type=radio]:checked").value:"";var d={},p=c;""!==u.attributes["data-name"].value&&(p=u.attributes["data-name"].value),d[p]=l,Object.assign(o,d)}var h={rt:r,response:o,question_order:n};this.jsPsych.finishTrial(h)}));var m=performance.now()}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={};let i=1e3;for(const o of e.questions){const t=o.name?o.name:`Q${e.questions.indexOf(o)}`;s[t]=this.jsPsych.randomization.sampleWithoutReplacement(o.options,1)[0],i+=this.jsPsych.randomization.sampleExGaussian(1500,400,.005,!0)}const n={response:s,rt:i,question_order:e.randomize_question_order?this.jsPsych.randomization.shuffle([...Array(e.questions.length).keys()]):[...Array(e.questions.length).keys()]},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s();const r=Object.entries(i.response);for(let o=0;o<r.length;o++)this.jsPsych.pluginAPI.clickTarget(n.querySelector(`#jspsych-survey-multi-choice-response-${o}-${e.questions[o].options.indexOf(r[o][1])}`),(i.rt-1e3)/r.length*(o+1));this.jsPsych.pluginAPI.clickTarget(n.querySelector("#jspsych-survey-multi-choice-next"),i.rt)}}o.info=r},2356:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-survey-text",version:"2.0.0",description:"a jspsych plugin for free response survey questions",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-survey-text"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/survey-text",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"survey-text",version:n.version,parameters:{questions:{type:i.QL.COMPLEX,array:!0,default:void 0,nested:{prompt:{type:i.QL.HTML_STRING,default:void 0},placeholder:{type:i.QL.STRING,default:""},rows:{type:i.QL.INT,default:1},columns:{type:i.QL.INT,default:40},required:{type:i.QL.BOOL,default:!1},name:{type:i.QL.STRING,default:""}}},randomize_question_order:{type:i.QL.BOOL,default:!1},preamble:{type:i.QL.HTML_STRING,default:null},button_label:{type:i.QL.STRING,default:"Continue"},autocomplete:{type:i.QL.BOOL,default:!1}},data:{response:{type:i.QL.COMPLEX,nested:{identifier:{type:i.QL.STRING},response:{type:i.QL.STRING|i.QL.INT|i.QL.FLOAT|i.QL.BOOL|i.QL.OBJECT}}},rt:{type:i.QL.INT},question_order:{type:i.QL.INT,array:!0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){for(var s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].rows&&(t.questions[s].rows=1);for(s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].columns&&(t.questions[s].columns=40);for(s=0;s<t.questions.length;s++)"undefined"==typeof t.questions[s].value&&(t.questions[s].value="");var i="";null!==t.preamble&&(i+='<div id="jspsych-survey-text-preamble" class="jspsych-survey-text-preamble">'+t.preamble+"</div>"),t.autocomplete?i+='<form id="jspsych-survey-text-form">':i+='<form id="jspsych-survey-text-form" autocomplete="off">';var n=[];for(s=0;s<t.questions.length;s++)n.push(s);t.randomize_question_order&&(n=this.jsPsych.randomization.shuffle(n));for(s=0;s<t.questions.length;s++){var r=t.questions[n[s]],o=n[s];i+='<div id="jspsych-survey-text-'+o+'" class="jspsych-survey-text-question" style="margin: 2em 0em;">',i+='<p class="jspsych-survey-text">'+r.prompt+"</p>";var a=0==s?"autofocus":"",l=r.required?"required":"";1==r.rows?i+='<input type="text" id="input-'+o+'"  name="#jspsych-survey-text-response-'+o+'" data-name="'+r.name+'" size="'+r.columns+'" '+a+" "+l+' placeholder="'+r.placeholder+'"></input>':i+='<textarea id="input-'+o+'" name="#jspsych-survey-text-response-'+o+'" data-name="'+r.name+'" cols="'+r.columns+'" rows="'+r.rows+'" '+a+" "+l+' placeholder="'+r.placeholder+'"></textarea>',i+="</div>"}i+='<input type="submit" id="jspsych-survey-text-next" class="jspsych-btn jspsych-survey-text" value="'+t.button_label+'"></input>',i+="</form>",e.innerHTML=i,e.querySelector("#input-"+n[0]).focus(),e.querySelector("#jspsych-survey-text-form").addEventListener("submit",(e=>{e.preventDefault();for(var s=performance.now(),i=Math.round(s-u),n={},r=0;r<t.questions.length;r++){var o="Q"+r,a=document.querySelector("#jspsych-survey-text-"+r).querySelector("textarea, input"),l=a.value,c=a.attributes["data-name"].value;""==c&&(c=o);var d={};d[c]=l,Object.assign(n,d)}var p={rt:i,response:n};this.jsPsych.finishTrial(p)}));var u=performance.now()}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}create_simulation_data(e,t){const s={};let i=1e3;for(const o of e.questions){const t=o.name?o.name:`Q${e.questions.indexOf(o)}`,n=1==o.rows?this.jsPsych.randomization.sampleExponential(.25):this.jsPsych.randomization.randomInt(1,10)*o.rows;s[t]=this.jsPsych.randomization.randomWords({exactly:n,join:" "}),i+=this.jsPsych.randomization.sampleExGaussian(2e3,400,.004,!0)}const n={response:s,rt:i},r=this.jsPsych.pluginAPI.mergeSimulationData(n,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,r),r}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s();const r=Object.entries(i.response).map((e=>e[1]));for(let o=0;o<r.length;o++)this.jsPsych.pluginAPI.fillTextInput(n.querySelector(`#input-${o}`),r[o],(i.rt-1e3)/r.length*(o+1));this.jsPsych.pluginAPI.clickTarget(n.querySelector("#jspsych-survey-text-next"),i.rt)}}o.info=r},6098:function(e,t,s){s.d(t,{A:function(){return o}});var i=s(7299),n={name:"@jspsych/plugin-video-keyboard-response",version:"2.0.0",description:"jsPsych plugin for playing a video file and getting a keyboard response",type:"module",main:"dist/index.cjs",exports:{import:"./dist/index.js",require:"./dist/index.cjs"},typings:"dist/index.d.ts",unpkg:"dist/index.browser.min.js",files:["src","dist"],source:"src/index.ts",scripts:{test:"jest --passWithNoTests","test:watch":"npm test -- --watch",tsc:"tsc",build:"rollup --config","build:watch":"npm run build -- --watch"},repository:{type:"git",url:"git+https://github.com/jspsych/jsPsych.git",directory:"packages/plugin-video-keyboard-response"},author:"Josh de Leeuw",license:"MIT",bugs:{url:"https://github.com/jspsych/jsPsych/issues"},homepage:"https://www.jspsych.org/latest/plugins/video-keyboard-response",peerDependencies:{jspsych:">=7.1.0"},devDependencies:{"@jspsych/config":"^3.0.0","@jspsych/test-utils":"^1.2.0"}};const r={name:"video-keyboard-response",version:n.version,parameters:{stimulus:{type:i.QL.VIDEO,pretty_name:"Video",default:void 0,array:!0},choices:{type:i.QL.KEYS,pretty_name:"Choices",default:"ALL_KEYS"},prompt:{type:i.QL.HTML_STRING,pretty_name:"Prompt",default:null},width:{type:i.QL.INT,pretty_name:"Width",default:""},height:{type:i.QL.INT,pretty_name:"Height",default:""},autoplay:{type:i.QL.BOOL,pretty_name:"Autoplay",default:!0},controls:{type:i.QL.BOOL,pretty_name:"Controls",default:!1},start:{type:i.QL.FLOAT,pretty_name:"Start",default:null},stop:{type:i.QL.FLOAT,pretty_name:"Stop",default:null},rate:{type:i.QL.FLOAT,pretty_name:"Rate",default:1},trial_ends_after_video:{type:i.QL.BOOL,pretty_name:"End trial after video finishes",default:!1},trial_duration:{type:i.QL.INT,pretty_name:"Trial duration",default:null},response_ends_trial:{type:i.QL.BOOL,pretty_name:"Response ends trial",default:!0},response_allowed_while_playing:{type:i.QL.BOOL,pretty_name:"Response allowed while playing",default:!0}},data:{response:{type:i.QL.STRING},rt:{type:i.QL.INT},stimulus:{type:i.QL.STRING,array:!0}}};class o{constructor(e){this.jsPsych=e}trial(e,t){if(!Array.isArray(t.stimulus))throw new Error("\n        The stimulus property for the video-keyboard-response plugin must be an array\n        of files. See https://www.jspsych.org/latest/plugins/video-keyboard-response/#parameters\n      ");var s="<div>";s+='<video id="jspsych-video-keyboard-response-stimulus"',t.width&&(s+=' width="'+t.width+'"'),t.height&&(s+=' height="'+t.height+'"'),t.autoplay&&null==t.start&&(s+=" autoplay "),t.controls&&(s+=" controls "),null!==t.start&&(s+=' style="visibility: hidden;"'),s+=">";var i=this.jsPsych.pluginAPI.getVideoBuffer(t.stimulus[0]);if(!i)for(var n=0;n<t.stimulus.length;n++){var r=t.stimulus[n];r.indexOf("?")>-1&&(r=r.substring(0,r.indexOf("?")));var o=r.substr(r.lastIndexOf(".")+1);o=o.toLowerCase(),"mov"==o&&console.warn("Warning: video-keyboard-response plugin does not reliably support .mov files."),s+='<source src="'+r+'" type="video/'+o+'">'}s+="</video>",s+="</div>",null!==t.prompt&&(s+=t.prompt),e.innerHTML=s;var a=e.querySelector("#jspsych-video-keyboard-response-stimulus");i&&(a.src=i),a.onended=()=>{t.trial_ends_after_video&&c(),0!=t.response_allowed_while_playing||t.trial_ends_after_video||this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1})},a.playbackRate=t.rate,null!==t.start&&(a.pause(),a.onseeked=()=>{a.style.visibility="visible",a.muted=!1,t.autoplay?a.play():a.pause(),a.onseeked=()=>{}},a.onplaying=()=>{a.currentTime=t.start,a.onplaying=()=>{}},a.muted=!0,a.play());let l=!1;null!==t.stop&&a.addEventListener("timeupdate",(e=>{var s=a.currentTime;s>=t.stop&&(t.response_allowed_while_playing||this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),a.pause(),t.trial_ends_after_video&&!l&&(l=!0,c()))}));var u={rt:null,key:null};const c=()=>{this.jsPsych.pluginAPI.cancelAllKeyboardResponses(),e.querySelector("#jspsych-video-keyboard-response-stimulus").pause(),e.querySelector("#jspsych-video-keyboard-response-stimulus").onended=()=>{};var s={rt:u.rt,stimulus:t.stimulus,response:u.key};this.jsPsych.finishTrial(s)};var d=s=>{e.querySelector("#jspsych-video-keyboard-response-stimulus").className+=" responded",null==u.key&&(u=s),t.response_ends_trial&&c()};"NO_KEYS"!=t.choices&&t.response_allowed_while_playing&&this.jsPsych.pluginAPI.getKeyboardResponse({callback_function:d,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&this.jsPsych.pluginAPI.setTimeout(c,t.trial_duration)}simulate(e,t,s,i){"data-only"==t&&(i(),this.simulate_data_only(e,s)),"visual"==t&&this.simulate_visual(e,s,i)}simulate_data_only(e,t){const s=this.create_simulation_data(e,t);this.jsPsych.finishTrial(s)}simulate_visual(e,t,s){const i=this.create_simulation_data(e,t),n=this.jsPsych.getDisplayElement();this.trial(n,e),s();const r=n.querySelector("#jspsych-video-button-response-stimulus"),o=()=>{null!==i.rt&&this.jsPsych.pluginAPI.pressKey(i.response,i.rt)};e.response_allowed_while_playing?o():r.addEventListener("ended",o)}create_simulation_data(e,t){const s={stimulus:e.stimulus,rt:this.jsPsych.randomization.sampleExGaussian(500,50,1/150,!0),response:this.jsPsych.pluginAPI.getValidKey(e.choices)},i=this.jsPsych.pluginAPI.mergeSimulationData(s,t);return this.jsPsych.pluginAPI.ensureSimulationDataConsistency(e,i),i}}o.info=r},7299:function(e,t,s){function i(e,t,s,i){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?s(e.value):n(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))}s.d(t,{N3:function(){return Ie},QL:function(){return m}}),"function"===typeof SuppressedError&&SuppressedError;var n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}const o=e=>{const t=new Set;do{for(const s of Reflect.ownKeys(e))t.add([e,s])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t};var a=(e,{include:t,exclude:s}={})=>{const i=e=>{const i=t=>"string"===typeof t?e===t:t.test(e);return t?t.some(i):!s||!s.some(i)};for(const[n,r]of o(e.constructor.prototype)){if("constructor"===r||!i(r))continue;const t=Reflect.getOwnPropertyDescriptor(n,r);t&&"function"===typeof t.value&&(e[r]=e[r].bind(e))}return e},l=r(a),u="7.3.4";class c extends Error{constructor(e="The global `jsPsych` variable is no longer available in jsPsych v7."){super(`${e} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`),this.name="MigrationError"}}function d(e){return[...new Set(e)]}function p(e){if(!e)return e;let t;if(Array.isArray(e)){t=[];for(const s of e)t.push(p(s));return t}if("object"===typeof e&&null!==e){t={};for(const s in e)e.hasOwnProperty(s)&&(t[s]=p(e[s]));return t}return e}function h(e,t){let s={};for(const i in e)e.hasOwnProperty(i)&&("object"===typeof e[i]&&t.hasOwnProperty(i)?s[i]=h(e[i],t[i]):s[i]=e[i]);for(const i in t)t.hasOwnProperty(i)&&(s.hasOwnProperty(i)&&"object"===typeof t[i]?s[i]=h(s[i],t[i]):s[i]=t[i]);return s}window.jsPsych={get init(){throw new c("`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.")},get data(){throw new c},get randomization(){throw new c},get turk(){throw new c},get pluginAPI(){throw new c},get ALL_KEYS(){throw new c('jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.')},get NO_KEYS(){throw new c('jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.')}};var m,y=Object.freeze({__proto__:null,deepCopy:p,deepMerge:h,unique:d});class f{constructor(e=[]){this.values=e}sum(){let e=0;for(const t of this.values)e+=t;return e}mean(){return this.sum()/this.count()}median(){if(0===this.values.length)return;const e=this.values.slice(0).sort((function(e,t){return e-t})),t=Math.floor(e.length/2),s=e.length%2===0;return s?(e[t]+e[t-1])/2:e[t]}min(){return Math.min.apply(null,this.values)}max(){return Math.max.apply(null,this.values)}count(){return this.values.length}variance(){const e=this.mean();let t=0;for(const i of this.values)t+=Math.pow(i-e,2);const s=t/(this.values.length-1);return s}sd(){const e=this.variance(),t=Math.sqrt(e);return t}frequencies(){const e={};for(const t of this.values)"undefined"===typeof e[t]?e[t]=1:e[t]++;return e}all(e){for(const t of this.values)if(!e(t))return!1;return!0}subset(e){const t=[];for(const s of this.values)e(s)&&t.push(s);return new f(t)}}function g(e,t){const s=new Blob([e],{type:"text/plain"});let i="";i="undefined"!==typeof window.webkitURL?window.webkitURL.createObjectURL(s):window.URL.createObjectURL(s);const n=document.createElement("a");n.id="jspsych-download-as-text-link",n.style.display="none",n.download=t,n.href=i,n.click()}function _(e){const t="object"!=typeof e?JSON.parse(e):e;let s="",i="";const n=[];for(const r of t)for(const e in r){let t=e+"";t='"'+t.replace(/"/g,'""')+'",',n.includes(e)||(n.push(e),s+=t)}s=s.slice(0,-1),i+=s+"\r\n";for(const r of t){s="";for(const e of n){let t="undefined"===typeof r[e]?"":r[e];"object"==typeof t&&(t=JSON.stringify(t));const i=t+"";s+='"'+i.replace(/"/g,'""')+'",'}s=s.slice(0,-1),i+=s+"\r\n"}return i}function v(){const e=window.location.search.substr(1).split("&"),t={};for(let s=0;s<e.length;++s){const i=e[s].split("=",2);1==i.length?t[i[0]]="":t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}return t}class b{constructor(e=[]){this.trials=e}push(e){return this.trials.push(e),this}join(e){return this.trials=this.trials.concat(e.values()),this}top(){return this.trials.length<=1?this:new b([this.trials[this.trials.length-1]])}first(e=1){if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new b:(e>this.trials.length&&(e=this.trials.length),new b(this.trials.slice(0,e)))}last(e=1){if(e<1)throw"You must query with a positive nonzero integer. Please use a\n               different value for n.";return 0===this.trials.length?new b:(e>this.trials.length&&(e=this.trials.length),new b(this.trials.slice(this.trials.length-e,this.trials.length)))}values(){return this.trials}count(){return this.trials.length}readOnly(){return new b(p(this.trials))}addToAll(e){for(const t of this.trials)Object.assign(t,e);return this}addToLast(e){return 0!=this.trials.length&&Object.assign(this.trials[this.trials.length-1],e),this}filter(e){let t;t=Array.isArray(e)?p(e):p([e]);const s=[];for(const i of this.trials){let e=!1;for(const s of t){let t=!0;for(const e of Object.keys(s))"undefined"!==typeof i[e]&&i[e]===s[e]||(t=!1);if(t){e=!0;break}}e&&s.push(i)}return new b(s)}filterCustom(e){return new b(this.trials.filter(e))}filterColumns(e){return new b(this.trials.map((t=>Object.fromEntries(e.filter((e=>e in t)).map((e=>[e,t[e]]))))))}select(e){const t=[];for(const s of this.trials)"undefined"!==typeof s[e]&&t.push(s[e]);return new f(t)}ignore(e){Array.isArray(e)||(e=[e]);const t=p(this.trials);for(const s of t)for(const t of e)delete s[t];return new b(t)}uniqueNames(){const e=[];for(const t of this.trials)for(const s of Object.keys(t))e.includes(s)||e.push(s);return e}csv(){return _(this.trials)}json(e=!1){return e?JSON.stringify(this.trials,null,"\t"):JSON.stringify(this.trials)}localSave(e,t){let s;if(e=e.toLowerCase(),"json"===e)s=this.json();else{if("csv"!==e)throw new Error('Invalid format specified for localSave. Must be "json" or "csv".');s=this.csv()}g(s,t)}}class w{constructor(e){this.jsPsych=e,this.dataProperties={},this.reset()}reset(){this.allData=new b,this.interactionData=new b}get(){return this.allData}getInteractionData(){return this.interactionData}write(e){const t=this.jsPsych.getProgress(),s=this.jsPsych.getCurrentTrial(),i={trial_type:s.type.info.name,trial_index:t.current_trial_global,time_elapsed:this.jsPsych.getTotalTime(),internal_node_id:this.jsPsych.getCurrentTimelineNodeID()};this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({},e),s.data),i),this.dataProperties))}addProperties(e){this.allData.addToAll(e),this.dataProperties=Object.assign({},this.dataProperties,e)}addDataToLastTrial(e){this.allData.addToLast(e)}getDataByTimelineNode(e){return this.allData.filterCustom((t=>t.internal_node_id.slice(0,e.length)===e))}getLastTrialData(){return this.allData.top()}getLastTimelineData(){const e=this.getLastTrialData(),t=e.select("internal_node_id").values[0];if("undefined"===typeof t)return new b;{const e=t.substr(0,t.lastIndexOf("-")),s=this.getDataByTimelineNode(e);return s}}displayData(e="json"){e=e.toLowerCase(),"json"!=e&&"csv"!=e&&(console.log("Invalid format declared for displayData function. Using json as default."),e="json");const t="json"===e?this.allData.json(!0):this.allData.csv(),s=this.jsPsych.getDisplayElement();s.innerHTML='<pre id="jspsych-data-display"></pre>',document.getElementById("jspsych-data-display").textContent=t}urlVariables(){return"undefined"==typeof this.query_string&&(this.query_string=v()),this.query_string}getURLVariable(e){return this.urlVariables()[e]}createInteractionListeners(){window.addEventListener("blur",(()=>{const e={event:"blur",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)})),window.addEventListener("focus",(()=>{const e={event:"focus",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)}));const e=()=>{const e={event:document.isFullScreen||document.webkitIsFullScreen||document.mozIsFullScreen||document.fullscreenElement?"fullscreenenter":"fullscreenexit",trial:this.jsPsych.getProgress().current_trial_global,time:this.jsPsych.getTotalTime()};this.interactionData.push(e),this.jsPsych.getInitSettings().on_interaction_data_update(e)};document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("webkitfullscreenchange",e)}_customInsert(e){this.allData=new b(e)}_fullreset(){this.reset(),this.dataProperties={}}}class j{constructor(){this.hardwareConnected=!1,document.addEventListener("jspsych-activate",(e=>{this.hardwareConnected=!0}))}hardware(e){const t=new CustomEvent("jspsych",{detail:e});document.dispatchEvent(t)}}class x{constructor(e,t=!1,s=0){this.getRootElement=e,this.areResponsesCaseSensitive=t,this.minimumValidRt=s,this.listeners=new Set,this.heldKeys=new Set,this.areRootListenersRegistered=!1,l(this),this.registerRootListeners()}registerRootListeners(){if(!this.areRootListenersRegistered){const e=this.getRootElement();e&&(e.addEventListener("keydown",this.rootKeydownListener),e.addEventListener("keyup",this.rootKeyupListener),this.areRootListenersRegistered=!0)}}rootKeydownListener(e){for(const t of Array.from(this.listeners))t(e);this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key))}toLowerCaseIfInsensitive(e){return this.areResponsesCaseSensitive?e:e.toLowerCase()}rootKeyupListener(e){this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key))}isResponseValid(e,t,s){return!(!t&&this.heldKeys.has(s))&&("ALL_KEYS"===e||"NO_KEYS"!==e&&e.includes(s))}getKeyboardResponse({callback_function:e,valid_responses:t="ALL_KEYS",rt_method:s="performance",persist:i,audio_context:n,audio_context_start_time:r,allow_held_key:o=!1,minimum_valid_rt:a=this.minimumValidRt}){"performance"!==s&&"audio"!==s&&(console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to "performance" method.'),s="performance");const l="performance"===s,u=l?performance.now():1e3*r;this.registerRootListeners(),this.areResponsesCaseSensitive||"string"===typeof t||(t=t.map((e=>e.toLowerCase())));const c=r=>{const l=Math.round(("performance"==s?performance.now():1e3*n.currentTime)-u);if(l<a)return;const d=this.toLowerCaseIfInsensitive(r.key);this.isResponseValid(t,o,d)&&(r.preventDefault(),i||this.cancelKeyboardResponse(c),e({key:d,rt:l}))};return this.listeners.add(c),c}cancelKeyboardResponse(e){this.listeners.delete(e)}cancelAllKeyboardResponses(){this.listeners.clear()}compareKeys(e,t){if(!("string"!==typeof e&&null!==e||"string"!==typeof t&&null!==t))return"string"===typeof e&&"string"===typeof t?this.areResponsesCaseSensitive?e===t:e.toLowerCase()===t.toLowerCase():null===e&&null===t;console.error("Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.")}}(function(e){e[e["BOOL"]=0]="BOOL",e[e["STRING"]=1]="STRING",e[e["INT"]=2]="INT",e[e["FLOAT"]=3]="FLOAT",e[e["FUNCTION"]=4]="FUNCTION",e[e["KEY"]=5]="KEY",e[e["KEYS"]=6]="KEYS",e[e["SELECT"]=7]="SELECT",e[e["HTML_STRING"]=8]="HTML_STRING",e[e["IMAGE"]=9]="IMAGE",e[e["AUDIO"]=10]="AUDIO",e[e["VIDEO"]=11]="VIDEO",e[e["OBJECT"]=12]="OBJECT",e[e["COMPLEX"]=13]="COMPLEX",e[e["TIMELINE"]=14]="TIMELINE"})(m||(m={}));const L={data:{type:m.OBJECT,pretty_name:"Data",default:{}},on_start:{type:m.FUNCTION,pretty_name:"On start",default:function(){}},on_finish:{type:m.FUNCTION,pretty_name:"On finish",default:function(){}},on_load:{type:m.FUNCTION,pretty_name:"On load",default:function(){}},post_trial_gap:{type:m.INT,pretty_name:"Post trial gap",default:null},css_classes:{type:m.STRING,pretty_name:"Custom CSS classes",default:null},simulation_options:{type:m.COMPLEX,default:null}},T=[m.AUDIO,m.IMAGE,m.VIDEO];class P{constructor(e,t){this.useWebaudio=e,this.webaudioContext=t,this.video_buffers={},this.context=null,this.audio_buffers=[],this.preload_requests=[],this.img_cache={},this.preloadMap=new Map,this.microphone_recorder=null,this.camera_stream=null,this.camera_recorder=null}getVideoBuffer(e){return e.startsWith("blob:")&&(this.video_buffers[e]=e),this.video_buffers[e]}initAudio(){this.context=this.useWebaudio?this.webaudioContext:null}audioContext(){return null!==this.context&&"running"!==this.context.state&&this.context.resume(),this.context}getAudioBuffer(e){return new Promise(((t,s)=>{"undefined"==typeof this.audio_buffers[e]||"tmp"==this.audio_buffers[e]?this.preloadAudio([e],(()=>{t(this.audio_buffers[e])}),(()=>{}),(e=>{s(e.error)})):t(this.audio_buffers[e])}))}preloadAudio(e,t=()=>{},s=e=>{},i=e=>{}){e=d(e.flat());let n=0;if(0==e.length)return void t();const r=(r,o=1)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType="arraybuffer",a.onload=()=>{this.context.decodeAudioData(a.response,(i=>{this.audio_buffers[r]=i,n++,s(r),n==e.length&&t()}),(e=>{i({source:r,error:e})}))},a.onerror=e=>{let t=e;404==a.status&&(t="404"),i({source:r,error:t})},a.onloadend=e=>{404==a.status&&i({source:r,error:"404"})},a.send(),this.preload_requests.push(a)},o=(r,o=1)=>{const a=new Audio,l=()=>{this.audio_buffers[r]=a,n++,s(r),n==e.length&&t(),a.removeEventListener("canplaythrough",l)};a.addEventListener("canplaythrough",l),a.addEventListener("error",(function e(t){i({source:a.src,error:t}),a.removeEventListener("error",e)})),a.addEventListener("abort",(function e(t){i({source:a.src,error:t}),a.removeEventListener("abort",e)})),a.src=r,this.preload_requests.push(a)};for(const a of e)"undefined"!==typeof this.audio_buffers[a]?(n++,s(a),n==e.length&&t()):(this.audio_buffers[a]="tmp",null!==this.audioContext()?r(a):o(a))}preloadImages(e,t=()=>{},s=e=>{},i=e=>{}){e=d(e.flat());var n=0;if(0!==e.length)for(let r=0;r<e.length;r++){const o=new Image,a=e[r];o.onload=()=>{n++,s(a),n===e.length&&t()},o.onerror=e=>{i({source:a,error:e})},o.src=a,this.img_cache[a]=o,this.preload_requests.push(o)}else t()}preloadVideo(e,t=()=>{},s=e=>{},i=e=>{}){e=d(e.flat());let n=0;if(0!==e.length)for(const r of e){const o=this.video_buffers,a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType="blob",a.onload=()=>{if(200===a.status||0===a.status){const i=a.response;o[r]=URL.createObjectURL(i),n++,s(r),n===e.length&&t()}},a.onerror=e=>{let t=e;404==a.status&&(t="404"),i({source:r,error:t})},a.onloadend=e=>{404==a.status&&i({source:r,error:"404"})},a.send(),this.preload_requests.push(a)}else t()}getAutoPreloadList(e){const t=Object.fromEntries(T.map((e=>[e,new Set]))),s=(e,i)=>{var n,r,o,a;const l="undefined"!==typeof e.timeline;if(l)for(const t of e.timeline)s(t,null!==(n=e.type)&&void 0!==n?n:i);else if(null===(o=null!==(r=e.type)&&void 0!==r?r:i)||void 0===o?void 0:o.info){const{name:s,parameters:n}=(null!==(a=e.type)&&void 0!==a?a:i).info;this.preloadMap.has(s)||this.preloadMap.set(s,Object.fromEntries(Object.entries(n).filter((([e,{type:t,preload:s}])=>T.includes(t)&&(null===s||void 0===s||s))).map((([e,{type:t}])=>[e,t]))));for(const[i,r]of Object.entries(this.preloadMap.get(s))){const s=e[i],n=t[r];if("string"===typeof s)n.add(s);else if(Array.isArray(s))for(const e of s.flat())"string"===typeof e&&n.add(e)}}};return s({timeline:e}),{images:[...t[m.IMAGE]],audio:[...t[m.AUDIO]],video:[...t[m.VIDEO]]}}cancelPreloads(){for(const e of this.preload_requests)e.onload=()=>{},e.onerror=()=>{},e.oncanplaythrough=()=>{},e.onabort=()=>{};this.preload_requests=[]}initializeMicrophoneRecorder(e){const t=new MediaRecorder(e);this.microphone_recorder=t}getMicrophoneRecorder(){return this.microphone_recorder}initializeCameraRecorder(e,t){this.camera_stream=e;const s=new MediaRecorder(e,t);this.camera_recorder=s}getCameraStream(){return this.camera_stream}getCameraRecorder(){return this.camera_recorder}}class k{constructor(e,t){this.getDisplayContainerElement=e,this.setJsPsychTimeout=t}dispatchEvent(e){this.getDisplayContainerElement().dispatchEvent(e)}keyDown(e){this.dispatchEvent(new KeyboardEvent("keydown",{key:e}))}keyUp(e){this.dispatchEvent(new KeyboardEvent("keyup",{key:e}))}pressKey(e,t=0){t>0?this.setJsPsychTimeout((()=>{this.keyDown(e),this.keyUp(e)}),t):(this.keyDown(e),this.keyUp(e))}clickTarget(e,t=0){t>0?this.setJsPsychTimeout((()=>{e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}),t):(e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}fillTextInput(e,t,s=0){s>0?this.setJsPsychTimeout((()=>{e.value=t}),s):e.value=t}getValidKey(e){const t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"," "];let s;if("NO_KEYS"==e)s=null;else if("ALL_KEYS"==e)s=t[Math.floor(Math.random()*t.length)];else{const t=e.flat();s=t[Math.floor(Math.random()*t.length)]}return s}mergeSimulationData(e,t){return Object.assign(Object.assign({},e),null===t||void 0===t?void 0:t.data)}ensureSimulationDataConsistency(e,t){if(t.rt&&(t.rt=Math.round(t.rt)),e.trial_duration&&t.rt&&t.rt>e.trial_duration&&(t.rt=null,t.response&&(t.response=null),t.correct&&(t.correct=!1)),e.choices&&"NO_KEYS"==e.choices&&(t.rt&&(t.rt=null),t.response&&(t.response=null)),e.allow_response_before_complete&&e.sequence_reps&&e.frame_time){const s=e.sequence_reps*e.frame_time*e.stimuli.length;t.rt<s&&(t.rt=null,t.response=null)}}}class I{constructor(){this.timeout_handlers=[]}setTimeout(e,t){const s=window.setTimeout(e,t);return this.timeout_handlers.push(s),s}clearAllTimeouts(){for(const e of this.timeout_handlers)clearTimeout(e);this.timeout_handlers=[]}}function O(e){const t=e.getInitSettings(),s=l(new x(e.getDisplayContainerElement,t.case_sensitive_responses,t.minimum_valid_rt)),i=l(new I),n=l(new P(t.use_webaudio,e.webaudio_context)),r=l(new j),o=l(new k(e.getDisplayContainerElement,i.setTimeout));return Object.assign({},s,i,n,r,o)}var A={exports:{}};A.exports,function(e){(function(e,t,s){function i(e){var t=this,s=o();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=s(" "),t.s1=s(" "),t.s2=s(" "),t.s0-=s(e),t.s0<0&&(t.s0+=1),t.s1-=s(e),t.s1<0&&(t.s1+=1),t.s2-=s(e),t.s2<0&&(t.s2+=1),s=null}function n(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function r(e,t){var s=new i(e),r=t&&t.state,o=s.next;return o.int32=function(){return 4294967296*s.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&n(r,s),o.state=function(){return n(s,{})}),o}function o(){var e=4022871197,t=function(t){t=String(t);for(var s=0;s<t.length;s++){e+=t.charCodeAt(s);var i=.02519603282416938*e;e=i>>>0,i-=e,i*=e,e=i>>>0,i-=e,e+=4294967296*i}return 2.3283064365386963e-10*(e>>>0)};return t}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.alea=r})(0,e,!1)}(A);var S=A.exports,E=r(S),N={exports:{}};N.exports,function(e){(function(e,t,s){function i(e){var t=this,s="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:s+=e;for(var i=0;i<s.length+64;i++)t.x^=0|s.charCodeAt(i),t.next()}function n(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function r(e,t){var s=new i(e),r=t&&t.state,o=function(){return(s.next()>>>0)/4294967296};return o.double=function(){do{var e=s.next()>>>11,t=(s.next()>>>0)/4294967296,i=(e+t)/(1<<21)}while(0===i);return i},o.int32=s.next,o.quick=o,r&&("object"==typeof r&&n(r,s),o.state=function(){return n(s,{})}),o}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.xor128=r})(0,e,!1)}(N);var q=N.exports,M={exports:{}};M.exports,function(e){(function(e,t,s){function i(e){var t=this,s="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:s+=e;for(var i=0;i<s.length+64;i++)t.x^=0|s.charCodeAt(i),i==s.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function n(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function r(e,t){var s=new i(e),r=t&&t.state,o=function(){return(s.next()>>>0)/4294967296};return o.double=function(){do{var e=s.next()>>>11,t=(s.next()>>>0)/4294967296,i=(e+t)/(1<<21)}while(0===i);return i},o.int32=s.next,o.quick=o,r&&("object"==typeof r&&n(r,s),o.state=function(){return n(s,{})}),o}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.xorwow=r})(0,e,!1)}(M);var D=M.exports,Q={exports:{}};Q.exports,function(e){(function(e,t,s){function i(e){var t=this;function s(e,t){var s,i=[];if(t===(0|t))i[0]=t;else for(t=""+t,s=0;s<t.length;++s)i[7&s]=i[7&s]<<15^t.charCodeAt(s)+i[s+1&7]<<13;while(i.length<8)i.push(0);for(s=0;s<8&&0===i[s];++s);for(8==s?i[7]=-1:i[s],e.x=i,e.i=0,s=256;s>0;--s)e.next()}t.next=function(){var e,s,i=t.x,n=t.i;return e=i[n],e^=e>>>7,s=e^e<<24,e=i[n+1&7],s^=e^e>>>10,e=i[n+3&7],s^=e^e>>>3,e=i[n+4&7],s^=e^e<<7,e=i[n+7&7],e^=e<<13,s^=e^e<<9,i[n]=s,t.i=n+1&7,s},s(t,e)}function n(e,t){return t.x=e.x.slice(),t.i=e.i,t}function r(e,t){null==e&&(e=+new Date);var s=new i(e),r=t&&t.state,o=function(){return(s.next()>>>0)/4294967296};return o.double=function(){do{var e=s.next()>>>11,t=(s.next()>>>0)/4294967296,i=(e+t)/(1<<21)}while(0===i);return i},o.int32=s.next,o.quick=o,r&&(r.x&&n(r,s),o.state=function(){return n(s,{})}),o}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.xorshift7=r})(0,e,!1)}(Q);var C=Q.exports,R={exports:{}};R.exports,function(e){(function(e,t,s){function i(e){var t=this;function s(e,t){var s,i,n,r,o,a=[],l=128;for(t===(0|t)?(i=t,t=null):(t+="\0",i=0,l=Math.max(l,t.length)),n=0,r=-32;r<l;++r)t&&(i^=t.charCodeAt((r+32)%t.length)),0===r&&(o=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,r>=0&&(o=o+1640531527|0,s=a[127&r]^=i+o,n=0==s?n+1:0);for(n>=128&&(a[127&(t&&t.length||0)]=-1),n=127,r=512;r>0;--r)i=a[n+34&127],s=a[n=n+1&127],i^=i<<13,s^=s<<17,i^=i>>>15,s^=s>>>12,a[n]=i^s;e.w=o,e.X=a,e.i=n}t.next=function(){var e,s,i=t.w,n=t.X,r=t.i;return t.w=i=i+1640531527|0,s=n[r+34&127],e=n[r=r+1&127],s^=s<<13,e^=e<<17,s^=s>>>15,e^=e>>>12,s=n[r]=s^e,t.i=r,s+(i^i>>>16)|0},s(t,e)}function n(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function r(e,t){null==e&&(e=+new Date);var s=new i(e),r=t&&t.state,o=function(){return(s.next()>>>0)/4294967296};return o.double=function(){do{var e=s.next()>>>11,t=(s.next()>>>0)/4294967296,i=(e+t)/(1<<21)}while(0===i);return i},o.int32=s.next,o.quick=o,r&&(r.X&&n(r,s),o.state=function(){return n(s,{})}),o}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.xor4096=r})(0,e,!1)}(R);var z=R.exports,G={exports:{}};G.exports,function(e){(function(e,t,s){function i(e){var t=this,s="";t.next=function(){var e=t.b,s=t.c,i=t.d,n=t.a;return e=e<<25^e>>>7^s,s=s-i|0,i=i<<24^i>>>8^n,n=n-e|0,t.b=e=e<<20^e>>>12^s,t.c=s=s-i|0,t.d=i<<16^s>>>16^n,t.a=n-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):s+=e;for(var i=0;i<s.length+20;i++)t.b^=0|s.charCodeAt(i),t.next()}function n(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function r(e,t){var s=new i(e),r=t&&t.state,o=function(){return(s.next()>>>0)/4294967296};return o.double=function(){do{var e=s.next()>>>11,t=(s.next()>>>0)/4294967296,i=(e+t)/(1<<21)}while(0===i);return i},o.int32=s.next,o.quick=o,r&&("object"==typeof r&&n(r,s),o.state=function(){return n(s,{})}),o}t&&t.exports?t.exports=r:s&&s.amd?s((function(){return r})):this.tychei=r})(0,e,!1)}(G);var V=G.exports,K={exports:{}};(function(e){(function(t,s,i){var n,r=256,o=6,a=52,l="random",u=i.pow(r,o),c=i.pow(2,a),d=2*c,p=r-1;function h(e,t,n){var a=[];t=1==t?{entropy:!0}:t||{};var p=g(f(t.entropy?[e,v(s)]:null==e?_():e,3),a),h=new m(a),b=function(){var e=h.g(o),t=u,s=0;while(e<c)e=(e+s)*r,t*=r,s=h.g(1);while(e>=d)e/=2,t/=2,s>>>=1;return(e+s)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,g(v(h.S),s),(t.pass||n||function(e,t,s,n){return n&&(n.S&&y(n,h),e.state=function(){return y(h,{})}),s?(i[l]=e,t):e})(b,p,"global"in t?t.global:this==i,t.state)}function m(e){var t,s=e.length,i=this,n=0,o=i.i=i.j=0,a=i.S=[];s||(e=[s++]);while(n<r)a[n]=n++;for(n=0;n<r;n++)a[n]=a[o=p&o+e[n%s]+(t=a[n])],a[o]=t;(i.g=function(e){var t,s=0,n=i.i,o=i.j,a=i.S;while(e--)t=a[n=p&n+1],s=s*r+a[p&(a[n]=a[o=p&o+t])+(a[o]=t)];return i.i=n,i.j=o,s})(r)}function y(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function f(e,t){var s,i=[],n=typeof e;if(t&&"object"==n)for(s in e)try{i.push(f(e[s],t-1))}catch(r){}return i.length?i:"string"==n?e:e+"\0"}function g(e,t){var s,i=e+"",n=0;while(n<i.length)t[p&n]=p&(s^=19*t[p&n])+i.charCodeAt(n++);return v(t)}function _(){try{var e;return n&&(e=n.randomBytes)?e=e(r):(e=new Uint8Array(r),(t.crypto||t.msCrypto).getRandomValues(e)),v(e)}catch(a){var i=t.navigator,o=i&&i.plugins;return[+new Date,t,o,t.screen,v(s)]}}function v(e){return String.fromCharCode.apply(0,e)}if(g(i.random(),s),e.exports){e.exports=h;try{n=require("crypto")}catch(b){}}else i["seed"+l]=h})("undefined"!==typeof self?self:n,[],Math)})(K);var B=K.exports,H=S,F=q,U=D,Y=C,J=z,W=V,$=B;$.alea=H,$.xor128=F,$.xorwow=U,$.xorshift7=Y,$.xor4096=J,$.tychei=W;var X=$,Z=X,ee=["ability","able","aboard","about","above","accept","accident","according","account","accurate","acres","across","act","action","active","activity","actual","actually","add","addition","additional","adjective","adult","adventure","advice","affect","afraid","after","afternoon","again","against","age","ago","agree","ahead","aid","air","airplane","alike","alive","all","allow","almost","alone","along","aloud","alphabet","already","also","although","am","among","amount","ancient","angle","angry","animal","announced","another","answer","ants","any","anybody","anyone","anything","anyway","anywhere","apart","apartment","appearance","apple","applied","appropriate","are","area","arm","army","around","arrange","arrangement","arrive","arrow","art","article","as","aside","ask","asleep","at","ate","atmosphere","atom","atomic","attached","attack","attempt","attention","audience","author","automobile","available","average","avoid","aware","away","baby","back","bad","badly","bag","balance","ball","balloon","band","bank","bar","bare","bark","barn","base","baseball","basic","basis","basket","bat","battle","be","bean","bear","beat","beautiful","beauty","became","because","become","becoming","bee","been","before","began","beginning","begun","behavior","behind","being","believed","bell","belong","below","belt","bend","beneath","bent","beside","best","bet","better","between","beyond","bicycle","bigger","biggest","bill","birds","birth","birthday","bit","bite","black","blank","blanket","blew","blind","block","blood","blow","blue","board","boat","body","bone","book","border","born","both","bottle","bottom","bound","bow","bowl","box","boy","brain","branch","brass","brave","bread","break","breakfast","breath","breathe","breathing","breeze","brick","bridge","brief","bright","bring","broad","broke","broken","brother","brought","brown","brush","buffalo","build","building","built","buried","burn","burst","bus","bush","business","busy","but","butter","buy","by","cabin","cage","cake","call","calm","came","camera","camp","can","canal","cannot","cap","capital","captain","captured","car","carbon","card","care","careful","carefully","carried","carry","case","cast","castle","cat","catch","cattle","caught","cause","cave","cell","cent","center","central","century","certain","certainly","chain","chair","chamber","chance","change","changing","chapter","character","characteristic","charge","chart","check","cheese","chemical","chest","chicken","chief","child","children","choice","choose","chose","chosen","church","circle","circus","citizen","city","class","classroom","claws","clay","clean","clear","clearly","climate","climb","clock","close","closely","closer","cloth","clothes","clothing","cloud","club","coach","coal","coast","coat","coffee","cold","collect","college","colony","color","column","combination","combine","come","comfortable","coming","command","common","community","company","compare","compass","complete","completely","complex","composed","composition","compound","concerned","condition","congress","connected","consider","consist","consonant","constantly","construction","contain","continent","continued","contrast","control","conversation","cook","cookies","cool","copper","copy","corn","corner","correct","correctly","cost","cotton","could","count","country","couple","courage","course","court","cover","cow","cowboy","crack","cream","create","creature","crew","crop","cross","crowd","cry","cup","curious","current","curve","customs","cut","cutting","daily","damage","dance","danger","dangerous","dark","darkness","date","daughter","dawn","day","dead","deal","dear","death","decide","declared","deep","deeply","deer","definition","degree","depend","depth","describe","desert","design","desk","detail","determine","develop","development","diagram","diameter","did","die","differ","difference","different","difficult","difficulty","dig","dinner","direct","direction","directly","dirt","dirty","disappear","discover","discovery","discuss","discussion","disease","dish","distance","distant","divide","division","do","doctor","does","dog","doing","doll","dollar","done","donkey","door","dot","double","doubt","down","dozen","draw","drawn","dream","dress","drew","dried","drink","drive","driven","driver","driving","drop","dropped","drove","dry","duck","due","dug","dull","during","dust","duty","each","eager","ear","earlier","early","earn","earth","easier","easily","east","easy","eat","eaten","edge","education","effect","effort","egg","eight","either","electric","electricity","element","elephant","eleven","else","empty","end","enemy","energy","engine","engineer","enjoy","enough","enter","entire","entirely","environment","equal","equally","equator","equipment","escape","especially","essential","establish","even","evening","event","eventually","ever","every","everybody","everyone","everything","everywhere","evidence","exact","exactly","examine","example","excellent","except","exchange","excited","excitement","exciting","exclaimed","exercise","exist","expect","experience","experiment","explain","explanation","explore","express","expression","extra","eye","face","facing","fact","factor","factory","failed","fair","fairly","fall","fallen","familiar","family","famous","far","farm","farmer","farther","fast","fastened","faster","fat","father","favorite","fear","feathers","feature","fed","feed","feel","feet","fell","fellow","felt","fence","few","fewer","field","fierce","fifteen","fifth","fifty","fight","fighting","figure","fill","film","final","finally","find","fine","finest","finger","finish","fire","fireplace","firm","first","fish","five","fix","flag","flame","flat","flew","flies","flight","floating","floor","flow","flower","fly","fog","folks","follow","food","foot","football","for","force","foreign","forest","forget","forgot","forgotten","form","former","fort","forth","forty","forward","fought","found","four","fourth","fox","frame","free","freedom","frequently","fresh","friend","friendly","frighten","frog","from","front","frozen","fruit","fuel","full","fully","fun","function","funny","fur","furniture","further","future","gain","game","garage","garden","gas","gasoline","gate","gather","gave","general","generally","gentle","gently","get","getting","giant","gift","girl","give","given","giving","glad","glass","globe","go","goes","gold","golden","gone","good","goose","got","government","grabbed","grade","gradually","grain","grandfather","grandmother","graph","grass","gravity","gray","great","greater","greatest","greatly","green","grew","ground","group","grow","grown","growth","guard","guess","guide","gulf","gun","habit","had","hair","half","halfway","hall","hand","handle","handsome","hang","happen","happened","happily","happy","harbor","hard","harder","hardly","has","hat","have","having","hay","he","headed","heading","health","heard","hearing","heart","heat","heavy","height","held","hello","help","helpful","her","herd","here","herself","hidden","hide","high","higher","highest","highway","hill","him","himself","his","history","hit","hold","hole","hollow","home","honor","hope","horn","horse","hospital","hot","hour","house","how","however","huge","human","hundred","hung","hungry","hunt","hunter","hurried","hurry","hurt","husband","ice","idea","identity","if","ill","image","imagine","immediately","importance","important","impossible","improve","in","inch","include","including","income","increase","indeed","independent","indicate","individual","industrial","industry","influence","information","inside","instance","instant","instead","instrument","interest","interior","into","introduced","invented","involved","iron","is","island","it","its","itself","jack","jar","jet","job","join","joined","journey","joy","judge","jump","jungle","just","keep","kept","key","kids","kill","kind","kitchen","knew","knife","know","knowledge","known","label","labor","lack","lady","laid","lake","lamp","land","language","large","larger","largest","last","late","later","laugh","law","lay","layers","lead","leader","leaf","learn","least","leather","leave","leaving","led","left","leg","length","lesson","let","letter","level","library","lie","life","lift","light","like","likely","limited","line","lion","lips","liquid","list","listen","little","live","living","load","local","locate","location","log","lonely","long","longer","look","loose","lose","loss","lost","lot","loud","love","lovely","low","lower","luck","lucky","lunch","lungs","lying","machine","machinery","mad","made","magic","magnet","mail","main","mainly","major","make","making","man","managed","manner","manufacturing","many","map","mark","market","married","mass","massage","master","material","mathematics","matter","may","maybe","me","meal","mean","means","meant","measure","meat","medicine","meet","melted","member","memory","men","mental","merely","met","metal","method","mice","middle","might","mighty","mile","military","milk","mill","mind","mine","minerals","minute","mirror","missing","mission","mistake","mix","mixture","model","modern","molecular","moment","money","monkey","month","mood","moon","more","morning","most","mostly","mother","motion","motor","mountain","mouse","mouth","move","movement","movie","moving","mud","muscle","music","musical","must","my","myself","mysterious","nails","name","nation","national","native","natural","naturally","nature","near","nearby","nearer","nearest","nearly","necessary","neck","needed","needle","needs","negative","neighbor","neighborhood","nervous","nest","never","new","news","newspaper","next","nice","night","nine","no","nobody","nodded","noise","none","noon","nor","north","nose","not","note","noted","nothing","notice","noun","now","number","numeral","nuts","object","observe","obtain","occasionally","occur","ocean","of","off","offer","office","officer","official","oil","old","older","oldest","on","once","one","only","onto","open","operation","opinion","opportunity","opposite","or","orange","orbit","order","ordinary","organization","organized","origin","original","other","ought","our","ourselves","out","outer","outline","outside","over","own","owner","oxygen","pack","package","page","paid","pain","paint","pair","palace","pale","pan","paper","paragraph","parallel","parent","park","part","particles","particular","particularly","partly","parts","party","pass","passage","past","path","pattern","pay","peace","pen","pencil","people","per","percent","perfect","perfectly","perhaps","period","person","personal","pet","phrase","physical","piano","pick","picture","pictured","pie","piece","pig","pile","pilot","pine","pink","pipe","pitch","place","plain","plan","plane","planet","planned","planning","plant","plastic","plate","plates","play","pleasant","please","pleasure","plenty","plural","plus","pocket","poem","poet","poetry","point","pole","police","policeman","political","pond","pony","pool","poor","popular","population","porch","port","position","positive","possible","possibly","post","pot","potatoes","pound","pour","powder","power","powerful","practical","practice","prepare","present","president","press","pressure","pretty","prevent","previous","price","pride","primitive","principal","principle","printed","private","prize","probably","problem","process","produce","product","production","program","progress","promised","proper","properly","property","protection","proud","prove","provide","public","pull","pupil","pure","purple","purpose","push","put","putting","quarter","queen","question","quick","quickly","quiet","quietly","quite","rabbit","race","radio","railroad","rain","raise","ran","ranch","range","rapidly","rate","rather","raw","rays","reach","read","reader","ready","real","realize","rear","reason","recall","receive","recent","recently","recognize","record","red","refer","refused","region","regular","related","relationship","religious","remain","remarkable","remember","remove","repeat","replace","replied","report","represent","require","research","respect","rest","result","return","review","rhyme","rhythm","rice","rich","ride","riding","right","ring","rise","rising","river","road","roar","rock","rocket","rocky","rod","roll","roof","room","root","rope","rose","rough","round","route","row","rubbed","rubber","rule","ruler","run","running","rush","sad","saddle","safe","safety","said","sail","sale","salmon","salt","same","sand","sang","sat","satellites","satisfied","save","saved","saw","say","scale","scared","scene","school","science","scientific","scientist","score","screen","sea","search","season","seat","second","secret","section","see","seed","seeing","seems","seen","seldom","select","selection","sell","send","sense","sent","sentence","separate","series","serious","serve","service","sets","setting","settle","settlers","seven","several","shade","shadow","shake","shaking","shall","shallow","shape","share","sharp","she","sheep","sheet","shelf","shells","shelter","shine","shinning","ship","shirt","shoe","shoot","shop","shore","short","shorter","shot","should","shoulder","shout","show","shown","shut","sick","sides","sight","sign","signal","silence","silent","silk","silly","silver","similar","simple","simplest","simply","since","sing","single","sink","sister","sit","sitting","situation","six","size","skill","skin","sky","slabs","slave","sleep","slept","slide","slight","slightly","slip","slipped","slope","slow","slowly","small","smaller","smallest","smell","smile","smoke","smooth","snake","snow","so","soap","social","society","soft","softly","soil","solar","sold","soldier","solid","solution","solve","some","somebody","somehow","someone","something","sometime","somewhere","son","song","soon","sort","sound","source","south","southern","space","speak","special","species","specific","speech","speed","spell","spend","spent","spider","spin","spirit","spite","split","spoken","sport","spread","spring","square","stage","stairs","stand","standard","star","stared","start","state","statement","station","stay","steady","steam","steel","steep","stems","step","stepped","stick","stiff","still","stock","stomach","stone","stood","stop","stopped","store","storm","story","stove","straight","strange","stranger","straw","stream","street","strength","stretch","strike","string","strip","strong","stronger","struck","structure","struggle","stuck","student","studied","studying","subject","substance","success","successful","such","sudden","suddenly","sugar","suggest","suit","sum","summer","sun","sunlight","supper","supply","support","suppose","sure","surface","surprise","surrounded","swam","sweet","swept","swim","swimming","swing","swung","syllable","symbol","system","table","tail","take","taken","tales","talk","tall","tank","tape","task","taste","taught","tax","tea","teach","teacher","team","tears","teeth","telephone","television","tell","temperature","ten","tent","term","terrible","test","than","thank","that","thee","them","themselves","then","theory","there","therefore","these","they","thick","thin","thing","think","third","thirty","this","those","thou","though","thought","thousand","thread","three","threw","throat","through","throughout","throw","thrown","thumb","thus","thy","tide","tie","tight","tightly","till","time","tin","tiny","tip","tired","title","to","tobacco","today","together","told","tomorrow","tone","tongue","tonight","too","took","tool","top","topic","torn","total","touch","toward","tower","town","toy","trace","track","trade","traffic","trail","train","transportation","trap","travel","treated","tree","triangle","tribe","trick","tried","trip","troops","tropical","trouble","truck","trunk","truth","try","tube","tune","turn","twelve","twenty","twice","two","type","typical","uncle","under","underline","understanding","unhappy","union","unit","universe","unknown","unless","until","unusual","up","upon","upper","upward","us","use","useful","using","usual","usually","valley","valuable","value","vapor","variety","various","vast","vegetable","verb","vertical","very","vessels","victory","view","village","visit","visitor","voice","volume","vote","vowel","voyage","wagon","wait","walk","wall","want","war","warm","warn","was","wash","waste","watch","water","wave","way","we","weak","wealth","wear","weather","week","weigh","weight","welcome","well","went","were","west","western","wet","whale","what","whatever","wheat","wheel","when","whenever","where","wherever","whether","which","while","whispered","whistle","white","who","whole","whom","whose","why","wide","widely","wife","wild","will","willing","win","wind","window","wing","winter","wire","wise","wish","with","within","without","wolf","women","won","wonder","wonderful","wood","wooden","wool","word","wore","work","worker","world","worried","worry","worse","worth","would","wrapped","write","writer","writing","written","wrong","wrote","yard","year","yellow","yes","yesterday","yet","you","young","younger","your","yourself","youth","zero","zebra","zipper","zoo","zulu"];function te(e){const t=e?.seed?new Z(e.seed):null;function s(){return e&&e.maxLength>1?i():n()}function i(){var t,s=!1;while(!s)t=n(),t.length<=e.maxLength&&(s=!0);return t}function n(){return ee[r(ee.length)]}function r(e){const s=t?t():Math.random();return Math.floor(s*e)}if("undefined"===typeof e)return s();"number"===typeof e&&(e={exactly:e}),e.exactly&&(e.min=e.exactly,e.max=e.exactly),"number"!==typeof e.wordsPerString&&(e.wordsPerString=1),"function"!==typeof e.formatter&&(e.formatter=e=>e),"string"!==typeof e.separator&&(e.separator=" ");for(var o=e.min+r(e.max+1-e.min),a=[],l="",u=0,c=0;c<o*e.wordsPerString;c++)u===e.wordsPerString-1?l+=e.formatter(s(),u):l+=e.formatter(s(),u)+e.separator,u++,(c+1)%e.wordsPerString===0&&(a.push(l),l="",u=0);return"string"===typeof e.join&&(a=a.join(e.join)),a}var se=te;te.wordList=ee;var ie=r(se);function ne(e=Math.random().toString()){return Math.random=E(e),e}function re(e,t,s=!1){const i=Array.isArray(e),n=Array.isArray(t);if(i)if(n){if(e.length!=t.length)if(console.warn("Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected."),t.length<e.length){let s=[];for(let i=0;i<e.length;i++)s.push(t);t=s}else t=t.slice(0,e.length)}else{let s=[];for(let i=0;i<e.length;i++)s.push(t);t=s}else n?(t=[t[0]],console.log("Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.")):(e=[e],t=[t]);let r=[];for(let a=0;a<e.length;a++)for(let s=0;s<t[a];s++)null==e[a]||"object"!=typeof e[a]?r.push(e[a]):r.push(Object.assign({},e[a]));let o=oe(r);return s&&(o=be(o)),o}function oe(e){Array.isArray(e)||console.error("Argument to shuffle() must be an array.");const t=e.slice(0);let s,i,n=t.length;while(n)i=Math.floor(Math.random()*n--),s=t[n],t[n]=t[i],t[i]=s;return t}function ae(e,t){Array.isArray(e)||console.error("First argument to shuffleNoRepeats() must be an array."),"undefined"!==typeof t&&"function"!==typeof t&&console.error("Second argument to shuffleNoRepeats() must be a function."),"undefined"==typeof t&&(t=function(e,t){return e===t});const s=oe(e);for(let i=0;i<s.length-1;i++)if(t(s[i],s[i+1])){let e=Math.floor(Math.random()*(s.length-2))+1;while(t(s[i+1],s[e])||t(s[i+1],s[e+1])||t(s[i+1],s[e-1])||t(s[i],s[e]))e=Math.floor(Math.random()*(s.length-2))+1;const n=s[e];s[e]=s[i+1],s[i+1]=n}return s}function le(e,t=!1){const s=e.length;if(1==s)return console.warn("shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle."),oe(e[0]);let i=[];for(let a=0;a<s;a++)i.push(a);t&&(i=oe(i));const n=[];let r=null;for(let a=0;a<s;a++)r=null===r?e[a].length:Math.min(r,e[a].length),n.push(oe(e[a]));const o=[];for(let a=0;a<r;a++)for(let e=0;e<i.length;e++)o.push(n[i[e]][a]);return o}function ue(e,t){return Array.isArray(e)||console.error("First argument to sampleWithoutReplacement() must be an array"),t>e.length&&console.error("Cannot take a sample larger than the size of the set of items to sample."),oe(e).slice(0,t)}function ce(e,t,s){Array.isArray(e)||console.error("First argument to sampleWithReplacement() must be an array");const i=[];if("undefined"!==typeof s){s.length!==e.length&&console.error("The length of the weights array must equal the length of the array to be sampled from.");let t=0;for(const e of s)t+=e;for(const e of s)i.push(e/t)}else for(let o=0;o<e.length;o++)i.push(1/e.length);const n=[i[0]];for(let o=1;o<i.length;o++)n.push(i[o]+n[o-1]);const r=[];for(let o=0;o<t;o++){const t=Math.random();let s=0;while(t>n[s])s++;r.push(e[s])}return r}function de(e,t=1,s=!1){let i=[{}];for(const[n,r]of Object.entries(e)){const e=[];for(const t of r)for(const s of i)e.push(Object.assign(Object.assign({},s),{[n]:t}));i=e}return re(i,t,s)}function pe(e=32){let t="";const s="0123456789abcdefghjklmnopqrstuvwxyz";for(let i=0;i<e;i++)t+=s[Math.floor(Math.random()*s.length)];return t}function he(e,t){if(t<e)throw new Error("Upper boundary must be less than or equal to lower boundary");return e+Math.floor(Math.random()*(t-e+1))}function me(e){return Math.random()<=e?1:0}function ye(e,t){return ve()*t+e}function fe(e){return-Math.log(Math.random())/e}function ge(e,t,s,i=!1){let n=ye(e,t)+fe(s);if(i)while(n<=0)n=ye(e,t)+fe(s);return n}function _e(e){return ie(e)}function ve(){var e=0,t=0;while(0===e)e=Math.random();while(0===t)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}function be(e){const t={};for(const s of e)for(const e of Object.keys(s))"undefined"===typeof t[e]&&(t[e]=[]),t[e].push(s[e]);return t}var we=Object.freeze({__proto__:null,factorial:de,randomID:pe,randomInt:he,randomWords:_e,repeat:re,sampleBernoulli:me,sampleExGaussian:ge,sampleExponential:fe,sampleNormal:ye,sampleWithReplacement:ce,sampleWithoutReplacement:ue,setSeed:ne,shuffle:oe,shuffleAlternateGroups:le,shuffleNoRepeats:ae});function je(){const e={previewMode:!1,outsideTurk:!1,hitId:"INVALID_URL_PARAMETER",assignmentId:"INVALID_URL_PARAMETER",workerId:"INVALID_URL_PARAMETER",turkSubmitTo:"INVALID_URL_PARAMETER"},t=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const s="[\\?&]"+t+"=([^&#]*)",i=new RegExp(s),n=i.exec(e);return null==n?"":n[1]},s=t(window.location.href,"assignmentId")?window.location.href:document.referrer,i=["assignmentId","hitId","workerId","turkSubmitTo"];return i.map((function(i){e[i]=unescape(t(s,i))})),e.previewMode="ASSIGNMENT_ID_NOT_AVAILABLE"==e.assignmentId,e.outsideTurk=!e.previewMode&&""===e.hitId&&""==e.assignmentId&&""==e.workerId,e}function xe(e){const t=je(),s=t.assignmentId,i=t.turkSubmitTo;if(!s||!i)return;const n=document.createElement("form");n.method="POST",n.action=i+"/mturk/externalSubmit?assignmentId="+s;for(const r in e)if(e.hasOwnProperty(r)){const t=document.createElement("input");t.type="hidden",t.name=r,t.id=r,t.value=e[r],n.appendChild(t)}document.body.appendChild(n),n.submit()}var Le=Object.freeze({__proto__:null,submitToTurk:xe,turkInfo:je});class Te{constructor(e,t,s,i){if(this.jsPsych=e,this.progress={current_location:-1,current_variable_set:0,current_repetition:0,current_iteration:0,done:!1},this.parent_node=s,this.relative_id="undefined"===typeof s?0:i,"undefined"!==typeof t.timeline){this.timeline_parameters={timeline:[],loop_function:t.loop_function,conditional_function:t.conditional_function,sample:t.sample,randomize_order:"undefined"!=typeof t.randomize_order&&t.randomize_order,repetitions:"undefined"==typeof t.repetitions?1:t.repetitions,timeline_variables:"undefined"==typeof t.timeline_variables?[{}]:t.timeline_variables,on_timeline_finish:t.on_timeline_finish,on_timeline_start:t.on_timeline_start},this.setTimelineVariablesOrder();var n=Object.assign({},t);delete n.timeline,delete n.conditional_function,delete n.loop_function,delete n.randomize_order,delete n.repetitions,delete n.timeline_variables,delete n.sample,delete n.on_timeline_start,delete n.on_timeline_finish,this.node_trial_data=n;for(var r=0;r<t.timeline.length;r++){var o=Object.assign({},n,t.timeline[r]);if("object"==typeof n.data&&"object"==typeof t.timeline[r].data){var a=Object.assign({},n.data,t.timeline[r].data);o.data=a}this.timeline_parameters.timeline.push(new Te(this.jsPsych,o,this,r))}}else"undefined"===typeof t.type&&console.error('Trial level node is missing the "type" parameter. The parameters for the node are: '+JSON.stringify(t)),this.trial_parameters=Object.assign({},t)}trial(){return"undefined"==typeof this.timeline_parameters?p(this.trial_parameters):this.progress.current_location>=this.timeline_parameters.timeline.length?null:this.timeline_parameters.timeline[this.progress.current_location].trial()}markCurrentTrialComplete(){"undefined"===typeof this.timeline_parameters?this.progress.done=!0:this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete()}nextRepetiton(){this.setTimelineVariablesOrder(),this.progress.current_location=-1,this.progress.current_variable_set=0,this.progress.current_repetition++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}setTimelineVariablesOrder(){const e=this.timeline_parameters;if("undefined"!==typeof e&&"undefined"!==typeof e.timeline_variables){for(var t=[],s=0;s<e.timeline_variables.length;s++)t.push(s);"undefined"!==typeof e.sample&&("custom"==e.sample.type?t=e.sample.fn(t):"with-replacement"==e.sample.type?t=ce(t,e.sample.size,e.sample.weights):"without-replacement"==e.sample.type?t=ue(t,e.sample.size):"fixed-repetitions"==e.sample.type?t=re(t,e.sample.size,!1):"alternate-groups"==e.sample.type?t=le(e.sample.groups,e.sample.randomize_group_order):console.error('Invalid type in timeline sample parameters. Valid options for type are "custom", "with-replacement", "without-replacement", "fixed-repetitions", and "alternate-groups"')),e.randomize_order&&(t=oe(t)),this.progress.order=t}}nextSet(){this.progress.current_location=-1,this.progress.current_variable_set++;for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}advance(){const e=this.progress,t=this.timeline_parameters,s=this.jsPsych.internal;if(e.done)return!0;if(-1==e.current_location){if("undefined"!==typeof t){if("undefined"!==typeof t.conditional_function&&0==e.current_repetition&&0==e.current_variable_set){s.call_immediate=!0;var i=t.conditional_function();if(s.call_immediate=!1,0==i)return e.done=!0,!0}"undefined"!==typeof t.on_timeline_start&&0==e.current_variable_set&&t.on_timeline_start()}return e.current_location=0,this.advance()}if("undefined"!==typeof t){var n=!1;while(e.current_location<t.timeline.length&&0==n){var r=t.timeline[e.current_location].advance();if(!r)return n=!0,!1;e.current_location++}return e.current_variable_set<e.order.length-1?(this.nextSet(),this.advance()):e.current_repetition<t.repetitions-1?(this.nextRepetiton(),"undefined"!==typeof t.on_timeline_finish&&t.on_timeline_finish(),this.advance()):("undefined"!==typeof t.on_timeline_finish&&t.on_timeline_finish(),"undefined"!==typeof t.loop_function?(s.call_immediate=!0,t.loop_function(this.generatedData())?(this.reset(),s.call_immediate=!1,this.parent_node.advance()):(e.done=!0,s.call_immediate=!1,!0)):(e.done=!0,!0))}}isComplete(){return this.progress.done}getTimelineVariableValue(e){if("undefined"!=typeof this.timeline_parameters){var t=this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][e];return t}}findTimelineVariable(e){var t=this.getTimelineVariableValue(e);return"undefined"==typeof t?"undefined"!==typeof this.parent_node?this.parent_node.findTimelineVariable(e):void 0:t}timelineVariable(e){if("undefined"==typeof this.timeline_parameters){const t=this.findTimelineVariable(e);return"undefined"===typeof t&&console.warn("Timeline variable "+e+" not found."),t}{var t=Math.max(0,this.progress.current_location);t==this.timeline_parameters.timeline.length&&(t-=1);const s=this.timeline_parameters.timeline[t].timelineVariable(e);return"undefined"===typeof s&&console.warn("Timeline variable "+e+" not found."),s}}allTimelineVariables(){for(var e=this.allTimelineVariablesNames(),t={},s=0;s<e.length;s++)t[e[s]]=this.timelineVariable(e[s]);return t}allTimelineVariablesNames(e=[]){if("undefined"!==typeof this.timeline_parameters){e=e.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));var t=Math.max(0,this.progress.current_location);return t==this.timeline_parameters.timeline.length&&(t-=1),this.timeline_parameters.timeline[t].allTimelineVariablesNames(e)}if("undefined"==typeof this.timeline_parameters)return e}length(){var e=0;if("undefined"===typeof this.timeline_parameters)return 1;for(var t=0;t<this.timeline_parameters.timeline.length;t++)e+=this.timeline_parameters.timeline[t].length();return e}percentComplete(){for(var e=this.length(),t=0,s=0;s<this.timeline_parameters.timeline.length;s++)this.timeline_parameters.timeline[s].isComplete()&&(t+=this.timeline_parameters.timeline[s].length());return t/e*100}reset(){if(this.progress.current_location=-1,this.progress.current_repetition=0,this.progress.current_variable_set=0,this.progress.current_iteration++,this.progress.done=!1,this.setTimelineVariablesOrder(),"undefined"!=typeof this.timeline_parameters)for(var e=0;e<this.timeline_parameters.timeline.length;e++)this.timeline_parameters.timeline[e].reset()}end(){this.progress.done=!0}endActiveNode(){"undefined"==typeof this.timeline_parameters?(this.end(),this.parent_node.end()):this.timeline_parameters.timeline[this.progress.current_location].endActiveNode()}ID(){var e="";return"undefined"==typeof this.parent_node?"0."+this.progress.current_iteration:(e+=this.parent_node.ID()+"-",e+=this.relative_id+"."+this.progress.current_iteration,e)}activeID(){return"undefined"==typeof this.timeline_parameters?this.ID():this.timeline_parameters.timeline[this.progress.current_location].activeID()}generatedData(){return this.jsPsych.data.getDataByTimelineNode(this.ID())}trialsOfType(e){if("undefined"==typeof this.timeline_parameters)return this.trial_parameters.type==e?this.trial_parameters:[];for(var t=[],s=0;s<this.timeline_parameters.timeline.length;s++){var i=this.timeline_parameters.timeline[s].trialsOfType(e);t=t.concat(i)}return t}insert(e){"undefined"===typeof this.timeline_parameters?console.error("Cannot add new trials to a trial-level node."):this.timeline_parameters.timeline.push(new Te(this.jsPsych,Object.assign(Object.assign({},this.node_trial_data),e),this,this.timeline_parameters.timeline.length))}}function Pe(e){return new Promise((t=>setTimeout(t,e)))}class ke{version(){return u}constructor(e){this.extensions={},this.turk=Le,this.randomization=we,this.utils=y,this.opts={},this.global_trial_index=0,this.current_trial={},this.current_trial_finished=!1,this.paused=!1,this.waiting=!1,this.file_protocol=!1,this.simulation_mode=null,this.webaudio_context=null,this.internal={call_immediate:!1},this.progress_bar_amount=0,e=Object.assign({display_element:void 0,on_finish:()=>{},on_trial_start:()=>{},on_trial_finish:()=>{},on_data_update:()=>{},on_interaction_data_update:()=>{},on_close:()=>{},use_webaudio:!0,exclusions:{},show_progress_bar:!1,message_progress_bar:"Completion Progress",auto_update_progress_bar:!0,default_iti:0,minimum_valid_rt:0,experiment_width:null,override_safe_mode:!1,case_sensitive_responses:!1,extensions:[]},e),this.opts=e,l(this),this.webaudio_context="undefined"!==typeof window&&"undefined"!==typeof window.AudioContext?new AudioContext:null,"file:"!=window.location.protocol||!1!==e.override_safe_mode&&"undefined"!==typeof e.override_safe_mode||(e.use_webaudio=!1,this.file_protocol=!0,console.warn("jsPsych detected that it is running via the file:// protocol and not on a web server. To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. For more information, see: https://www.jspsych.org/overview/running-experiments")),this.data=new w(this),this.pluginAPI=O(this);for(const t of e.extensions)this.extensions[t.type.info.name]=new t.type(this);this.pluginAPI.initAudio()}run(e){return i(this,void 0,void 0,(function*(){"undefined"===typeof e&&console.error("No timeline declared in jsPsych.run. Cannot start experiment."),0===e.length&&console.error("No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment."),this.timelineDescription=e,this.timeline=new Te(this,{timeline:e}),yield this.prepareDom(),yield this.checkExclusions(this.opts.exclusions),yield this.loadExtensions(this.opts.extensions),document.documentElement.setAttribute("jspsych","present"),this.startExperiment(),yield this.finished}))}simulate(e,t="data-only",s={}){return i(this,void 0,void 0,(function*(){this.simulation_mode=t,this.simulation_options=s,yield this.run(e)}))}getProgress(){return{total_trials:"undefined"===typeof this.timeline?void 0:this.timeline.length(),current_trial_global:this.global_trial_index,percent_complete:"undefined"===typeof this.timeline?0:this.timeline.percentComplete()}}getStartTime(){return this.exp_start_time}getTotalTime(){return"undefined"===typeof this.exp_start_time?0:(new Date).getTime()-this.exp_start_time.getTime()}getDisplayElement(){return this.DOM_target}getDisplayContainerElement(){return this.DOM_container}finishTrial(e={}){var t;if(this.current_trial_finished)return;this.current_trial_finished=!0,"undefined"!==typeof this.current_trial.css_classes&&Array.isArray(this.current_trial.css_classes)&&this.DOM_target.classList.remove(...this.current_trial.css_classes),this.data.write(e);const s=this.data.getLastTrialData(),i=s.values()[0],n=this.current_trial;if("object"===typeof n.save_trial_parameters)for(const a of Object.keys(n.save_trial_parameters)){const e=n.save_trial_parameters[a];!0===e&&("undefined"===typeof n[a]?console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called "${a}".`):"function"===typeof n[a]?i[a]=n[a].toString():i[a]=n[a]),!1===e&&"internal_node_id"!==a&&"trial_index"!==a&&delete i[a]}const r=(null!==(t=n.extensions)&&void 0!==t?t:[]).map((e=>this.extensions[e.type.info.name].on_finish(e.params))),o=()=>{this.internal.call_immediate=!0,"function"===typeof n.on_finish&&n.on_finish(i),this.opts.on_trial_finish(i),this.opts.on_data_update(i),this.internal.call_immediate=!1,"data-only"===this.simulation_mode?this.nextTrial():null===typeof n.post_trial_gap||"undefined"===typeof n.post_trial_gap?this.opts.default_iti>0?setTimeout(this.nextTrial,this.opts.default_iti):this.nextTrial():n.post_trial_gap>0?setTimeout(this.nextTrial,n.post_trial_gap):this.nextTrial()};if(r.some((e=>"function"===typeof e.then)))Promise.all(r.map((e=>Promise.resolve(e).then((e=>{Object.assign(i,e)}))))).then(o);else{for(const e of r)Object.assign(i,e);o()}}endExperiment(e="",t={}){this.timeline.end_message=e,this.timeline.end(),this.pluginAPI.cancelAllKeyboardResponses(),this.pluginAPI.clearAllTimeouts(),this.finishTrial(t)}endCurrentTimeline(){this.timeline.endActiveNode()}getCurrentTrial(){return this.current_trial}getInitSettings(){return this.opts}getCurrentTimelineNodeID(){return this.timeline.activeID()}timelineVariable(e,t=!1){return this.internal.call_immediate||!0===t?this.timeline.timelineVariable(e):{timelineVariablePlaceholder:!0,timelineVariableFunction:()=>this.timeline.timelineVariable(e)}}getAllTimelineVariables(){return this.timeline.allTimelineVariables()}addNodeToEndOfTimeline(e,t){this.timeline.insert(e)}pauseExperiment(){this.paused=!0}resumeExperiment(){this.paused=!1,this.waiting&&(this.waiting=!1,this.nextTrial())}loadFail(e){e=e||"<p>The experiment failed to load.</p>",this.DOM_target.innerHTML=e}getSafeModeStatus(){return this.file_protocol}getTimeline(){return this.timelineDescription}prepareDom(){return i(this,void 0,void 0,(function*(){"complete"!==document.readyState&&(yield new Promise((e=>{window.addEventListener("load",e)})));const e=this.opts;if("undefined"===typeof e.display_element){const t=document.querySelector("body");null===t&&document.documentElement.appendChild(document.createElement("body")),document.querySelector("html").style.height="100%",document.querySelector("body").style.margin="0px",document.querySelector("body").style.height="100%",document.querySelector("body").style.width="100%",e.display_element=document.querySelector("body")}else{const t=e.display_element instanceof Element?e.display_element:document.querySelector("#"+e.display_element);null===t?console.error("The display_element specified in initJsPsych() does not exist in the DOM."):e.display_element=t}e.display_element.innerHTML='<div class="jspsych-content-wrapper"><div id="jspsych-content"></div></div>',this.DOM_container=e.display_element,this.DOM_target=document.querySelector("#jspsych-content"),null!==e.experiment_width&&(this.DOM_target.style.width=e.experiment_width+"px"),e.display_element.tabIndex=0,-1===e.display_element.className.indexOf("jspsych-display-element")&&(e.display_element.className+=" jspsych-display-element"),this.DOM_target.className+="jspsych-content",this.data.createInteractionListeners(),window.addEventListener("beforeunload",e.on_close)}))}loadExtensions(e){return i(this,void 0,void 0,(function*(){try{yield Promise.all(e.map((e=>this.extensions[e.type.info.name].initialize(e.params||{}))))}catch(t){throw console.error(t),new Error(t)}}))}startExperiment(){this.finished=new Promise((e=>{this.resolveFinishedPromise=e})),!0===this.opts.show_progress_bar&&this.drawProgressBar(this.opts.message_progress_bar),this.exp_start_time=new Date,this.timeline.advance(),this.doTrial(this.timeline.trial())}finishExperiment(){const e=this.opts.on_finish(this.data.get()),t=()=>{"undefined"!==typeof this.timeline.end_message&&(this.DOM_target.innerHTML=this.timeline.end_message),this.resolveFinishedPromise()};e?Promise.resolve(e).then(t):t()}nextTrial(){if(this.paused)return void(this.waiting=!0);this.global_trial_index++,this.timeline.markCurrentTrialComplete();const e=this.timeline.advance();!0===this.opts.show_progress_bar&&!0===this.opts.auto_update_progress_bar&&this.updateProgressBar(),e?this.finishExperiment():this.doTrial(this.timeline.trial())}doTrial(e){if(this.current_trial=e,this.current_trial_finished=!1,this.evaluateTimelineVariables(e),"string"===typeof e.type)throw new c("A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.");if(e.type=Object.assign(Object.assign({},l(new e.type(this))),{info:e.type.info}),this.evaluateFunctionParameters(e),this.setDefaultValues(e),this.internal.call_immediate=!0,this.opts.on_trial_start(e),"function"===typeof e.on_start&&e.on_start(e),Array.isArray(e.extensions))for(const o of e.extensions)this.extensions[o.type.info.name].on_start(o.params);this.DOM_container.focus(),this.DOM_target.scrollTop=0,"undefined"!==typeof e.css_classes&&(Array.isArray(e.css_classes)||"string"!==typeof e.css_classes||(e.css_classes=[e.css_classes]),Array.isArray(e.css_classes)&&this.DOM_target.classList.add(...e.css_classes));const t=()=>{if("function"===typeof e.on_load&&e.on_load(),Array.isArray(e.extensions))for(const t of e.extensions)this.extensions[t.type.info.name].on_load(t.params)};let s,i,n;this.simulation_mode||(s=e.type.trial(this.DOM_target,e,t)),this.simulation_mode&&(e.type.simulate?(e.simulation_options||(i=this.simulation_options.default),e.simulation_options&&("string"==typeof e.simulation_options?this.simulation_options[e.simulation_options]?i=this.simulation_options[e.simulation_options]:this.simulation_options.default?(console.log(`No matching simulation options found for "${e.simulation_options}". Using "default" options.`),i=this.simulation_options.default):(console.log(`No matching simulation options found for "${e.simulation_options}" and no "default" options provided. Using the default values provided by the plugin.`),i={}):i=e.simulation_options),n=this.utils.deepMerge(this.simulation_options.default,i),n=this.utils.deepCopy(n),n=this.replaceFunctionsWithValues(n,null),s=!1===(null===n||void 0===n?void 0:n.simulate)?e.type.trial(this.DOM_target,e,t):e.type.simulate(e,(null===n||void 0===n?void 0:n.mode)||this.simulation_mode,n,t)):s=e.type.trial(this.DOM_target,e,t));const r=s&&"function"==typeof s.then;r||this.simulation_mode&&(!this.simulation_mode||!1!==(null===n||void 0===n?void 0:n.simulate))||t(),this.internal.call_immediate=!1}evaluateTimelineVariables(e){for(const t of Object.keys(e))"object"===typeof e[t]&&null!==e[t]&&"undefined"!==typeof e[t].timelineVariablePlaceholder&&(e[t]=e[t].timelineVariableFunction()),"object"===typeof e[t]&&null!==e[t]&&"timeline"!==t&&"timeline_variables"!==t&&this.evaluateTimelineVariables(e[t])}evaluateFunctionParameters(e){this.internal.call_immediate=!0;for(const t of Object.keys(e))"type"!==t&&("undefined"!==typeof L[t]&&L[t].type!==m.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],null)),"undefined"!==typeof e.type.info.parameters[t]&&e.type.info.parameters[t].type!==m.FUNCTION&&(e[t]=this.replaceFunctionsWithValues(e[t],e.type.info.parameters[t])));this.internal.call_immediate=!1}replaceFunctionsWithValues(e,t){if(null===e)return e;if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=this.replaceFunctionsWithValues(e[s],t);else if("object"===typeof e)if(null!==t&&t.nested)for(const s of Object.keys(e))"object"===typeof t.nested[s]&&t.nested[s].type!==m.FUNCTION&&(e[s]=this.replaceFunctionsWithValues(e[s],t.nested[s]));else for(const s of Object.keys(e))"type"!==s&&"timeline"!==s&&"timeline_variables"!==s&&(e[s]=this.replaceFunctionsWithValues(e[s],null));else if("function"===typeof e)return e();return e}setDefaultValues(e){for(const t in e.type.info.parameters)e.type.info.parameters[t].type===m.COMPLEX?("undefined"===typeof e[t]&&e.type.info.parameters[t].default&&(e[t]=e.type.info.parameters[t].default),!0===e.type.info.parameters[t].array&&Array.isArray(e[t])&&e[t].forEach((function(s,i){for(const n in e.type.info.parameters[t].nested)"undefined"!==typeof e[t][i][n]&&null!==e[t][i][n]||("undefined"===typeof e.type.info.parameters[t].nested[n].default?console.error(`You must specify a value for the ${n} parameter (nested in the ${t} parameter) in the ${e.type.info.name} plugin.`):e[t][i][n]=e.type.info.parameters[t].nested[n].default)}))):"undefined"!==typeof e[t]&&null!==e[t]||("undefined"===typeof e.type.info.parameters[t].default?console.error(`You must specify a value for the ${t} parameter in the ${e.type.info.name} plugin.`):e[t]=e.type.info.parameters[t].default)}checkExclusions(e){return i(this,void 0,void 0,(function*(){if((e.min_width||e.min_height||e.audio)&&console.warn("The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/."),e.min_width||e.min_height){const t=e.min_width||0,s=e.min_height||0;if(window.innerWidth<t||window.innerHeight<s){this.getDisplayElement().innerHTML="<p>Your browser window is too small to complete this experiment. Please maximize the size of your browser window. If your browser window is already maximized, you will not be able to complete this experiment.</p><p>The minimum width is "+t+"px. Your current width is "+window.innerWidth+"px.</p><p>The minimum height is "+s+"px. Your current height is "+window.innerHeight+"px.</p>";while(window.innerWidth<t||window.innerHeight<s)yield Pe(100);this.getDisplayElement().innerHTML=""}}if("undefined"!==typeof e.audio&&e.audio&&!window.hasOwnProperty("AudioContext")&&!window.hasOwnProperty("webkitAudioContext"))throw this.getDisplayElement().innerHTML="<p>Your browser does not support the WebAudio API, which means that you will not be able to complete the experiment.</p><p>Browsers that support the WebAudio API include Chrome, Firefox, Safari, and Edge.</p>",new Error}))}drawProgressBar(e){document.querySelector(".jspsych-display-element").insertAdjacentHTML("afterbegin",'<div id="jspsych-progressbar-container"><span>'+e+'</span><div id="jspsych-progressbar-outer"><div id="jspsych-progressbar-inner"></div></div></div>')}updateProgressBar(){this.setProgressBar(this.getProgress().percent_complete/100)}setProgressBar(e){e=Math.max(Math.min(1,e),0),document.querySelector("#jspsych-progressbar-inner").style.width=100*e+"%",this.progress_bar_amount=e}getProgressBarCompleted(){return this.progress_bar_amount}}function Ie(e){const t=new ke(e),s={init:"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.",ALL_KEYS:'jsPsych.ALL_KEYS was replaced by the "ALL_KEYS" string in jsPsych v7.',NO_KEYS:'jsPsych.NO_KEYS was replaced by the "NO_KEYS" string in jsPsych v7.',currentTimelineNodeID:"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.",progress:"`progress()` was renamed to `getProgress()` in jsPsych v7.",startTime:"`startTime()` was renamed to `getStartTime()` in jsPsych v7.",totalTime:"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.",currentTrial:"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.",initSettings:"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.",allTimelineVariables:"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7."};return Object.defineProperties(t,Object.fromEntries(Object.entries(s).map((([e,t])=>[e,{get(){throw new c(t)}}])))),t}"undefined"!==typeof window&&window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext)}}]);
//# sourceMappingURL=npm.jspsych.a739606a.js.map