{"version":3,"file":"js/npm.jspsych.a739606a.js","mappings":"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","sources":["webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-audio-keyboard-response/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-call-function/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-html-button-response/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-html-keyboard-response/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-preload/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-survey-html-form/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-survey-likert/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-survey-multi-choice/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-survey-text/dist/index.js","webpack://vue_jspsych_test/./node_modules/@jspsych/plugin-video-keyboard-response/dist/index.js","webpack://vue_jspsych_test/./node_modules/jspsych/dist/index.js"],"sourcesContent":["import autoBind from 'auto-bind';\nimport { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-audio-keyboard-response\",\n  version: \"2.0.0\",\n  description: \"jsPsych plugin for playing an audio file and getting a keyboard response\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-audio-keyboard-response\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/audio-keyboard-response\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"audio-keyboard-response\",\n  version: _package.version,\n  parameters: {\n    stimulus: {\n      type: ParameterType.AUDIO,\n      default: void 0\n    },\n    choices: {\n      type: ParameterType.KEYS,\n      default: \"ALL_KEYS\"\n    },\n    prompt: {\n      type: ParameterType.HTML_STRING,\n      pretty_name: \"Prompt\",\n      default: null\n    },\n    trial_duration: {\n      type: ParameterType.INT,\n      default: null\n    },\n    response_ends_trial: {\n      type: ParameterType.BOOL,\n      default: true\n    },\n    trial_ends_after_audio: {\n      type: ParameterType.BOOL,\n      pretty_name: \"Trial ends after audio\",\n      default: false\n    },\n    response_allowed_while_playing: {\n      type: ParameterType.BOOL,\n      default: true\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.STRING\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    stimulus: {\n      type: ParameterType.STRING\n    }\n  }\n};\nclass AudioKeyboardResponsePlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n    this.response = { rt: null, key: null };\n    autoBind(this);\n  }\n  trial(display_element, trial, on_load) {\n    return new Promise(async (resolve) => {\n      this.finish = resolve;\n      this.params = trial;\n      this.display = display_element;\n      this.audio = await this.jsPsych.pluginAPI.getAudioPlayer(trial.stimulus);\n      if (trial.trial_ends_after_audio) {\n        this.audio.addEventListener(\"ended\", this.end_trial);\n      }\n      if (trial.prompt !== null) {\n        display_element.innerHTML = trial.prompt;\n      }\n      this.startTime = this.jsPsych.pluginAPI.audioContext()?.currentTime;\n      if (trial.response_allowed_while_playing) {\n        this.setup_keyboard_listener();\n      } else if (!trial.trial_ends_after_audio) {\n        this.audio.addEventListener(\"ended\", this.setup_keyboard_listener);\n      }\n      if (trial.trial_duration !== null) {\n        this.jsPsych.pluginAPI.setTimeout(() => {\n          this.end_trial();\n        }, trial.trial_duration);\n      }\n      on_load();\n      this.audio.play();\n    });\n  }\n  end_trial() {\n    this.jsPsych.pluginAPI.clearAllTimeouts();\n    this.audio.stop();\n    this.audio.removeEventListener(\"ended\", this.end_trial);\n    this.audio.removeEventListener(\"ended\", this.setup_keyboard_listener);\n    this.jsPsych.pluginAPI.cancelAllKeyboardResponses();\n    var trial_data = {\n      rt: this.response.rt,\n      response: this.response.key,\n      stimulus: this.params.stimulus\n    };\n    this.display.innerHTML = \"\";\n    this.finish(trial_data);\n  }\n  after_response(info2) {\n    this.response = info2;\n    if (this.params.response_ends_trial) {\n      this.end_trial();\n    }\n  }\n  setup_keyboard_listener() {\n    if (this.jsPsych.pluginAPI.useWebaudio) {\n      this.jsPsych.pluginAPI.getKeyboardResponse({\n        callback_function: this.after_response,\n        valid_responses: this.params.choices,\n        rt_method: \"audio\",\n        persist: false,\n        allow_held_key: false,\n        audio_context: this.jsPsych.pluginAPI.audioContext(),\n        audio_context_start_time: this.startTime\n      });\n    } else {\n      this.jsPsych.pluginAPI.getKeyboardResponse({\n        callback_function: this.after_response,\n        valid_responses: this.params.choices,\n        rt_method: \"performance\",\n        persist: false,\n        allow_held_key: false\n      });\n    }\n  }\n  async simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      return this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      return this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    return data;\n  }\n  async simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    const respond = () => {\n      if (data.rt !== null) {\n        this.jsPsych.pluginAPI.pressKey(data.response, data.rt);\n      }\n    };\n    const result = await this.trial(display_element, trial, () => {\n      load_callback();\n      if (!trial.response_allowed_while_playing) {\n        this.audio.addEventListener(\"ended\", respond);\n      } else {\n        respond();\n      }\n    });\n    return result;\n  }\n  create_simulation_data(trial, simulation_options) {\n    const default_data = {\n      stimulus: trial.stimulus,\n      rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true),\n      response: this.jsPsych.pluginAPI.getValidKey(trial.choices)\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n}\nAudioKeyboardResponsePlugin.info = info;\n\nexport { AudioKeyboardResponsePlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-call-function\",\n  version: \"2.0.0\",\n  description: \"jsPsych plugin for calling an arbitrary function during a jspsych experiment\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-call-function\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/call-function\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"call-function\",\n  version: _package.version,\n  parameters: {\n    func: {\n      type: ParameterType.FUNCTION,\n      default: void 0\n    },\n    async: {\n      type: ParameterType.BOOL,\n      default: false\n    }\n  },\n  data: {\n    value: {\n      type: ParameterType.COMPLEX,\n      default: void 0\n    }\n  }\n};\nclass CallFunctionPlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    let return_val;\n    const end_trial = () => {\n      const trial_data = {\n        value: return_val\n      };\n      this.jsPsych.finishTrial(trial_data);\n    };\n    if (trial.async) {\n      const done = (data) => {\n        return_val = data;\n        end_trial();\n      };\n      trial.func(done);\n    } else {\n      return_val = trial.func();\n      end_trial();\n    }\n  }\n}\nCallFunctionPlugin.info = info;\n\nexport { CallFunctionPlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-html-button-response\",\n  version: \"2.0.0\",\n  description: \"jsPsych plugin for displaying a stimulus and getting a button response\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-html-button-response\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/html-button-response\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"html-button-response\",\n  version: _package.version,\n  parameters: {\n    stimulus: {\n      type: ParameterType.HTML_STRING,\n      default: void 0\n    },\n    choices: {\n      type: ParameterType.STRING,\n      default: void 0,\n      array: true\n    },\n    button_html: {\n      type: ParameterType.FUNCTION,\n      default: function(choice, choice_index) {\n        return `<button class=\"jspsych-btn\">${choice}</button>`;\n      }\n    },\n    prompt: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    stimulus_duration: {\n      type: ParameterType.INT,\n      default: null\n    },\n    trial_duration: {\n      type: ParameterType.INT,\n      default: null\n    },\n    button_layout: {\n      type: ParameterType.STRING,\n      default: \"grid\"\n    },\n    grid_rows: {\n      type: ParameterType.INT,\n      default: 1\n    },\n    grid_columns: {\n      type: ParameterType.INT,\n      default: null\n    },\n    response_ends_trial: {\n      type: ParameterType.BOOL,\n      default: true\n    },\n    enable_button_after: {\n      type: ParameterType.INT,\n      default: 0\n    }\n  },\n  data: {\n    rt: {\n      type: ParameterType.INT\n    },\n    response: {\n      type: ParameterType.INT\n    },\n    stimulus: {\n      type: ParameterType.HTML_STRING\n    }\n  }\n};\nclass HtmlButtonResponsePlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    const stimulusElement = document.createElement(\"div\");\n    stimulusElement.id = \"jspsych-html-button-response-stimulus\";\n    stimulusElement.innerHTML = trial.stimulus;\n    display_element.appendChild(stimulusElement);\n    const buttonGroupElement = document.createElement(\"div\");\n    buttonGroupElement.id = \"jspsych-html-button-response-btngroup\";\n    if (trial.button_layout === \"grid\") {\n      buttonGroupElement.classList.add(\"jspsych-btn-group-grid\");\n      if (trial.grid_rows === null && trial.grid_columns === null) {\n        throw new Error(\n          \"You cannot set `grid_rows` to `null` without providing a value for `grid_columns`.\"\n        );\n      }\n      const n_cols = trial.grid_columns === null ? Math.ceil(trial.choices.length / trial.grid_rows) : trial.grid_columns;\n      const n_rows = trial.grid_rows === null ? Math.ceil(trial.choices.length / trial.grid_columns) : trial.grid_rows;\n      buttonGroupElement.style.gridTemplateColumns = `repeat(${n_cols}, 1fr)`;\n      buttonGroupElement.style.gridTemplateRows = `repeat(${n_rows}, 1fr)`;\n    } else if (trial.button_layout === \"flex\") {\n      buttonGroupElement.classList.add(\"jspsych-btn-group-flex\");\n    }\n    for (const [choiceIndex, choice] of trial.choices.entries()) {\n      buttonGroupElement.insertAdjacentHTML(\"beforeend\", trial.button_html(choice, choiceIndex));\n      const buttonElement = buttonGroupElement.lastChild;\n      buttonElement.dataset.choice = choiceIndex.toString();\n      buttonElement.addEventListener(\"click\", () => {\n        after_response(choiceIndex);\n      });\n    }\n    display_element.appendChild(buttonGroupElement);\n    if (trial.prompt !== null) {\n      display_element.insertAdjacentHTML(\"beforeend\", trial.prompt);\n    }\n    var start_time = performance.now();\n    var response = {\n      rt: null,\n      button: null\n    };\n    const end_trial = () => {\n      var trial_data = {\n        rt: response.rt,\n        stimulus: trial.stimulus,\n        response: response.button\n      };\n      this.jsPsych.finishTrial(trial_data);\n    };\n    function after_response(choice) {\n      var end_time = performance.now();\n      var rt = Math.round(end_time - start_time);\n      response.button = parseInt(choice);\n      response.rt = rt;\n      stimulusElement.classList.add(\"responded\");\n      for (const button of buttonGroupElement.children) {\n        button.setAttribute(\"disabled\", \"disabled\");\n      }\n      if (trial.response_ends_trial) {\n        end_trial();\n      }\n    }\n    if (trial.stimulus_duration !== null) {\n      this.jsPsych.pluginAPI.setTimeout(() => {\n        stimulusElement.style.visibility = \"hidden\";\n      }, trial.stimulus_duration);\n    }\n    if (trial.enable_button_after > 0) {\n      var btns = document.querySelectorAll(\".jspsych-html-button-response-button button\");\n      for (var i = 0; i < btns.length; i++) {\n        btns[i].setAttribute(\"disabled\", \"disabled\");\n      }\n      this.jsPsych.pluginAPI.setTimeout(() => {\n        var btns2 = document.querySelectorAll(\".jspsych-html-button-response-button button\");\n        for (var i2 = 0; i2 < btns2.length; i2++) {\n          btns2[i2].removeAttribute(\"disabled\");\n        }\n      }, trial.enable_button_after);\n    }\n    if (trial.trial_duration !== null) {\n      this.jsPsych.pluginAPI.setTimeout(end_trial, trial.trial_duration);\n    }\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const default_data = {\n      stimulus: trial.stimulus,\n      rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true) + trial.enable_button_after,\n      response: this.jsPsych.randomization.randomInt(0, trial.choices.length - 1)\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    if (data.rt !== null) {\n      this.jsPsych.pluginAPI.clickTarget(\n        display_element.querySelector(\n          `#jspsych-html-button-response-btngroup [data-choice=\"${data.response}\"]`\n        ),\n        data.rt\n      );\n    }\n  }\n}\nHtmlButtonResponsePlugin.info = info;\n\nexport { HtmlButtonResponsePlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-html-keyboard-response\",\n  version: \"2.0.0\",\n  description: \"jsPsych plugin for displaying a stimulus and getting a keyboard response\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-html-keyboard-response\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/html-keyboard-response\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"html-keyboard-response\",\n  version: _package.version,\n  parameters: {\n    stimulus: {\n      type: ParameterType.HTML_STRING,\n      default: void 0\n    },\n    choices: {\n      type: ParameterType.KEYS,\n      default: \"ALL_KEYS\"\n    },\n    prompt: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    stimulus_duration: {\n      type: ParameterType.INT,\n      default: null\n    },\n    trial_duration: {\n      type: ParameterType.INT,\n      default: null\n    },\n    response_ends_trial: {\n      type: ParameterType.BOOL,\n      default: true\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.STRING\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    stimulus: {\n      type: ParameterType.STRING\n    }\n  }\n};\nclass HtmlKeyboardResponsePlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    var new_html = '<div id=\"jspsych-html-keyboard-response-stimulus\">' + trial.stimulus + \"</div>\";\n    if (trial.prompt !== null) {\n      new_html += trial.prompt;\n    }\n    display_element.innerHTML = new_html;\n    var response = {\n      rt: null,\n      key: null\n    };\n    const end_trial = () => {\n      if (typeof keyboardListener !== \"undefined\") {\n        this.jsPsych.pluginAPI.cancelKeyboardResponse(keyboardListener);\n      }\n      var trial_data = {\n        rt: response.rt,\n        stimulus: trial.stimulus,\n        response: response.key\n      };\n      this.jsPsych.finishTrial(trial_data);\n    };\n    var after_response = (info2) => {\n      display_element.querySelector(\"#jspsych-html-keyboard-response-stimulus\").className += \" responded\";\n      if (response.key == null) {\n        response = info2;\n      }\n      if (trial.response_ends_trial) {\n        end_trial();\n      }\n    };\n    if (trial.choices != \"NO_KEYS\") {\n      var keyboardListener = this.jsPsych.pluginAPI.getKeyboardResponse({\n        callback_function: after_response,\n        valid_responses: trial.choices,\n        rt_method: \"performance\",\n        persist: false,\n        allow_held_key: false\n      });\n    }\n    if (trial.stimulus_duration !== null) {\n      this.jsPsych.pluginAPI.setTimeout(() => {\n        display_element.querySelector(\n          \"#jspsych-html-keyboard-response-stimulus\"\n        ).style.visibility = \"hidden\";\n      }, trial.stimulus_duration);\n    }\n    if (trial.trial_duration !== null) {\n      this.jsPsych.pluginAPI.setTimeout(end_trial, trial.trial_duration);\n    }\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const default_data = {\n      stimulus: trial.stimulus,\n      rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true),\n      response: this.jsPsych.pluginAPI.getValidKey(trial.choices)\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    if (data.rt !== null) {\n      this.jsPsych.pluginAPI.pressKey(data.response, data.rt);\n    }\n  }\n}\nHtmlKeyboardResponsePlugin.info = info;\n\nexport { HtmlKeyboardResponsePlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-preload\",\n  version: \"2.0.0\",\n  description: \"\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-preload\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/preload\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/plugin-audio-keyboard-response\": \"*\",\n    \"@jspsych/plugin-image-keyboard-response\": \"*\",\n    \"@jspsych/plugin-video-keyboard-response\": \"*\"\n  }\n};\n\nconst info = {\n  name: \"preload\",\n  version: _package.version,\n  parameters: {\n    auto_preload: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    trials: {\n      type: ParameterType.TIMELINE,\n      default: []\n    },\n    images: {\n      type: ParameterType.STRING,\n      default: [],\n      array: true\n    },\n    audio: {\n      type: ParameterType.STRING,\n      default: [],\n      array: true\n    },\n    video: {\n      type: ParameterType.STRING,\n      default: [],\n      array: true\n    },\n    message: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    show_progress_bar: {\n      type: ParameterType.BOOL,\n      default: true\n    },\n    continue_after_error: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    error_message: {\n      type: ParameterType.HTML_STRING,\n      default: \"The experiment failed to load.\"\n    },\n    show_detailed_errors: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    max_load_time: {\n      type: ParameterType.INT,\n      default: null\n    },\n    on_error: {\n      type: ParameterType.FUNCTION,\n      default: null\n    },\n    on_success: {\n      type: ParameterType.FUNCTION,\n      default: null\n    }\n  },\n  data: {\n    success: {\n      type: ParameterType.BOOL\n    },\n    timeout: {\n      type: ParameterType.BOOL\n    },\n    failed_images: {\n      type: ParameterType.STRING,\n      array: true\n    },\n    failed_audio: {\n      type: ParameterType.STRING,\n      array: true\n    },\n    failed_video: {\n      type: ParameterType.STRING,\n      array: true\n    }\n  }\n};\nclass PreloadPlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    var success = null;\n    var timeout = false;\n    var failed_images = [];\n    var failed_audio = [];\n    var failed_video = [];\n    var detailed_errors = [];\n    var in_safe_mode = this.jsPsych.getSafeModeStatus();\n    var images = [];\n    var audio = [];\n    var video = [];\n    if (trial.auto_preload) {\n      var experiment_timeline = this.jsPsych.getTimeline();\n      var auto_preload = this.jsPsych.pluginAPI.getAutoPreloadList(experiment_timeline);\n      images = images.concat(auto_preload.images);\n      audio = audio.concat(auto_preload.audio);\n      video = video.concat(auto_preload.video);\n    }\n    if (trial.trials.length > 0) {\n      var trial_preloads = this.jsPsych.pluginAPI.getAutoPreloadList(trial.trials);\n      images = images.concat(trial_preloads.images);\n      audio = audio.concat(trial_preloads.audio);\n      video = video.concat(trial_preloads.video);\n    }\n    images = images.concat(trial.images);\n    audio = audio.concat(trial.audio);\n    video = video.concat(trial.video);\n    images = this.jsPsych.utils.unique(images.flat());\n    audio = this.jsPsych.utils.unique(audio.flat());\n    video = this.jsPsych.utils.unique(video.flat());\n    if (in_safe_mode) {\n      video = [];\n    }\n    var html = \"\";\n    if (trial.message !== null) {\n      html += trial.message;\n    }\n    if (trial.show_progress_bar) {\n      html += `\n            <div id='jspsych-loading-progress-bar-container' style='height: 10px; width: 300px; background-color: #ddd; margin: auto;'>\n              <div id='jspsych-loading-progress-bar' style='height: 10px; width: 0%; background-color: #777;'></div>\n            </div>`;\n    }\n    display_element.innerHTML = html;\n    const update_loading_progress_bar = () => {\n      loaded++;\n      if (trial.show_progress_bar) {\n        var percent_loaded = loaded / total_n * 100;\n        var preload_progress_bar = display_element.querySelector(\n          \"#jspsych-loading-progress-bar\"\n        );\n        if (preload_progress_bar !== null) {\n          preload_progress_bar.style.width = percent_loaded + \"%\";\n        }\n      }\n    };\n    const on_success = () => {\n      if (typeof timeout !== \"undefined\" && timeout === false) {\n        this.jsPsych.pluginAPI.clearAllTimeouts();\n        this.jsPsych.pluginAPI.cancelPreloads();\n        success = true;\n        end_trial();\n      }\n    };\n    const on_timeout = () => {\n      this.jsPsych.pluginAPI.cancelPreloads();\n      if (typeof success !== \"undefined\" && (success === false || success === null)) {\n        timeout = true;\n        if (loaded_success < total_n) {\n          success = false;\n        }\n        after_error(\"timeout\");\n        detailed_errors.push(\n          \"<p><strong>Loading timed out.</strong><br>Consider compressing your stimuli files, loading your files in smaller batches,<br>and/or increasing the <i>max_load_time</i> parameter.</p>\"\n        );\n        if (trial.continue_after_error) {\n          end_trial();\n        } else {\n          stop_with_error_message();\n        }\n      }\n    };\n    const stop_with_error_message = () => {\n      this.jsPsych.pluginAPI.clearAllTimeouts();\n      this.jsPsych.pluginAPI.cancelPreloads();\n      display_element.innerHTML = trial.error_message;\n      if (trial.show_detailed_errors) {\n        display_element.innerHTML += \"<p><strong>Error details:</strong></p>\";\n        detailed_errors.forEach((e) => {\n          display_element.innerHTML += e;\n        });\n      }\n    };\n    const end_trial = () => {\n      var trial_data = {\n        success,\n        timeout,\n        failed_images,\n        failed_audio,\n        failed_video\n      };\n      this.jsPsych.finishTrial(trial_data);\n    };\n    if (trial.max_load_time !== null) {\n      this.jsPsych.pluginAPI.setTimeout(on_timeout, trial.max_load_time);\n    }\n    var total_n = images.length + audio.length + video.length;\n    var loaded = 0;\n    var loaded_success = 0;\n    if (total_n == 0) {\n      on_success();\n    } else {\n      const load_video = (cb) => {\n        this.jsPsych.pluginAPI.preloadVideo(video, cb, file_loading_success, file_loading_error);\n      };\n      const load_audio = (cb) => {\n        this.jsPsych.pluginAPI.preloadAudio(audio, cb, file_loading_success, file_loading_error);\n      };\n      const load_images = (cb) => {\n        this.jsPsych.pluginAPI.preloadImages(images, cb, file_loading_success, file_loading_error);\n      };\n      if (video.length > 0) {\n        load_video(() => {\n        });\n      }\n      if (audio.length > 0) {\n        load_audio(() => {\n        });\n      }\n      if (images.length > 0) {\n        load_images(() => {\n        });\n      }\n    }\n    function file_loading_error(e) {\n      update_loading_progress_bar();\n      if (success == null) {\n        success = false;\n      }\n      var source = \"unknown file\";\n      if (e.source) {\n        source = e.source;\n      }\n      if (e.error && e.error.path && e.error.path.length > 0) {\n        if (e.error.path[0].localName == \"img\") {\n          failed_images.push(source);\n        } else if (e.error.path[0].localName == \"audio\") {\n          failed_audio.push(source);\n        } else if (e.error.path[0].localName == \"video\") {\n          failed_video.push(source);\n        }\n      }\n      var err_msg = \"<p><strong>Error loading file: \" + source + \"</strong><br>\";\n      if (e.error.statusText) {\n        err_msg += \"File request response status: \" + e.error.statusText + \"<br>\";\n      }\n      if (e.error == \"404\") {\n        err_msg += \"404 - file not found.<br>\";\n      }\n      if (typeof e.error.loaded !== \"undefined\" && e.error.loaded !== null && e.error.loaded !== 0) {\n        err_msg += e.error.loaded + \" bytes transferred.\";\n      } else {\n        err_msg += \"File did not begin loading. Check that file path is correct and reachable by the browser,<br>and that loading is not blocked by cross-origin resource sharing (CORS) errors.\";\n      }\n      err_msg += \"</p>\";\n      detailed_errors.push(err_msg);\n      after_error(source);\n      if (loaded == total_n) {\n        if (trial.continue_after_error) {\n          end_trial();\n        } else {\n          stop_with_error_message();\n        }\n      }\n    }\n    function file_loading_success(source) {\n      update_loading_progress_bar();\n      after_success(source);\n      loaded_success++;\n      if (loaded_success == total_n) {\n        on_success();\n      } else if (loaded == total_n) {\n        if (trial.continue_after_error) {\n          end_trial();\n        } else {\n          stop_with_error_message();\n        }\n      }\n    }\n    function after_error(source) {\n      if (trial.on_error !== null) {\n        trial.on_error(source);\n      }\n    }\n    function after_success(source) {\n      if (trial.on_success !== null) {\n        trial.on_success(source);\n      }\n    }\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const default_data = {\n      success: true,\n      timeout: false,\n      failed_images: [],\n      failed_audio: [],\n      failed_video: []\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n  }\n}\nPreloadPlugin.info = info;\n\nexport { PreloadPlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-survey-html-form\",\n  version: \"2.0.0\",\n  description: \"a jspsych plugin for free html forms\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-survey-html-form\"\n  },\n  author: \"Jan Simson\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/survey-html-form\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"survey-html-form\",\n  version: _package.version,\n  parameters: {\n    html: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    preamble: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    button_label: {\n      type: ParameterType.STRING,\n      default: \"Continue\"\n    },\n    autofocus: {\n      type: ParameterType.STRING,\n      default: \"\"\n    },\n    dataAsArray: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    autocomplete: {\n      type: ParameterType.BOOL,\n      default: false\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.COMPLEX,\n      nested: {\n        identifier: {\n          type: ParameterType.STRING\n        },\n        response: {\n          type: ParameterType.STRING | ParameterType.INT | ParameterType.FLOAT | ParameterType.BOOL | ParameterType.OBJECT\n        }\n      }\n    },\n    rt: {\n      type: ParameterType.INT\n    }\n  }\n};\nclass SurveyHtmlFormPlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    var html = \"\";\n    if (trial.preamble !== null) {\n      html += '<div id=\"jspsych-survey-html-form-preamble\" class=\"jspsych-survey-html-form-preamble\">' + trial.preamble + \"</div>\";\n    }\n    if (trial.autocomplete) {\n      html += '<form id=\"jspsych-survey-html-form\">';\n    } else {\n      html += '<form id=\"jspsych-survey-html-form\" autocomplete=\"off\">';\n    }\n    html += trial.html;\n    html += '<input type=\"submit\" id=\"jspsych-survey-html-form-next\" class=\"jspsych-btn jspsych-survey-html-form\" value=\"' + trial.button_label + '\"></input>';\n    html += \"</form>\";\n    display_element.innerHTML = html;\n    if (trial.autofocus !== \"\") {\n      var focus_elements = display_element.querySelectorAll(\n        \"#\" + trial.autofocus\n      );\n      if (focus_elements.length === 0) {\n        console.warn(\"No element found with id: \" + trial.autofocus);\n      } else if (focus_elements.length > 1) {\n        console.warn('The id \"' + trial.autofocus + '\" is not unique so autofocus will not work.');\n      } else {\n        focus_elements[0].focus();\n      }\n    }\n    display_element.querySelector(\"#jspsych-survey-html-form\").addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      var endTime = performance.now();\n      var response_time = Math.round(endTime - startTime);\n      var this_form = display_element.querySelector(\"#jspsych-survey-html-form\");\n      var question_data = serializeArray(this_form);\n      if (!trial.dataAsArray) {\n        question_data = objectifyForm(question_data);\n      }\n      var trialdata = {\n        rt: response_time,\n        response: question_data\n      };\n      this.jsPsych.finishTrial(trialdata);\n    });\n    var startTime = performance.now();\n    function serializeArray(form) {\n      var serialized = [];\n      for (var i = 0; i < form.elements.length; i++) {\n        var field = form.elements[i];\n        if (!field.name || field.disabled || field.type === \"file\" || field.type === \"reset\" || field.type === \"submit\" || field.type === \"button\")\n          continue;\n        if (field.type === \"select-multiple\") {\n          for (var n = 0; n < field.options.length; n++) {\n            if (!field.options[n].selected)\n              continue;\n            serialized.push({\n              name: field.name,\n              value: field.options[n].value\n            });\n          }\n        } else if (field.type !== \"checkbox\" && field.type !== \"radio\" || field.checked) {\n          serialized.push({\n            name: field.name,\n            value: field.value\n          });\n        }\n      }\n      return serialized;\n    }\n    function objectifyForm(formArray) {\n      var returnArray = {};\n      for (var i = 0; i < formArray.length; i++) {\n        returnArray[formArray[i][\"name\"]] = formArray[i][\"value\"];\n      }\n      return returnArray;\n    }\n  }\n}\nSurveyHtmlFormPlugin.info = info;\n\nexport { SurveyHtmlFormPlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-survey-likert\",\n  version: \"2.0.0\",\n  description: \"a jspsych plugin for measuring items on a likert scale\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-survey-likert\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/survey-likert\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"survey-likert\",\n  version: _package.version,\n  parameters: {\n    questions: {\n      type: ParameterType.COMPLEX,\n      array: true,\n      nested: {\n        prompt: {\n          type: ParameterType.HTML_STRING,\n          default: void 0\n        },\n        labels: {\n          type: ParameterType.STRING,\n          array: true,\n          default: void 0\n        },\n        required: {\n          type: ParameterType.BOOL,\n          default: false\n        },\n        name: {\n          type: ParameterType.STRING,\n          default: \"\"\n        }\n      }\n    },\n    randomize_question_order: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    preamble: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    scale_width: {\n      type: ParameterType.INT,\n      default: null\n    },\n    button_label: {\n      type: ParameterType.STRING,\n      default: \"Continue\"\n    },\n    autocomplete: {\n      type: ParameterType.BOOL,\n      default: false\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.COMPLEX,\n      nested: {\n        identifier: {\n          type: ParameterType.STRING\n        },\n        response: {\n          type: ParameterType.STRING | ParameterType.INT | ParameterType.FLOAT | ParameterType.BOOL | ParameterType.OBJECT\n        }\n      }\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    question_order: {\n      type: ParameterType.INT,\n      array: true\n    }\n  }\n};\nclass SurveyLikertPlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    if (trial.scale_width !== null) {\n      var w = trial.scale_width + \"px\";\n    } else {\n      var w = \"100%\";\n    }\n    var html = \"\";\n    html += '<style id=\"jspsych-survey-likert-css\">';\n    html += \".jspsych-survey-likert-statement { display:block; font-size: 16px; padding-top: 40px; margin-bottom:10px; }.jspsych-survey-likert-opts { list-style:none; width:\" + w + \"; margin:auto; padding:0 0 35px; display:block; font-size: 14px; line-height:1.1em; }.jspsych-survey-likert-opt-label { line-height: 1.1em; color: #444; }.jspsych-survey-likert-opts:before { content: ''; position:relative; top:11px; /*left:9.5%;*/ display:block; background-color:#efefef; height:4px; width:100%; }.jspsych-survey-likert-opts:last-of-type { border-bottom: 0; }.jspsych-survey-likert-opts li { display:inline-block; /*width:19%;*/ text-align:center; vertical-align: top; }.jspsych-survey-likert-opts li input[type=radio] { display:block; position:relative; top:0; left:50%; margin-left:-6px; }\";\n    html += \"</style>\";\n    if (trial.preamble !== null) {\n      html += '<div id=\"jspsych-survey-likert-preamble\" class=\"jspsych-survey-likert-preamble\">' + trial.preamble + \"</div>\";\n    }\n    if (trial.autocomplete) {\n      html += '<form id=\"jspsych-survey-likert-form\">';\n    } else {\n      html += '<form id=\"jspsych-survey-likert-form\" autocomplete=\"off\">';\n    }\n    var question_order = [];\n    for (var i = 0; i < trial.questions.length; i++) {\n      question_order.push(i);\n    }\n    if (trial.randomize_question_order) {\n      question_order = this.jsPsych.randomization.shuffle(question_order);\n    }\n    for (var i = 0; i < trial.questions.length; i++) {\n      var question = trial.questions[question_order[i]];\n      html += '<label class=\"jspsych-survey-likert-statement\">' + question.prompt + \"</label>\";\n      var width = 100 / question.labels.length;\n      var options_string = '<ul class=\"jspsych-survey-likert-opts\" data-name=\"' + question.name + '\" data-radio-group=\"Q' + question_order[i] + '\">';\n      for (var j = 0; j < question.labels.length; j++) {\n        options_string += '<li style=\"width:' + width + '%\"><label class=\"jspsych-survey-likert-opt-label\"><input type=\"radio\" name=\"Q' + question_order[i] + '\" value=\"' + j + '\"';\n        if (question.required) {\n          options_string += \" required\";\n        }\n        options_string += \">\" + question.labels[j] + \"</label></li>\";\n      }\n      options_string += \"</ul>\";\n      html += options_string;\n    }\n    html += '<input type=\"submit\" id=\"jspsych-survey-likert-next\" class=\"jspsych-survey-likert jspsych-btn\" value=\"' + trial.button_label + '\"></input>';\n    html += \"</form>\";\n    display_element.innerHTML = html;\n    display_element.querySelector(\"#jspsych-survey-likert-form\").addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n      var endTime = performance.now();\n      var response_time = Math.round(endTime - startTime);\n      var question_data = {};\n      var matches = display_element.querySelectorAll(\n        \"#jspsych-survey-likert-form .jspsych-survey-likert-opts\"\n      );\n      for (var index = 0; index < matches.length; index++) {\n        var id = matches[index].dataset[\"radioGroup\"];\n        var el = display_element.querySelector(\n          'input[name=\"' + id + '\"]:checked'\n        );\n        if (el === null) {\n          var response = \"\";\n        } else {\n          var response = parseInt(el.value);\n        }\n        var obje = {};\n        if (matches[index].attributes[\"data-name\"].value !== \"\") {\n          var name = matches[index].attributes[\"data-name\"].value;\n        } else {\n          var name = id;\n        }\n        obje[name] = response;\n        Object.assign(question_data, obje);\n      }\n      var trial_data = {\n        rt: response_time,\n        response: question_data,\n        question_order\n      };\n      this.jsPsych.finishTrial(trial_data);\n    });\n    var startTime = performance.now();\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const question_data = {};\n    let rt = 1e3;\n    for (const q of trial.questions) {\n      const name = q.name ? q.name : `Q${trial.questions.indexOf(q)}`;\n      question_data[name] = this.jsPsych.randomization.randomInt(0, q.labels.length - 1);\n      rt += this.jsPsych.randomization.sampleExGaussian(1500, 400, 1 / 200, true);\n    }\n    const default_data = {\n      response: question_data,\n      rt,\n      question_order: trial.randomize_question_order ? this.jsPsych.randomization.shuffle([...Array(trial.questions.length).keys()]) : [...Array(trial.questions.length).keys()]\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    const answers = Object.entries(data.response);\n    for (let i = 0; i < answers.length; i++) {\n      this.jsPsych.pluginAPI.clickTarget(\n        display_element.querySelector(\n          `input[type=\"radio\"][name=\"${answers[i][0]}\"][value=\"${answers[i][1]}\"]`\n        ),\n        (data.rt - 1e3) / answers.length * (i + 1)\n      );\n    }\n    this.jsPsych.pluginAPI.clickTarget(\n      display_element.querySelector(\"#jspsych-survey-likert-next\"),\n      data.rt\n    );\n  }\n}\nSurveyLikertPlugin.info = info;\n\nexport { SurveyLikertPlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-survey-multi-choice\",\n  version: \"2.0.0\",\n  description: \"a jspsych plugin for multiple choice survey questions\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-survey-multi-choice\"\n  },\n  author: \"Shane Martin\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/survey-multi-choice\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"survey-multi-choice\",\n  version: _package.version,\n  parameters: {\n    questions: {\n      type: ParameterType.COMPLEX,\n      array: true,\n      nested: {\n        prompt: {\n          type: ParameterType.HTML_STRING,\n          default: void 0\n        },\n        options: {\n          type: ParameterType.STRING,\n          array: true,\n          default: void 0\n        },\n        required: {\n          type: ParameterType.BOOL,\n          default: false\n        },\n        horizontal: {\n          type: ParameterType.BOOL,\n          default: false\n        },\n        name: {\n          type: ParameterType.STRING,\n          default: \"\"\n        }\n      }\n    },\n    randomize_question_order: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    preamble: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    button_label: {\n      type: ParameterType.STRING,\n      default: \"Continue\"\n    },\n    autocomplete: {\n      type: ParameterType.BOOL,\n      default: false\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.COMPLEX,\n      nested: {\n        identifier: {\n          type: ParameterType.STRING\n        },\n        response: {\n          type: ParameterType.STRING | ParameterType.INT | ParameterType.FLOAT | ParameterType.BOOL | ParameterType.OBJECT\n        }\n      }\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    question_order: {\n      type: ParameterType.INT,\n      array: true\n    }\n  }\n};\nclass SurveyMultiChoicePlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    var plugin_id_name = \"jspsych-survey-multi-choice\";\n    var html = \"\";\n    html += '<style id=\"jspsych-survey-multi-choice-css\">';\n    html += \".jspsych-survey-multi-choice-question { margin-top: 2em; margin-bottom: 2em; text-align: left; }.jspsych-survey-multi-choice-text span.required {color: darkred;}.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-text {  text-align: center;}.jspsych-survey-multi-choice-option { line-height: 2; }.jspsych-survey-multi-choice-horizontal .jspsych-survey-multi-choice-option {  display: inline-block;  margin-left: 1em;  margin-right: 1em;  vertical-align: top;}label.jspsych-survey-multi-choice-text input[type='radio'] {margin-right: 1em;}\";\n    html += \"</style>\";\n    if (trial.preamble !== null) {\n      html += '<div id=\"jspsych-survey-multi-choice-preamble\" class=\"jspsych-survey-multi-choice-preamble\">' + trial.preamble + \"</div>\";\n    }\n    if (trial.autocomplete) {\n      html += '<form id=\"jspsych-survey-multi-choice-form\">';\n    } else {\n      html += '<form id=\"jspsych-survey-multi-choice-form\" autocomplete=\"off\">';\n    }\n    var question_order = [];\n    for (var i = 0; i < trial.questions.length; i++) {\n      question_order.push(i);\n    }\n    if (trial.randomize_question_order) {\n      question_order = this.jsPsych.randomization.shuffle(question_order);\n    }\n    for (var i = 0; i < trial.questions.length; i++) {\n      var question = trial.questions[question_order[i]];\n      var question_id = question_order[i];\n      var question_classes = [\"jspsych-survey-multi-choice-question\"];\n      if (question.horizontal) {\n        question_classes.push(\"jspsych-survey-multi-choice-horizontal\");\n      }\n      html += '<div id=\"jspsych-survey-multi-choice-' + question_id + '\" class=\"' + question_classes.join(\" \") + '\"  data-name=\"' + question.name + '\">';\n      html += '<p class=\"jspsych-survey-multi-choice-text survey-multi-choice\">' + question.prompt;\n      if (question.required) {\n        html += \"<span class='required'>*</span>\";\n      }\n      html += \"</p>\";\n      for (var j = 0; j < question.options.length; j++) {\n        var option_id_name = \"jspsych-survey-multi-choice-option-\" + question_id + \"-\" + j;\n        var input_name = \"jspsych-survey-multi-choice-response-\" + question_id;\n        var input_id = \"jspsych-survey-multi-choice-response-\" + question_id + \"-\" + j;\n        var required_attr = question.required ? \"required\" : \"\";\n        html += '<div id=\"' + option_id_name + '\" class=\"jspsych-survey-multi-choice-option\">';\n        html += '<label class=\"jspsych-survey-multi-choice-text\" for=\"' + input_id + '\">';\n        html += '<input type=\"radio\" name=\"' + input_name + '\" id=\"' + input_id + '\" value=\"' + question.options[j] + '\" ' + required_attr + \"></input>\";\n        html += question.options[j] + \"</label>\";\n        html += \"</div>\";\n      }\n      html += \"</div>\";\n    }\n    html += '<input type=\"submit\" id=\"' + plugin_id_name + '-next\" class=\"' + plugin_id_name + ' jspsych-btn\"' + (trial.button_label ? ' value=\"' + trial.button_label + '\"' : \"\") + \"></input>\";\n    html += \"</form>\";\n    display_element.innerHTML = html;\n    document.querySelector(\"form\").addEventListener(\"submit\", (event) => {\n      event.preventDefault();\n      var endTime = performance.now();\n      var response_time = Math.round(endTime - startTime);\n      var question_data = {};\n      for (var i2 = 0; i2 < trial.questions.length; i2++) {\n        var match = display_element.querySelector(\"#jspsych-survey-multi-choice-\" + i2);\n        var id = \"Q\" + i2;\n        var val;\n        if (match.querySelector(\"input[type=radio]:checked\") !== null) {\n          val = match.querySelector(\"input[type=radio]:checked\").value;\n        } else {\n          val = \"\";\n        }\n        var obje = {};\n        var name = id;\n        if (match.attributes[\"data-name\"].value !== \"\") {\n          name = match.attributes[\"data-name\"].value;\n        }\n        obje[name] = val;\n        Object.assign(question_data, obje);\n      }\n      var trial_data = {\n        rt: response_time,\n        response: question_data,\n        question_order\n      };\n      this.jsPsych.finishTrial(trial_data);\n    });\n    var startTime = performance.now();\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const question_data = {};\n    let rt = 1e3;\n    for (const q of trial.questions) {\n      const name = q.name ? q.name : `Q${trial.questions.indexOf(q)}`;\n      question_data[name] = this.jsPsych.randomization.sampleWithoutReplacement(q.options, 1)[0];\n      rt += this.jsPsych.randomization.sampleExGaussian(1500, 400, 1 / 200, true);\n    }\n    const default_data = {\n      response: question_data,\n      rt,\n      question_order: trial.randomize_question_order ? this.jsPsych.randomization.shuffle([...Array(trial.questions.length).keys()]) : [...Array(trial.questions.length).keys()]\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    const answers = Object.entries(data.response);\n    for (let i = 0; i < answers.length; i++) {\n      this.jsPsych.pluginAPI.clickTarget(\n        display_element.querySelector(\n          `#jspsych-survey-multi-choice-response-${i}-${trial.questions[i].options.indexOf(\n            answers[i][1]\n          )}`\n        ),\n        (data.rt - 1e3) / answers.length * (i + 1)\n      );\n    }\n    this.jsPsych.pluginAPI.clickTarget(\n      display_element.querySelector(\"#jspsych-survey-multi-choice-next\"),\n      data.rt\n    );\n  }\n}\nSurveyMultiChoicePlugin.info = info;\n\nexport { SurveyMultiChoicePlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-survey-text\",\n  version: \"2.0.0\",\n  description: \"a jspsych plugin for free response survey questions\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-survey-text\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/survey-text\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"survey-text\",\n  version: _package.version,\n  parameters: {\n    questions: {\n      type: ParameterType.COMPLEX,\n      array: true,\n      default: void 0,\n      nested: {\n        prompt: {\n          type: ParameterType.HTML_STRING,\n          default: void 0\n        },\n        placeholder: {\n          type: ParameterType.STRING,\n          default: \"\"\n        },\n        rows: {\n          type: ParameterType.INT,\n          default: 1\n        },\n        columns: {\n          type: ParameterType.INT,\n          default: 40\n        },\n        required: {\n          type: ParameterType.BOOL,\n          default: false\n        },\n        name: {\n          type: ParameterType.STRING,\n          default: \"\"\n        }\n      }\n    },\n    randomize_question_order: {\n      type: ParameterType.BOOL,\n      default: false\n    },\n    preamble: {\n      type: ParameterType.HTML_STRING,\n      default: null\n    },\n    button_label: {\n      type: ParameterType.STRING,\n      default: \"Continue\"\n    },\n    autocomplete: {\n      type: ParameterType.BOOL,\n      default: false\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.COMPLEX,\n      nested: {\n        identifier: {\n          type: ParameterType.STRING\n        },\n        response: {\n          type: ParameterType.STRING | ParameterType.INT | ParameterType.FLOAT | ParameterType.BOOL | ParameterType.OBJECT\n        }\n      }\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    question_order: {\n      type: ParameterType.INT,\n      array: true\n    }\n  }\n};\nclass SurveyTextPlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    for (var i = 0; i < trial.questions.length; i++) {\n      if (typeof trial.questions[i].rows == \"undefined\") {\n        trial.questions[i].rows = 1;\n      }\n    }\n    for (var i = 0; i < trial.questions.length; i++) {\n      if (typeof trial.questions[i].columns == \"undefined\") {\n        trial.questions[i].columns = 40;\n      }\n    }\n    for (var i = 0; i < trial.questions.length; i++) {\n      if (typeof trial.questions[i].value == \"undefined\") {\n        trial.questions[i].value = \"\";\n      }\n    }\n    var html = \"\";\n    if (trial.preamble !== null) {\n      html += '<div id=\"jspsych-survey-text-preamble\" class=\"jspsych-survey-text-preamble\">' + trial.preamble + \"</div>\";\n    }\n    if (trial.autocomplete) {\n      html += '<form id=\"jspsych-survey-text-form\">';\n    } else {\n      html += '<form id=\"jspsych-survey-text-form\" autocomplete=\"off\">';\n    }\n    var question_order = [];\n    for (var i = 0; i < trial.questions.length; i++) {\n      question_order.push(i);\n    }\n    if (trial.randomize_question_order) {\n      question_order = this.jsPsych.randomization.shuffle(question_order);\n    }\n    for (var i = 0; i < trial.questions.length; i++) {\n      var question = trial.questions[question_order[i]];\n      var question_index = question_order[i];\n      html += '<div id=\"jspsych-survey-text-' + question_index + '\" class=\"jspsych-survey-text-question\" style=\"margin: 2em 0em;\">';\n      html += '<p class=\"jspsych-survey-text\">' + question.prompt + \"</p>\";\n      var autofocus = i == 0 ? \"autofocus\" : \"\";\n      var req = question.required ? \"required\" : \"\";\n      if (question.rows == 1) {\n        html += '<input type=\"text\" id=\"input-' + question_index + '\"  name=\"#jspsych-survey-text-response-' + question_index + '\" data-name=\"' + question.name + '\" size=\"' + question.columns + '\" ' + autofocus + \" \" + req + ' placeholder=\"' + question.placeholder + '\"></input>';\n      } else {\n        html += '<textarea id=\"input-' + question_index + '\" name=\"#jspsych-survey-text-response-' + question_index + '\" data-name=\"' + question.name + '\" cols=\"' + question.columns + '\" rows=\"' + question.rows + '\" ' + autofocus + \" \" + req + ' placeholder=\"' + question.placeholder + '\"></textarea>';\n      }\n      html += \"</div>\";\n    }\n    html += '<input type=\"submit\" id=\"jspsych-survey-text-next\" class=\"jspsych-btn jspsych-survey-text\" value=\"' + trial.button_label + '\"></input>';\n    html += \"</form>\";\n    display_element.innerHTML = html;\n    display_element.querySelector(\"#input-\" + question_order[0]).focus();\n    display_element.querySelector(\"#jspsych-survey-text-form\").addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n      var endTime = performance.now();\n      var response_time = Math.round(endTime - startTime);\n      var question_data = {};\n      for (var index = 0; index < trial.questions.length; index++) {\n        var id = \"Q\" + index;\n        var q_element = document.querySelector(\"#jspsych-survey-text-\" + index).querySelector(\"textarea, input\");\n        var val = q_element.value;\n        var name = q_element.attributes[\"data-name\"].value;\n        if (name == \"\") {\n          name = id;\n        }\n        var obje = {};\n        obje[name] = val;\n        Object.assign(question_data, obje);\n      }\n      var trialdata = {\n        rt: response_time,\n        response: question_data\n      };\n      this.jsPsych.finishTrial(trialdata);\n    });\n    var startTime = performance.now();\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const question_data = {};\n    let rt = 1e3;\n    for (const q of trial.questions) {\n      const name = q.name ? q.name : `Q${trial.questions.indexOf(q)}`;\n      const ans_words = q.rows == 1 ? this.jsPsych.randomization.sampleExponential(0.25) : this.jsPsych.randomization.randomInt(1, 10) * q.rows;\n      question_data[name] = this.jsPsych.randomization.randomWords({\n        exactly: ans_words,\n        join: \" \"\n      });\n      rt += this.jsPsych.randomization.sampleExGaussian(2e3, 400, 4e-3, true);\n    }\n    const default_data = {\n      response: question_data,\n      rt\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    const answers = Object.entries(data.response).map((x) => {\n      return x[1];\n    });\n    for (let i = 0; i < answers.length; i++) {\n      this.jsPsych.pluginAPI.fillTextInput(\n        display_element.querySelector(`#input-${i}`),\n        answers[i],\n        (data.rt - 1e3) / answers.length * (i + 1)\n      );\n    }\n    this.jsPsych.pluginAPI.clickTarget(\n      display_element.querySelector(\"#jspsych-survey-text-next\"),\n      data.rt\n    );\n  }\n}\nSurveyTextPlugin.info = info;\n\nexport { SurveyTextPlugin as default };\n//# sourceMappingURL=index.js.map\n","import { ParameterType } from 'jspsych';\n\nvar _package = {\n  name: \"@jspsych/plugin-video-keyboard-response\",\n  version: \"2.0.0\",\n  description: \"jsPsych plugin for playing a video file and getting a keyboard response\",\n  type: \"module\",\n  main: \"dist/index.cjs\",\n  exports: {\n    import: \"./dist/index.js\",\n    require: \"./dist/index.cjs\"\n  },\n  typings: \"dist/index.d.ts\",\n  unpkg: \"dist/index.browser.min.js\",\n  files: [\n    \"src\",\n    \"dist\"\n  ],\n  source: \"src/index.ts\",\n  scripts: {\n    test: \"jest --passWithNoTests\",\n    \"test:watch\": \"npm test -- --watch\",\n    tsc: \"tsc\",\n    build: \"rollup --config\",\n    \"build:watch\": \"npm run build -- --watch\"\n  },\n  repository: {\n    type: \"git\",\n    url: \"git+https://github.com/jspsych/jsPsych.git\",\n    directory: \"packages/plugin-video-keyboard-response\"\n  },\n  author: \"Josh de Leeuw\",\n  license: \"MIT\",\n  bugs: {\n    url: \"https://github.com/jspsych/jsPsych/issues\"\n  },\n  homepage: \"https://www.jspsych.org/latest/plugins/video-keyboard-response\",\n  peerDependencies: {\n    jspsych: \">=7.1.0\"\n  },\n  devDependencies: {\n    \"@jspsych/config\": \"^3.0.0\",\n    \"@jspsych/test-utils\": \"^1.2.0\"\n  }\n};\n\nconst info = {\n  name: \"video-keyboard-response\",\n  version: _package.version,\n  parameters: {\n    stimulus: {\n      type: ParameterType.VIDEO,\n      pretty_name: \"Video\",\n      default: void 0,\n      array: true\n    },\n    choices: {\n      type: ParameterType.KEYS,\n      pretty_name: \"Choices\",\n      default: \"ALL_KEYS\"\n    },\n    prompt: {\n      type: ParameterType.HTML_STRING,\n      pretty_name: \"Prompt\",\n      default: null\n    },\n    width: {\n      type: ParameterType.INT,\n      pretty_name: \"Width\",\n      default: \"\"\n    },\n    height: {\n      type: ParameterType.INT,\n      pretty_name: \"Height\",\n      default: \"\"\n    },\n    autoplay: {\n      type: ParameterType.BOOL,\n      pretty_name: \"Autoplay\",\n      default: true\n    },\n    controls: {\n      type: ParameterType.BOOL,\n      pretty_name: \"Controls\",\n      default: false\n    },\n    start: {\n      type: ParameterType.FLOAT,\n      pretty_name: \"Start\",\n      default: null\n    },\n    stop: {\n      type: ParameterType.FLOAT,\n      pretty_name: \"Stop\",\n      default: null\n    },\n    rate: {\n      type: ParameterType.FLOAT,\n      pretty_name: \"Rate\",\n      default: 1\n    },\n    trial_ends_after_video: {\n      type: ParameterType.BOOL,\n      pretty_name: \"End trial after video finishes\",\n      default: false\n    },\n    trial_duration: {\n      type: ParameterType.INT,\n      pretty_name: \"Trial duration\",\n      default: null\n    },\n    response_ends_trial: {\n      type: ParameterType.BOOL,\n      pretty_name: \"Response ends trial\",\n      default: true\n    },\n    response_allowed_while_playing: {\n      type: ParameterType.BOOL,\n      pretty_name: \"Response allowed while playing\",\n      default: true\n    }\n  },\n  data: {\n    response: {\n      type: ParameterType.STRING\n    },\n    rt: {\n      type: ParameterType.INT\n    },\n    stimulus: {\n      type: ParameterType.STRING,\n      array: true\n    }\n  }\n};\nclass VideoKeyboardResponsePlugin {\n  constructor(jsPsych) {\n    this.jsPsych = jsPsych;\n  }\n  trial(display_element, trial) {\n    if (!Array.isArray(trial.stimulus)) {\n      throw new Error(`\n        The stimulus property for the video-keyboard-response plugin must be an array\n        of files. See https://www.jspsych.org/latest/plugins/video-keyboard-response/#parameters\n      `);\n    }\n    var video_html = \"<div>\";\n    video_html += '<video id=\"jspsych-video-keyboard-response-stimulus\"';\n    if (trial.width) {\n      video_html += ' width=\"' + trial.width + '\"';\n    }\n    if (trial.height) {\n      video_html += ' height=\"' + trial.height + '\"';\n    }\n    if (trial.autoplay && trial.start == null) {\n      video_html += \" autoplay \";\n    }\n    if (trial.controls) {\n      video_html += \" controls \";\n    }\n    if (trial.start !== null) {\n      video_html += ' style=\"visibility: hidden;\"';\n    }\n    video_html += \">\";\n    var video_preload_blob = this.jsPsych.pluginAPI.getVideoBuffer(trial.stimulus[0]);\n    if (!video_preload_blob) {\n      for (var i = 0; i < trial.stimulus.length; i++) {\n        var file_name = trial.stimulus[i];\n        if (file_name.indexOf(\"?\") > -1) {\n          file_name = file_name.substring(0, file_name.indexOf(\"?\"));\n        }\n        var type = file_name.substr(file_name.lastIndexOf(\".\") + 1);\n        type = type.toLowerCase();\n        if (type == \"mov\") {\n          console.warn(\n            \"Warning: video-keyboard-response plugin does not reliably support .mov files.\"\n          );\n        }\n        video_html += '<source src=\"' + file_name + '\" type=\"video/' + type + '\">';\n      }\n    }\n    video_html += \"</video>\";\n    video_html += \"</div>\";\n    if (trial.prompt !== null) {\n      video_html += trial.prompt;\n    }\n    display_element.innerHTML = video_html;\n    var video_element = display_element.querySelector(\n      \"#jspsych-video-keyboard-response-stimulus\"\n    );\n    if (video_preload_blob) {\n      video_element.src = video_preload_blob;\n    }\n    video_element.onended = () => {\n      if (trial.trial_ends_after_video) {\n        end_trial();\n      }\n      if (trial.response_allowed_while_playing == false && !trial.trial_ends_after_video) {\n        this.jsPsych.pluginAPI.getKeyboardResponse({\n          callback_function: after_response,\n          valid_responses: trial.choices,\n          rt_method: \"performance\",\n          persist: false,\n          allow_held_key: false\n        });\n      }\n    };\n    video_element.playbackRate = trial.rate;\n    if (trial.start !== null) {\n      video_element.pause();\n      video_element.onseeked = () => {\n        video_element.style.visibility = \"visible\";\n        video_element.muted = false;\n        if (trial.autoplay) {\n          video_element.play();\n        } else {\n          video_element.pause();\n        }\n        video_element.onseeked = () => {\n        };\n      };\n      video_element.onplaying = () => {\n        video_element.currentTime = trial.start;\n        video_element.onplaying = () => {\n        };\n      };\n      video_element.muted = true;\n      video_element.play();\n    }\n    let stopped = false;\n    if (trial.stop !== null) {\n      video_element.addEventListener(\"timeupdate\", (e) => {\n        var currenttime = video_element.currentTime;\n        if (currenttime >= trial.stop) {\n          if (!trial.response_allowed_while_playing) {\n            this.jsPsych.pluginAPI.getKeyboardResponse({\n              callback_function: after_response,\n              valid_responses: trial.choices,\n              rt_method: \"performance\",\n              persist: false,\n              allow_held_key: false\n            });\n          }\n          video_element.pause();\n          if (trial.trial_ends_after_video && !stopped) {\n            stopped = true;\n            end_trial();\n          }\n        }\n      });\n    }\n    var response = {\n      rt: null,\n      key: null\n    };\n    const end_trial = () => {\n      this.jsPsych.pluginAPI.cancelAllKeyboardResponses();\n      display_element.querySelector(\"#jspsych-video-keyboard-response-stimulus\").pause();\n      display_element.querySelector(\n        \"#jspsych-video-keyboard-response-stimulus\"\n      ).onended = () => {\n      };\n      var trial_data = {\n        rt: response.rt,\n        stimulus: trial.stimulus,\n        response: response.key\n      };\n      this.jsPsych.finishTrial(trial_data);\n    };\n    var after_response = (info2) => {\n      display_element.querySelector(\"#jspsych-video-keyboard-response-stimulus\").className += \" responded\";\n      if (response.key == null) {\n        response = info2;\n      }\n      if (trial.response_ends_trial) {\n        end_trial();\n      }\n    };\n    if (trial.choices != \"NO_KEYS\" && trial.response_allowed_while_playing) {\n      this.jsPsych.pluginAPI.getKeyboardResponse({\n        callback_function: after_response,\n        valid_responses: trial.choices,\n        rt_method: \"performance\",\n        persist: false,\n        allow_held_key: false\n      });\n    }\n    if (trial.trial_duration !== null) {\n      this.jsPsych.pluginAPI.setTimeout(end_trial, trial.trial_duration);\n    }\n  }\n  simulate(trial, simulation_mode, simulation_options, load_callback) {\n    if (simulation_mode == \"data-only\") {\n      load_callback();\n      this.simulate_data_only(trial, simulation_options);\n    }\n    if (simulation_mode == \"visual\") {\n      this.simulate_visual(trial, simulation_options, load_callback);\n    }\n  }\n  simulate_data_only(trial, simulation_options) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    this.jsPsych.finishTrial(data);\n  }\n  simulate_visual(trial, simulation_options, load_callback) {\n    const data = this.create_simulation_data(trial, simulation_options);\n    const display_element = this.jsPsych.getDisplayElement();\n    this.trial(display_element, trial);\n    load_callback();\n    const video_element = display_element.querySelector(\n      \"#jspsych-video-button-response-stimulus\"\n    );\n    const respond = () => {\n      if (data.rt !== null) {\n        this.jsPsych.pluginAPI.pressKey(data.response, data.rt);\n      }\n    };\n    if (!trial.response_allowed_while_playing) {\n      video_element.addEventListener(\"ended\", respond);\n    } else {\n      respond();\n    }\n  }\n  create_simulation_data(trial, simulation_options) {\n    const default_data = {\n      stimulus: trial.stimulus,\n      rt: this.jsPsych.randomization.sampleExGaussian(500, 50, 1 / 150, true),\n      response: this.jsPsych.pluginAPI.getValidKey(trial.choices)\n    };\n    const data = this.jsPsych.pluginAPI.mergeSimulationData(default_data, simulation_options);\n    this.jsPsych.pluginAPI.ensureSimulationDataConsistency(trial, data);\n    return data;\n  }\n}\nVideoKeyboardResponsePlugin.info = info;\n\nexport { VideoKeyboardResponsePlugin as default };\n//# sourceMappingURL=index.js.map\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\n// Gets all non-builtin properties up the prototype chain\nconst getAllProperties = object => {\n\tconst properties = new Set();\n\n\tdo {\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tproperties.add([object, key]);\n\t\t}\n\t} while ((object = Reflect.getPrototypeOf(object)) && object !== Object.prototype);\n\n\treturn properties;\n};\n\nvar autoBind = (self, {include, exclude} = {}) => {\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\n\t\tif (include) {\n\t\t\treturn include.some(match);\n\t\t}\n\n\t\tif (exclude) {\n\t\t\treturn !exclude.some(match);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tfor (const [object, key] of getAllProperties(self.constructor.prototype)) {\n\t\tif (key === 'constructor' || !filter(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst descriptor = Reflect.getOwnPropertyDescriptor(object, key);\n\t\tif (descriptor && typeof descriptor.value === 'function') {\n\t\t\tself[key] = self[key].bind(self);\n\t\t}\n\t}\n\n\treturn self;\n};\n\nvar autoBind$1 = /*@__PURE__*/getDefaultExportFromCjs(autoBind);\n\nvar version = \"7.3.4\";\n\nclass MigrationError extends Error {\n    constructor(message = \"The global `jsPsych` variable is no longer available in jsPsych v7.\") {\n        super(`${message} Please follow the migration guide at https://www.jspsych.org/7.0/support/migration-v7/ to update your experiment.`);\n        this.name = \"MigrationError\";\n    }\n}\n// Define a global jsPsych object to handle invocations on it with migration errors\nwindow.jsPsych = {\n    get init() {\n        throw new MigrationError(\"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.\");\n    },\n    get data() {\n        throw new MigrationError();\n    },\n    get randomization() {\n        throw new MigrationError();\n    },\n    get turk() {\n        throw new MigrationError();\n    },\n    get pluginAPI() {\n        throw new MigrationError();\n    },\n    get ALL_KEYS() {\n        throw new MigrationError('jsPsych.ALL_KEYS was replaced by the \"ALL_KEYS\" string in jsPsych v7.');\n    },\n    get NO_KEYS() {\n        throw new MigrationError('jsPsych.NO_KEYS was replaced by the \"NO_KEYS\" string in jsPsych v7.');\n    },\n};\n\n/**\n * Finds all of the unique items in an array.\n * @param arr The array to extract unique values from\n * @returns An array with one copy of each unique item in `arr`\n */\nfunction unique(arr) {\n    return [...new Set(arr)];\n}\nfunction deepCopy(obj) {\n    if (!obj)\n        return obj;\n    let out;\n    if (Array.isArray(obj)) {\n        out = [];\n        for (const x of obj) {\n            out.push(deepCopy(x));\n        }\n        return out;\n    }\n    else if (typeof obj === \"object\" && obj !== null) {\n        out = {};\n        for (const key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                out[key] = deepCopy(obj[key]);\n            }\n        }\n        return out;\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * Merges two objects, recursively.\n * @param obj1 Object to merge\n * @param obj2 Object to merge\n */\nfunction deepMerge(obj1, obj2) {\n    let merged = {};\n    for (const key in obj1) {\n        if (obj1.hasOwnProperty(key)) {\n            if (typeof obj1[key] === \"object\" && obj2.hasOwnProperty(key)) {\n                merged[key] = deepMerge(obj1[key], obj2[key]);\n            }\n            else {\n                merged[key] = obj1[key];\n            }\n        }\n    }\n    for (const key in obj2) {\n        if (obj2.hasOwnProperty(key)) {\n            if (!merged.hasOwnProperty(key)) {\n                merged[key] = obj2[key];\n            }\n            else if (typeof obj2[key] === \"object\") {\n                merged[key] = deepMerge(merged[key], obj2[key]);\n            }\n            else {\n                merged[key] = obj2[key];\n            }\n        }\n    }\n    return merged;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    deepCopy: deepCopy,\n    deepMerge: deepMerge,\n    unique: unique\n});\n\nclass DataColumn {\n    constructor(values = []) {\n        this.values = values;\n    }\n    sum() {\n        let s = 0;\n        for (const v of this.values) {\n            s += v;\n        }\n        return s;\n    }\n    mean() {\n        return this.sum() / this.count();\n    }\n    median() {\n        if (this.values.length === 0) {\n            return undefined;\n        }\n        const numbers = this.values.slice(0).sort(function (a, b) {\n            return a - b;\n        });\n        const middle = Math.floor(numbers.length / 2);\n        const isEven = numbers.length % 2 === 0;\n        return isEven ? (numbers[middle] + numbers[middle - 1]) / 2 : numbers[middle];\n    }\n    min() {\n        return Math.min.apply(null, this.values);\n    }\n    max() {\n        return Math.max.apply(null, this.values);\n    }\n    count() {\n        return this.values.length;\n    }\n    variance() {\n        const mean = this.mean();\n        let sum_square_error = 0;\n        for (const x of this.values) {\n            sum_square_error += Math.pow(x - mean, 2);\n        }\n        const mse = sum_square_error / (this.values.length - 1);\n        return mse;\n    }\n    sd() {\n        const mse = this.variance();\n        const rmse = Math.sqrt(mse);\n        return rmse;\n    }\n    frequencies() {\n        const unique = {};\n        for (const x of this.values) {\n            if (typeof unique[x] === \"undefined\") {\n                unique[x] = 1;\n            }\n            else {\n                unique[x]++;\n            }\n        }\n        return unique;\n    }\n    all(eval_fn) {\n        for (const x of this.values) {\n            if (!eval_fn(x)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    subset(eval_fn) {\n        const out = [];\n        for (const x of this.values) {\n            if (eval_fn(x)) {\n                out.push(x);\n            }\n        }\n        return new DataColumn(out);\n    }\n}\n\n// private function to save text file on local drive\nfunction saveTextToFile(textstr, filename) {\n    const blobToSave = new Blob([textstr], {\n        type: \"text/plain\",\n    });\n    let blobURL = \"\";\n    if (typeof window.webkitURL !== \"undefined\") {\n        blobURL = window.webkitURL.createObjectURL(blobToSave);\n    }\n    else {\n        blobURL = window.URL.createObjectURL(blobToSave);\n    }\n    const link = document.createElement(\"a\");\n    link.id = \"jspsych-download-as-text-link\";\n    link.style.display = \"none\";\n    link.download = filename;\n    link.href = blobURL;\n    link.click();\n}\n// this function based on code suggested by StackOverflow users:\n// http://stackoverflow.com/users/64741/zachary\n// http://stackoverflow.com/users/317/joseph-sturtevant\nfunction JSON2CSV(objArray) {\n    const array = typeof objArray != \"object\" ? JSON.parse(objArray) : objArray;\n    let line = \"\";\n    let result = \"\";\n    const columns = [];\n    for (const row of array) {\n        for (const key in row) {\n            let keyString = key + \"\";\n            keyString = '\"' + keyString.replace(/\"/g, '\"\"') + '\",';\n            if (!columns.includes(key)) {\n                columns.push(key);\n                line += keyString;\n            }\n        }\n    }\n    line = line.slice(0, -1); // removes last comma\n    result += line + \"\\r\\n\";\n    for (const row of array) {\n        line = \"\";\n        for (const col of columns) {\n            let value = typeof row[col] === \"undefined\" ? \"\" : row[col];\n            if (typeof value == \"object\") {\n                value = JSON.stringify(value);\n            }\n            const valueString = value + \"\";\n            line += '\"' + valueString.replace(/\"/g, '\"\"') + '\",';\n        }\n        line = line.slice(0, -1);\n        result += line + \"\\r\\n\";\n    }\n    return result;\n}\n// this function is modified from StackOverflow:\n// http://stackoverflow.com/posts/3855394\nfunction getQueryString() {\n    const a = window.location.search.substr(1).split(\"&\");\n    const b = {};\n    for (let i = 0; i < a.length; ++i) {\n        const p = a[i].split(\"=\", 2);\n        if (p.length == 1)\n            b[p[0]] = \"\";\n        else\n            b[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\n    }\n    return b;\n}\n\nclass DataCollection {\n    constructor(data = []) {\n        this.trials = data;\n    }\n    push(new_data) {\n        this.trials.push(new_data);\n        return this;\n    }\n    join(other_data_collection) {\n        this.trials = this.trials.concat(other_data_collection.values());\n        return this;\n    }\n    top() {\n        if (this.trials.length <= 1) {\n            return this;\n        }\n        else {\n            return new DataCollection([this.trials[this.trials.length - 1]]);\n        }\n    }\n    /**\n     * Queries the first n elements in a collection of trials.\n     *\n     * @param n A positive integer of elements to return. A value of\n     *          n that is less than 1 will throw an error.\n     *\n     * @return First n objects of a collection of trials. If fewer than\n     *         n trials are available, the trials.length elements will\n     *         be returned.\n     *\n     */\n    first(n = 1) {\n        if (n < 1) {\n            throw `You must query with a positive nonzero integer. Please use a\n               different value for n.`;\n        }\n        if (this.trials.length === 0)\n            return new DataCollection();\n        if (n > this.trials.length)\n            n = this.trials.length;\n        return new DataCollection(this.trials.slice(0, n));\n    }\n    /**\n     * Queries the last n elements in a collection of trials.\n     *\n     * @param n A positive integer of elements to return. A value of\n     *          n that is less than 1 will throw an error.\n     *\n     * @return Last n objects of a collection of trials. If fewer than\n     *         n trials are available, the trials.length elements will\n     *         be returned.\n     *\n     */\n    last(n = 1) {\n        if (n < 1) {\n            throw `You must query with a positive nonzero integer. Please use a\n               different value for n.`;\n        }\n        if (this.trials.length === 0)\n            return new DataCollection();\n        if (n > this.trials.length)\n            n = this.trials.length;\n        return new DataCollection(this.trials.slice(this.trials.length - n, this.trials.length));\n    }\n    values() {\n        return this.trials;\n    }\n    count() {\n        return this.trials.length;\n    }\n    readOnly() {\n        return new DataCollection(deepCopy(this.trials));\n    }\n    addToAll(properties) {\n        for (const trial of this.trials) {\n            Object.assign(trial, properties);\n        }\n        return this;\n    }\n    addToLast(properties) {\n        if (this.trials.length != 0) {\n            Object.assign(this.trials[this.trials.length - 1], properties);\n        }\n        return this;\n    }\n    filter(filters) {\n        // [{p1: v1, p2:v2}, {p1:v2}]\n        // {p1: v1}\n        let f;\n        if (!Array.isArray(filters)) {\n            f = deepCopy([filters]);\n        }\n        else {\n            f = deepCopy(filters);\n        }\n        const filtered_data = [];\n        for (const trial of this.trials) {\n            let keep = false;\n            for (const filter of f) {\n                let match = true;\n                for (const key of Object.keys(filter)) {\n                    if (typeof trial[key] !== \"undefined\" && trial[key] === filter[key]) ;\n                    else {\n                        match = false;\n                    }\n                }\n                if (match) {\n                    keep = true;\n                    break;\n                } // can break because each filter is OR.\n            }\n            if (keep) {\n                filtered_data.push(trial);\n            }\n        }\n        return new DataCollection(filtered_data);\n    }\n    filterCustom(fn) {\n        return new DataCollection(this.trials.filter(fn));\n    }\n    filterColumns(columns) {\n        return new DataCollection(this.trials.map((trial) => Object.fromEntries(columns.filter((key) => key in trial).map((key) => [key, trial[key]]))));\n    }\n    select(column) {\n        const values = [];\n        for (const trial of this.trials) {\n            if (typeof trial[column] !== \"undefined\") {\n                values.push(trial[column]);\n            }\n        }\n        return new DataColumn(values);\n    }\n    ignore(columns) {\n        if (!Array.isArray(columns)) {\n            columns = [columns];\n        }\n        const o = deepCopy(this.trials);\n        for (const trial of o) {\n            for (const delete_key of columns) {\n                delete trial[delete_key];\n            }\n        }\n        return new DataCollection(o);\n    }\n    uniqueNames() {\n        const names = [];\n        for (const trial of this.trials) {\n            for (const key of Object.keys(trial)) {\n                if (!names.includes(key)) {\n                    names.push(key);\n                }\n            }\n        }\n        return names;\n    }\n    csv() {\n        return JSON2CSV(this.trials);\n    }\n    json(pretty = false) {\n        if (pretty) {\n            return JSON.stringify(this.trials, null, \"\\t\");\n        }\n        return JSON.stringify(this.trials);\n    }\n    localSave(format, filename) {\n        format = format.toLowerCase();\n        let data_string;\n        if (format === \"json\") {\n            data_string = this.json();\n        }\n        else if (format === \"csv\") {\n            data_string = this.csv();\n        }\n        else {\n            throw new Error('Invalid format specified for localSave. Must be \"json\" or \"csv\".');\n        }\n        saveTextToFile(data_string, filename);\n    }\n}\n\nclass JsPsychData {\n    constructor(jsPsych) {\n        this.jsPsych = jsPsych;\n        // data properties for all trials\n        this.dataProperties = {};\n        this.reset();\n    }\n    reset() {\n        this.allData = new DataCollection();\n        this.interactionData = new DataCollection();\n    }\n    get() {\n        return this.allData;\n    }\n    getInteractionData() {\n        return this.interactionData;\n    }\n    write(data_object) {\n        const progress = this.jsPsych.getProgress();\n        const trial = this.jsPsych.getCurrentTrial();\n        //var trial_opt_data = typeof trial.data == 'function' ? trial.data() : trial.data;\n        const default_data = {\n            trial_type: trial.type.info.name,\n            trial_index: progress.current_trial_global,\n            time_elapsed: this.jsPsych.getTotalTime(),\n            internal_node_id: this.jsPsych.getCurrentTimelineNodeID(),\n        };\n        this.allData.push(Object.assign(Object.assign(Object.assign(Object.assign({}, data_object), trial.data), default_data), this.dataProperties));\n    }\n    addProperties(properties) {\n        // first, add the properties to all data that's already stored\n        this.allData.addToAll(properties);\n        // now add to list so that it gets appended to all future data\n        this.dataProperties = Object.assign({}, this.dataProperties, properties);\n    }\n    addDataToLastTrial(data) {\n        this.allData.addToLast(data);\n    }\n    getDataByTimelineNode(node_id) {\n        return this.allData.filterCustom((x) => x.internal_node_id.slice(0, node_id.length) === node_id);\n    }\n    getLastTrialData() {\n        return this.allData.top();\n    }\n    getLastTimelineData() {\n        const lasttrial = this.getLastTrialData();\n        const node_id = lasttrial.select(\"internal_node_id\").values[0];\n        if (typeof node_id === \"undefined\") {\n            return new DataCollection();\n        }\n        else {\n            const parent_node_id = node_id.substr(0, node_id.lastIndexOf(\"-\"));\n            const lastnodedata = this.getDataByTimelineNode(parent_node_id);\n            return lastnodedata;\n        }\n    }\n    displayData(format = \"json\") {\n        format = format.toLowerCase();\n        if (format != \"json\" && format != \"csv\") {\n            console.log(\"Invalid format declared for displayData function. Using json as default.\");\n            format = \"json\";\n        }\n        const data_string = format === \"json\" ? this.allData.json(true) : this.allData.csv();\n        const display_element = this.jsPsych.getDisplayElement();\n        display_element.innerHTML = '<pre id=\"jspsych-data-display\"></pre>';\n        document.getElementById(\"jspsych-data-display\").textContent = data_string;\n    }\n    urlVariables() {\n        if (typeof this.query_string == \"undefined\") {\n            this.query_string = getQueryString();\n        }\n        return this.query_string;\n    }\n    getURLVariable(whichvar) {\n        return this.urlVariables()[whichvar];\n    }\n    createInteractionListeners() {\n        // blur event capture\n        window.addEventListener(\"blur\", () => {\n            const data = {\n                event: \"blur\",\n                trial: this.jsPsych.getProgress().current_trial_global,\n                time: this.jsPsych.getTotalTime(),\n            };\n            this.interactionData.push(data);\n            this.jsPsych.getInitSettings().on_interaction_data_update(data);\n        });\n        // focus event capture\n        window.addEventListener(\"focus\", () => {\n            const data = {\n                event: \"focus\",\n                trial: this.jsPsych.getProgress().current_trial_global,\n                time: this.jsPsych.getTotalTime(),\n            };\n            this.interactionData.push(data);\n            this.jsPsych.getInitSettings().on_interaction_data_update(data);\n        });\n        // fullscreen change capture\n        const fullscreenchange = () => {\n            const data = {\n                event: \n                // @ts-expect-error\n                document.isFullScreen ||\n                    // @ts-expect-error\n                    document.webkitIsFullScreen ||\n                    // @ts-expect-error\n                    document.mozIsFullScreen ||\n                    document.fullscreenElement\n                    ? \"fullscreenenter\"\n                    : \"fullscreenexit\",\n                trial: this.jsPsych.getProgress().current_trial_global,\n                time: this.jsPsych.getTotalTime(),\n            };\n            this.interactionData.push(data);\n            this.jsPsych.getInitSettings().on_interaction_data_update(data);\n        };\n        document.addEventListener(\"fullscreenchange\", fullscreenchange);\n        document.addEventListener(\"mozfullscreenchange\", fullscreenchange);\n        document.addEventListener(\"webkitfullscreenchange\", fullscreenchange);\n    }\n    // public methods for testing purposes. not recommended for use.\n    _customInsert(data) {\n        this.allData = new DataCollection(data);\n    }\n    _fullreset() {\n        this.reset();\n        this.dataProperties = {};\n    }\n}\n\nclass HardwareAPI {\n    constructor() {\n        /**\n         * Indicates whether this instance of jspsych has opened a hardware connection through our browser\n         * extension\n         **/\n        this.hardwareConnected = false;\n        //it might be useful to open up a line of communication from the extension back to this page\n        //script, again, this will have to pass through DOM events. For now speed is of no concern so I\n        //will use jQuery\n        document.addEventListener(\"jspsych-activate\", (evt) => {\n            this.hardwareConnected = true;\n        });\n    }\n    /**\n     * Allows communication with user hardware through our custom Google Chrome extension + native C++ program\n     * @param\t\tmess\tThe message to be passed to our extension, see its documentation for the expected members of this object.\n     * @author\tDaniel Rivas\n     *\n     */\n    hardware(mess) {\n        //since Chrome extension content-scripts do not share the javascript environment with the page\n        //script that loaded jspsych, we will need to use hacky methods like communicating through DOM\n        //events.\n        const jspsychEvt = new CustomEvent(\"jspsych\", { detail: mess });\n        document.dispatchEvent(jspsychEvt);\n        //And voila! it will be the job of the content script injected by the extension to listen for\n        //the event and do the appropriate actions.\n    }\n}\n\nclass KeyboardListenerAPI {\n    constructor(getRootElement, areResponsesCaseSensitive = false, minimumValidRt = 0) {\n        this.getRootElement = getRootElement;\n        this.areResponsesCaseSensitive = areResponsesCaseSensitive;\n        this.minimumValidRt = minimumValidRt;\n        this.listeners = new Set();\n        this.heldKeys = new Set();\n        this.areRootListenersRegistered = false;\n        autoBind$1(this);\n        this.registerRootListeners();\n    }\n    /**\n     * If not previously done and `this.getRootElement()` returns an element, adds the root key\n     * listeners to that element.\n     */\n    registerRootListeners() {\n        if (!this.areRootListenersRegistered) {\n            const rootElement = this.getRootElement();\n            if (rootElement) {\n                rootElement.addEventListener(\"keydown\", this.rootKeydownListener);\n                rootElement.addEventListener(\"keyup\", this.rootKeyupListener);\n                this.areRootListenersRegistered = true;\n            }\n        }\n    }\n    rootKeydownListener(e) {\n        // Iterate over a static copy of the listeners set because listeners might add other listeners\n        // that we do not want to be included in the loop\n        for (const listener of Array.from(this.listeners)) {\n            listener(e);\n        }\n        this.heldKeys.add(this.toLowerCaseIfInsensitive(e.key));\n    }\n    toLowerCaseIfInsensitive(string) {\n        return this.areResponsesCaseSensitive ? string : string.toLowerCase();\n    }\n    rootKeyupListener(e) {\n        this.heldKeys.delete(this.toLowerCaseIfInsensitive(e.key));\n    }\n    isResponseValid(validResponses, allowHeldKey, key) {\n        // check if key was already held down\n        if (!allowHeldKey && this.heldKeys.has(key)) {\n            return false;\n        }\n        if (validResponses === \"ALL_KEYS\") {\n            return true;\n        }\n        if (validResponses === \"NO_KEYS\") {\n            return false;\n        }\n        return validResponses.includes(key);\n    }\n    getKeyboardResponse({ callback_function, valid_responses = \"ALL_KEYS\", rt_method = \"performance\", persist, audio_context, audio_context_start_time, allow_held_key = false, minimum_valid_rt = this.minimumValidRt, }) {\n        if (rt_method !== \"performance\" && rt_method !== \"audio\") {\n            console.log('Invalid RT method specified in getKeyboardResponse. Defaulting to \"performance\" method.');\n            rt_method = \"performance\";\n        }\n        const usePerformanceRt = rt_method === \"performance\";\n        const startTime = usePerformanceRt ? performance.now() : audio_context_start_time * 1000;\n        this.registerRootListeners();\n        if (!this.areResponsesCaseSensitive && typeof valid_responses !== \"string\") {\n            valid_responses = valid_responses.map((r) => r.toLowerCase());\n        }\n        const listener = (e) => {\n            const rt = Math.round((rt_method == \"performance\" ? performance.now() : audio_context.currentTime * 1000) -\n                startTime);\n            if (rt < minimum_valid_rt) {\n                return;\n            }\n            const key = this.toLowerCaseIfInsensitive(e.key);\n            if (this.isResponseValid(valid_responses, allow_held_key, key)) {\n                // if this is a valid response, then we don't want the key event to trigger other actions\n                // like scrolling via the spacebar.\n                e.preventDefault();\n                if (!persist) {\n                    // remove keyboard listener if it exists\n                    this.cancelKeyboardResponse(listener);\n                }\n                callback_function({ key, rt });\n            }\n        };\n        this.listeners.add(listener);\n        return listener;\n    }\n    cancelKeyboardResponse(listener) {\n        // remove the listener from the set of listeners if it is contained\n        this.listeners.delete(listener);\n    }\n    cancelAllKeyboardResponses() {\n        this.listeners.clear();\n    }\n    compareKeys(key1, key2) {\n        if ((typeof key1 !== \"string\" && key1 !== null) ||\n            (typeof key2 !== \"string\" && key2 !== null)) {\n            console.error(\"Error in jsPsych.pluginAPI.compareKeys: arguments must be key strings or null.\");\n            return undefined;\n        }\n        if (typeof key1 === \"string\" && typeof key2 === \"string\") {\n            // if both values are strings, then check whether or not letter case should be converted before comparing (case_sensitive_responses in initJsPsych)\n            return this.areResponsesCaseSensitive\n                ? key1 === key2\n                : key1.toLowerCase() === key2.toLowerCase();\n        }\n        return key1 === null && key2 === null;\n    }\n}\n\n/**\n * Parameter types for plugins\n */\nvar ParameterType;\n(function (ParameterType) {\n    ParameterType[ParameterType[\"BOOL\"] = 0] = \"BOOL\";\n    ParameterType[ParameterType[\"STRING\"] = 1] = \"STRING\";\n    ParameterType[ParameterType[\"INT\"] = 2] = \"INT\";\n    ParameterType[ParameterType[\"FLOAT\"] = 3] = \"FLOAT\";\n    ParameterType[ParameterType[\"FUNCTION\"] = 4] = \"FUNCTION\";\n    ParameterType[ParameterType[\"KEY\"] = 5] = \"KEY\";\n    ParameterType[ParameterType[\"KEYS\"] = 6] = \"KEYS\";\n    ParameterType[ParameterType[\"SELECT\"] = 7] = \"SELECT\";\n    ParameterType[ParameterType[\"HTML_STRING\"] = 8] = \"HTML_STRING\";\n    ParameterType[ParameterType[\"IMAGE\"] = 9] = \"IMAGE\";\n    ParameterType[ParameterType[\"AUDIO\"] = 10] = \"AUDIO\";\n    ParameterType[ParameterType[\"VIDEO\"] = 11] = \"VIDEO\";\n    ParameterType[ParameterType[\"OBJECT\"] = 12] = \"OBJECT\";\n    ParameterType[ParameterType[\"COMPLEX\"] = 13] = \"COMPLEX\";\n    ParameterType[ParameterType[\"TIMELINE\"] = 14] = \"TIMELINE\";\n})(ParameterType || (ParameterType = {}));\nconst universalPluginParameters = {\n    /**\n     * Data to add to this trial (key-value pairs)\n     */\n    data: {\n        type: ParameterType.OBJECT,\n        pretty_name: \"Data\",\n        default: {},\n    },\n    /**\n     * Function to execute when trial begins\n     */\n    on_start: {\n        type: ParameterType.FUNCTION,\n        pretty_name: \"On start\",\n        default: function () {\n            return;\n        },\n    },\n    /**\n     * Function to execute when trial is finished\n     */\n    on_finish: {\n        type: ParameterType.FUNCTION,\n        pretty_name: \"On finish\",\n        default: function () {\n            return;\n        },\n    },\n    /**\n     * Function to execute after the trial has loaded\n     */\n    on_load: {\n        type: ParameterType.FUNCTION,\n        pretty_name: \"On load\",\n        default: function () {\n            return;\n        },\n    },\n    /**\n     * Length of gap between the end of this trial and the start of the next trial\n     */\n    post_trial_gap: {\n        type: ParameterType.INT,\n        pretty_name: \"Post trial gap\",\n        default: null,\n    },\n    /**\n     * A list of CSS classes to add to the jsPsych display element for the duration of this trial\n     */\n    css_classes: {\n        type: ParameterType.STRING,\n        pretty_name: \"Custom CSS classes\",\n        default: null,\n    },\n    /**\n     * Options to control simulation mode for the trial.\n     */\n    simulation_options: {\n        type: ParameterType.COMPLEX,\n        default: null,\n    },\n};\n\nconst preloadParameterTypes = [\n    ParameterType.AUDIO,\n    ParameterType.IMAGE,\n    ParameterType.VIDEO,\n];\nclass MediaAPI {\n    constructor(useWebaudio, webaudioContext) {\n        this.useWebaudio = useWebaudio;\n        this.webaudioContext = webaudioContext;\n        // video //\n        this.video_buffers = {};\n        // audio //\n        this.context = null;\n        this.audio_buffers = [];\n        // preloading stimuli //\n        this.preload_requests = [];\n        this.img_cache = {};\n        this.preloadMap = new Map();\n        this.microphone_recorder = null;\n        this.camera_stream = null;\n        this.camera_recorder = null;\n    }\n    getVideoBuffer(videoID) {\n        if (videoID.startsWith(\"blob:\")) {\n            this.video_buffers[videoID] = videoID;\n        }\n        return this.video_buffers[videoID];\n    }\n    initAudio() {\n        this.context = this.useWebaudio ? this.webaudioContext : null;\n    }\n    audioContext() {\n        if (this.context !== null) {\n            if (this.context.state !== \"running\") {\n                this.context.resume();\n            }\n        }\n        return this.context;\n    }\n    getAudioBuffer(audioID) {\n        return new Promise((resolve, reject) => {\n            // check whether audio file already preloaded\n            if (typeof this.audio_buffers[audioID] == \"undefined\" ||\n                this.audio_buffers[audioID] == \"tmp\") {\n                // if audio is not already loaded, try to load it\n                this.preloadAudio([audioID], () => {\n                    resolve(this.audio_buffers[audioID]);\n                }, () => { }, (e) => {\n                    reject(e.error);\n                });\n            }\n            else {\n                // audio is already loaded\n                resolve(this.audio_buffers[audioID]);\n            }\n        });\n    }\n    preloadAudio(files, callback_complete = () => { }, callback_load = (filepath) => { }, callback_error = (error_msg) => { }) {\n        files = unique(files.flat());\n        let n_loaded = 0;\n        if (files.length == 0) {\n            callback_complete();\n            return;\n        }\n        const load_audio_file_webaudio = (source, count = 1) => {\n            const request = new XMLHttpRequest();\n            request.open(\"GET\", source, true);\n            request.responseType = \"arraybuffer\";\n            request.onload = () => {\n                this.context.decodeAudioData(request.response, (buffer) => {\n                    this.audio_buffers[source] = buffer;\n                    n_loaded++;\n                    callback_load(source);\n                    if (n_loaded == files.length) {\n                        callback_complete();\n                    }\n                }, (e) => {\n                    callback_error({ source: source, error: e });\n                });\n            };\n            request.onerror = (e) => {\n                let err = e;\n                if (request.status == 404) {\n                    err = \"404\";\n                }\n                callback_error({ source: source, error: err });\n            };\n            request.onloadend = (e) => {\n                if (request.status == 404) {\n                    callback_error({ source: source, error: \"404\" });\n                }\n            };\n            request.send();\n            this.preload_requests.push(request);\n        };\n        const load_audio_file_html5audio = (source, count = 1) => {\n            const audio = new Audio();\n            const handleCanPlayThrough = () => {\n                this.audio_buffers[source] = audio;\n                n_loaded++;\n                callback_load(source);\n                if (n_loaded == files.length) {\n                    callback_complete();\n                }\n                audio.removeEventListener(\"canplaythrough\", handleCanPlayThrough);\n            };\n            audio.addEventListener(\"canplaythrough\", handleCanPlayThrough);\n            audio.addEventListener(\"error\", function handleError(e) {\n                callback_error({ source: audio.src, error: e });\n                audio.removeEventListener(\"error\", handleError);\n            });\n            audio.addEventListener(\"abort\", function handleAbort(e) {\n                callback_error({ source: audio.src, error: e });\n                audio.removeEventListener(\"abort\", handleAbort);\n            });\n            audio.src = source;\n            this.preload_requests.push(audio);\n        };\n        for (const file of files) {\n            if (typeof this.audio_buffers[file] !== \"undefined\") {\n                n_loaded++;\n                callback_load(file);\n                if (n_loaded == files.length) {\n                    callback_complete();\n                }\n            }\n            else {\n                this.audio_buffers[file] = \"tmp\";\n                if (this.audioContext() !== null) {\n                    load_audio_file_webaudio(file);\n                }\n                else {\n                    load_audio_file_html5audio(file);\n                }\n            }\n        }\n    }\n    preloadImages(images, callback_complete = () => { }, callback_load = (filepath) => { }, callback_error = (error_msg) => { }) {\n        // flatten the images array\n        images = unique(images.flat());\n        var n_loaded = 0;\n        if (images.length === 0) {\n            callback_complete();\n            return;\n        }\n        for (let i = 0; i < images.length; i++) {\n            const img = new Image();\n            const src = images[i];\n            img.onload = () => {\n                n_loaded++;\n                callback_load(src);\n                if (n_loaded === images.length) {\n                    callback_complete();\n                }\n            };\n            img.onerror = (e) => {\n                callback_error({ source: src, error: e });\n            };\n            img.src = src;\n            this.img_cache[src] = img;\n            this.preload_requests.push(img);\n        }\n    }\n    preloadVideo(videos, callback_complete = () => { }, callback_load = (filepath) => { }, callback_error = (error_msg) => { }) {\n        // flatten the video array\n        videos = unique(videos.flat());\n        let n_loaded = 0;\n        if (videos.length === 0) {\n            callback_complete();\n            return;\n        }\n        for (const video of videos) {\n            const video_buffers = this.video_buffers;\n            //based on option 4 here: http://dinbror.dk/blog/how-to-preload-entire-html5-video-before-play-solved/\n            const request = new XMLHttpRequest();\n            request.open(\"GET\", video, true);\n            request.responseType = \"blob\";\n            request.onload = () => {\n                if (request.status === 200 || request.status === 0) {\n                    const videoBlob = request.response;\n                    video_buffers[video] = URL.createObjectURL(videoBlob); // IE10+\n                    n_loaded++;\n                    callback_load(video);\n                    if (n_loaded === videos.length) {\n                        callback_complete();\n                    }\n                }\n            };\n            request.onerror = (e) => {\n                let err = e;\n                if (request.status == 404) {\n                    err = \"404\";\n                }\n                callback_error({ source: video, error: err });\n            };\n            request.onloadend = (e) => {\n                if (request.status == 404) {\n                    callback_error({ source: video, error: \"404\" });\n                }\n            };\n            request.send();\n            this.preload_requests.push(request);\n        }\n    }\n    getAutoPreloadList(timeline_description) {\n        /** Map each preload parameter type to a set of paths to be preloaded */\n        const preloadPaths = Object.fromEntries(preloadParameterTypes.map((type) => [type, new Set()]));\n        const traverseTimeline = (node, inheritedTrialType) => {\n            var _a, _b, _c, _d;\n            const isTimeline = typeof node.timeline !== \"undefined\";\n            if (isTimeline) {\n                for (const childNode of node.timeline) {\n                    traverseTimeline(childNode, (_a = node.type) !== null && _a !== void 0 ? _a : inheritedTrialType);\n                }\n            }\n            else if ((_c = ((_b = node.type) !== null && _b !== void 0 ? _b : inheritedTrialType)) === null || _c === void 0 ? void 0 : _c.info) {\n                // node is a trial with type.info set\n                // Get the plugin name and parameters object from the info object\n                const { name: pluginName, parameters } = ((_d = node.type) !== null && _d !== void 0 ? _d : inheritedTrialType).info;\n                // Extract parameters to be preloaded and their types from parameter info if this has not\n                // yet been done for `pluginName`\n                if (!this.preloadMap.has(pluginName)) {\n                    this.preloadMap.set(pluginName, Object.fromEntries(Object.entries(parameters)\n                        // Filter out parameter entries with media types and a non-false `preload` option\n                        .filter(([_name, { type, preload }]) => preloadParameterTypes.includes(type) && (preload !== null && preload !== void 0 ? preload : true))\n                        // Map each entry's value to its parameter type\n                        .map(([name, { type }]) => [name, type])));\n                }\n                // Add preload paths from this trial\n                for (const [parameterName, parameterType] of Object.entries(this.preloadMap.get(pluginName))) {\n                    const parameterValue = node[parameterName];\n                    const elements = preloadPaths[parameterType];\n                    if (typeof parameterValue === \"string\") {\n                        elements.add(parameterValue);\n                    }\n                    else if (Array.isArray(parameterValue)) {\n                        for (const element of parameterValue.flat()) {\n                            if (typeof element === \"string\") {\n                                elements.add(element);\n                            }\n                        }\n                    }\n                }\n            }\n        };\n        traverseTimeline({ timeline: timeline_description });\n        return {\n            images: [...preloadPaths[ParameterType.IMAGE]],\n            audio: [...preloadPaths[ParameterType.AUDIO]],\n            video: [...preloadPaths[ParameterType.VIDEO]],\n        };\n    }\n    cancelPreloads() {\n        for (const request of this.preload_requests) {\n            request.onload = () => { };\n            request.onerror = () => { };\n            request.oncanplaythrough = () => { };\n            request.onabort = () => { };\n        }\n        this.preload_requests = [];\n    }\n    initializeMicrophoneRecorder(stream) {\n        const recorder = new MediaRecorder(stream);\n        this.microphone_recorder = recorder;\n    }\n    getMicrophoneRecorder() {\n        return this.microphone_recorder;\n    }\n    initializeCameraRecorder(stream, opts) {\n        this.camera_stream = stream;\n        const recorder = new MediaRecorder(stream, opts);\n        this.camera_recorder = recorder;\n    }\n    getCameraStream() {\n        return this.camera_stream;\n    }\n    getCameraRecorder() {\n        return this.camera_recorder;\n    }\n}\n\nclass SimulationAPI {\n    constructor(getDisplayContainerElement, setJsPsychTimeout) {\n        this.getDisplayContainerElement = getDisplayContainerElement;\n        this.setJsPsychTimeout = setJsPsychTimeout;\n    }\n    dispatchEvent(event) {\n        this.getDisplayContainerElement().dispatchEvent(event);\n    }\n    /**\n     * Dispatches a `keydown` event for the specified key\n     * @param key Character code (`.key` property) for the key to press.\n     */\n    keyDown(key) {\n        this.dispatchEvent(new KeyboardEvent(\"keydown\", { key }));\n    }\n    /**\n     * Dispatches a `keyup` event for the specified key\n     * @param key Character code (`.key` property) for the key to press.\n     */\n    keyUp(key) {\n        this.dispatchEvent(new KeyboardEvent(\"keyup\", { key }));\n    }\n    /**\n     * Dispatches a `keydown` and `keyup` event in sequence to simulate pressing a key.\n     * @param key Character code (`.key` property) for the key to press.\n     * @param delay Length of time to wait (ms) before executing action\n     */\n    pressKey(key, delay = 0) {\n        if (delay > 0) {\n            this.setJsPsychTimeout(() => {\n                this.keyDown(key);\n                this.keyUp(key);\n            }, delay);\n        }\n        else {\n            this.keyDown(key);\n            this.keyUp(key);\n        }\n    }\n    /**\n     * Dispatches `mousedown`, `mouseup`, and `click` events on the target element\n     * @param target The element to click\n     * @param delay Length of time to wait (ms) before executing action\n     */\n    clickTarget(target, delay = 0) {\n        if (delay > 0) {\n            this.setJsPsychTimeout(() => {\n                target.dispatchEvent(new MouseEvent(\"mousedown\", { bubbles: true }));\n                target.dispatchEvent(new MouseEvent(\"mouseup\", { bubbles: true }));\n                target.dispatchEvent(new MouseEvent(\"click\", { bubbles: true }));\n            }, delay);\n        }\n        else {\n            target.dispatchEvent(new MouseEvent(\"mousedown\", { bubbles: true }));\n            target.dispatchEvent(new MouseEvent(\"mouseup\", { bubbles: true }));\n            target.dispatchEvent(new MouseEvent(\"click\", { bubbles: true }));\n        }\n    }\n    /**\n     * Sets the value of a target text input\n     * @param target A text input element to fill in\n     * @param text Text to input\n     * @param delay Length of time to wait (ms) before executing action\n     */\n    fillTextInput(target, text, delay = 0) {\n        if (delay > 0) {\n            this.setJsPsychTimeout(() => {\n                target.value = text;\n            }, delay);\n        }\n        else {\n            target.value = text;\n        }\n    }\n    /**\n     * Picks a valid key from `choices`, taking into account jsPsych-specific\n     * identifiers like \"NO_KEYS\" and \"ALL_KEYS\".\n     * @param choices Which keys are valid.\n     * @returns A key selected at random from the valid keys.\n     */\n    getValidKey(choices) {\n        const possible_keys = [\n            \"a\",\n            \"b\",\n            \"c\",\n            \"d\",\n            \"e\",\n            \"f\",\n            \"g\",\n            \"h\",\n            \"i\",\n            \"j\",\n            \"k\",\n            \"l\",\n            \"m\",\n            \"n\",\n            \"o\",\n            \"p\",\n            \"q\",\n            \"r\",\n            \"s\",\n            \"t\",\n            \"u\",\n            \"v\",\n            \"w\",\n            \"x\",\n            \"y\",\n            \"z\",\n            \"0\",\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\",\n            \"5\",\n            \"6\",\n            \"7\",\n            \"8\",\n            \"9\",\n            \" \",\n        ];\n        let key;\n        if (choices == \"NO_KEYS\") {\n            key = null;\n        }\n        else if (choices == \"ALL_KEYS\") {\n            key = possible_keys[Math.floor(Math.random() * possible_keys.length)];\n        }\n        else {\n            const flat_choices = choices.flat();\n            key = flat_choices[Math.floor(Math.random() * flat_choices.length)];\n        }\n        return key;\n    }\n    mergeSimulationData(default_data, simulation_options) {\n        // override any data with data from simulation object\n        return Object.assign(Object.assign({}, default_data), simulation_options === null || simulation_options === void 0 ? void 0 : simulation_options.data);\n    }\n    ensureSimulationDataConsistency(trial, data) {\n        // All RTs must be rounded\n        if (data.rt) {\n            data.rt = Math.round(data.rt);\n        }\n        // If a trial_duration and rt exist, make sure that the RT is not longer than the trial.\n        if (trial.trial_duration && data.rt && data.rt > trial.trial_duration) {\n            data.rt = null;\n            if (data.response) {\n                data.response = null;\n            }\n            if (data.correct) {\n                data.correct = false;\n            }\n        }\n        // If trial.choices is NO_KEYS make sure that response and RT are null\n        if (trial.choices && trial.choices == \"NO_KEYS\") {\n            if (data.rt) {\n                data.rt = null;\n            }\n            if (data.response) {\n                data.response = null;\n            }\n        }\n        // If response is not allowed before stimulus display complete, ensure RT\n        // is longer than display time.\n        if (trial.allow_response_before_complete) {\n            if (trial.sequence_reps && trial.frame_time) {\n                const min_time = trial.sequence_reps * trial.frame_time * trial.stimuli.length;\n                if (data.rt < min_time) {\n                    data.rt = null;\n                    data.response = null;\n                }\n            }\n        }\n    }\n}\n\n/**\n * A class that provides a wrapper around the global setTimeout and clearTimeout functions.\n */\nclass TimeoutAPI {\n    constructor() {\n        this.timeout_handlers = [];\n    }\n    /**\n     * Calls a function after a specified delay, in milliseconds.\n     * @param callback The function to call after the delay.\n     * @param delay The number of milliseconds to wait before calling the function.\n     * @returns A handle that can be used to clear the timeout with clearTimeout.\n     */\n    setTimeout(callback, delay) {\n        const handle = window.setTimeout(callback, delay);\n        this.timeout_handlers.push(handle);\n        return handle;\n    }\n    /**\n     * Clears all timeouts that have been created with setTimeout.\n     */\n    clearAllTimeouts() {\n        for (const handler of this.timeout_handlers) {\n            clearTimeout(handler);\n        }\n        this.timeout_handlers = [];\n    }\n}\n\nfunction createJointPluginAPIObject(jsPsych) {\n    const settings = jsPsych.getInitSettings();\n    const keyboardListenerAPI = autoBind$1(new KeyboardListenerAPI(jsPsych.getDisplayContainerElement, settings.case_sensitive_responses, settings.minimum_valid_rt));\n    const timeoutAPI = autoBind$1(new TimeoutAPI());\n    const mediaAPI = autoBind$1(new MediaAPI(settings.use_webaudio, jsPsych.webaudio_context));\n    const hardwareAPI = autoBind$1(new HardwareAPI());\n    const simulationAPI = autoBind$1(new SimulationAPI(jsPsych.getDisplayContainerElement, timeoutAPI.setTimeout));\n    return Object.assign({}, ...[keyboardListenerAPI, timeoutAPI, mediaAPI, hardwareAPI, simulationAPI]);\n}\n\nvar alea$1 = {exports: {}};\n\nalea$1.exports;\n\n(function (module) {\n\t// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n\t// http://baagoe.com/en/RandomMusings/javascript/\n\t// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n\t// Original work is under MIT license -\n\n\t// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a copy\n\t// of this software and associated documentation files (the \"Software\"), to deal\n\t// in the Software without restriction, including without limitation the rights\n\t// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t// copies of the Software, and to permit persons to whom the Software is\n\t// furnished to do so, subject to the following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included in\n\t// all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t// THE SOFTWARE.\n\n\n\n\t(function(global, module, define) {\n\n\tfunction Alea(seed) {\n\t  var me = this, mash = Mash();\n\n\t  me.next = function() {\n\t    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n\t    me.s0 = me.s1;\n\t    me.s1 = me.s2;\n\t    return me.s2 = t - (me.c = t | 0);\n\t  };\n\n\t  // Apply the seeding algorithm from Baagoe.\n\t  me.c = 1;\n\t  me.s0 = mash(' ');\n\t  me.s1 = mash(' ');\n\t  me.s2 = mash(' ');\n\t  me.s0 -= mash(seed);\n\t  if (me.s0 < 0) { me.s0 += 1; }\n\t  me.s1 -= mash(seed);\n\t  if (me.s1 < 0) { me.s1 += 1; }\n\t  me.s2 -= mash(seed);\n\t  if (me.s2 < 0) { me.s2 += 1; }\n\t  mash = null;\n\t}\n\n\tfunction copy(f, t) {\n\t  t.c = f.c;\n\t  t.s0 = f.s0;\n\t  t.s1 = f.s1;\n\t  t.s2 = f.s2;\n\t  return t;\n\t}\n\n\tfunction impl(seed, opts) {\n\t  var xg = new Alea(seed),\n\t      state = opts && opts.state,\n\t      prng = xg.next;\n\t  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; };\n\t  prng.double = function() {\n\t    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n\t  };\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (typeof(state) == 'object') copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tfunction Mash() {\n\t  var n = 0xefc8249d;\n\n\t  var mash = function(data) {\n\t    data = String(data);\n\t    for (var i = 0; i < data.length; i++) {\n\t      n += data.charCodeAt(i);\n\t      var h = 0.02519603282416938 * n;\n\t      n = h >>> 0;\n\t      h -= n;\n\t      h *= n;\n\t      n = h >>> 0;\n\t      h -= n;\n\t      n += h * 0x100000000; // 2^32\n\t    }\n\t    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n\t  };\n\n\t  return mash;\n\t}\n\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.alea = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (alea$1));\n\nvar aleaExports = alea$1.exports;\nvar seedrandom$3 = /*@__PURE__*/getDefaultExportFromCjs(aleaExports);\n\nvar xor128$1 = {exports: {}};\n\nxor128$1.exports;\n\n(function (module) {\n\t// A Javascript implementaion of the \"xor128\" prng algorithm by\n\t// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n\t(function(global, module, define) {\n\n\tfunction XorGen(seed) {\n\t  var me = this, strseed = '';\n\n\t  me.x = 0;\n\t  me.y = 0;\n\t  me.z = 0;\n\t  me.w = 0;\n\n\t  // Set up generator function.\n\t  me.next = function() {\n\t    var t = me.x ^ (me.x << 11);\n\t    me.x = me.y;\n\t    me.y = me.z;\n\t    me.z = me.w;\n\t    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n\t  };\n\n\t  if (seed === (seed | 0)) {\n\t    // Integer seed.\n\t    me.x = seed;\n\t  } else {\n\t    // String seed.\n\t    strseed += seed;\n\t  }\n\n\t  // Mix in string seed, then discard an initial batch of 64 values.\n\t  for (var k = 0; k < strseed.length + 64; k++) {\n\t    me.x ^= strseed.charCodeAt(k) | 0;\n\t    me.next();\n\t  }\n\t}\n\n\tfunction copy(f, t) {\n\t  t.x = f.x;\n\t  t.y = f.y;\n\t  t.z = f.z;\n\t  t.w = f.w;\n\t  return t;\n\t}\n\n\tfunction impl(seed, opts) {\n\t  var xg = new XorGen(seed),\n\t      state = opts && opts.state,\n\t      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n\t  prng.double = function() {\n\t    do {\n\t      var top = xg.next() >>> 11,\n\t          bot = (xg.next() >>> 0) / 0x100000000,\n\t          result = (top + bot) / (1 << 21);\n\t    } while (result === 0);\n\t    return result;\n\t  };\n\t  prng.int32 = xg.next;\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (typeof(state) == 'object') copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.xor128 = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (xor128$1));\n\nvar xor128Exports = xor128$1.exports;\n\nvar xorwow$1 = {exports: {}};\n\nxorwow$1.exports;\n\n(function (module) {\n\t// A Javascript implementaion of the \"xorwow\" prng algorithm by\n\t// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n\t(function(global, module, define) {\n\n\tfunction XorGen(seed) {\n\t  var me = this, strseed = '';\n\n\t  // Set up generator function.\n\t  me.next = function() {\n\t    var t = (me.x ^ (me.x >>> 2));\n\t    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n\t    return (me.d = (me.d + 362437 | 0)) +\n\t       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n\t  };\n\n\t  me.x = 0;\n\t  me.y = 0;\n\t  me.z = 0;\n\t  me.w = 0;\n\t  me.v = 0;\n\n\t  if (seed === (seed | 0)) {\n\t    // Integer seed.\n\t    me.x = seed;\n\t  } else {\n\t    // String seed.\n\t    strseed += seed;\n\t  }\n\n\t  // Mix in string seed, then discard an initial batch of 64 values.\n\t  for (var k = 0; k < strseed.length + 64; k++) {\n\t    me.x ^= strseed.charCodeAt(k) | 0;\n\t    if (k == strseed.length) {\n\t      me.d = me.x << 10 ^ me.x >>> 4;\n\t    }\n\t    me.next();\n\t  }\n\t}\n\n\tfunction copy(f, t) {\n\t  t.x = f.x;\n\t  t.y = f.y;\n\t  t.z = f.z;\n\t  t.w = f.w;\n\t  t.v = f.v;\n\t  t.d = f.d;\n\t  return t;\n\t}\n\n\tfunction impl(seed, opts) {\n\t  var xg = new XorGen(seed),\n\t      state = opts && opts.state,\n\t      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n\t  prng.double = function() {\n\t    do {\n\t      var top = xg.next() >>> 11,\n\t          bot = (xg.next() >>> 0) / 0x100000000,\n\t          result = (top + bot) / (1 << 21);\n\t    } while (result === 0);\n\t    return result;\n\t  };\n\t  prng.int32 = xg.next;\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (typeof(state) == 'object') copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.xorwow = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (xorwow$1));\n\nvar xorwowExports = xorwow$1.exports;\n\nvar xorshift7$1 = {exports: {}};\n\nxorshift7$1.exports;\n\n(function (module) {\n\t// A Javascript implementaion of the \"xorshift7\" algorithm by\n\t// François Panneton and Pierre L'ecuyer:\n\t// \"On the Xorgshift Random Number Generators\"\n\t// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n\t(function(global, module, define) {\n\n\tfunction XorGen(seed) {\n\t  var me = this;\n\n\t  // Set up generator function.\n\t  me.next = function() {\n\t    // Update xor generator.\n\t    var X = me.x, i = me.i, t, v;\n\t    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n\t    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n\t    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n\t    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n\t    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n\t    X[i] = v;\n\t    me.i = (i + 1) & 7;\n\t    return v;\n\t  };\n\n\t  function init(me, seed) {\n\t    var j, X = [];\n\n\t    if (seed === (seed | 0)) {\n\t      // Seed state array using a 32-bit integer.\n\t      X[0] = seed;\n\t    } else {\n\t      // Seed state using a string.\n\t      seed = '' + seed;\n\t      for (j = 0; j < seed.length; ++j) {\n\t        X[j & 7] = (X[j & 7] << 15) ^\n\t            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n\t      }\n\t    }\n\t    // Enforce an array length of 8, not all zeroes.\n\t    while (X.length < 8) X.push(0);\n\t    for (j = 0; j < 8 && X[j] === 0; ++j);\n\t    if (j == 8) X[7] = -1; else X[j];\n\n\t    me.x = X;\n\t    me.i = 0;\n\n\t    // Discard an initial 256 values.\n\t    for (j = 256; j > 0; --j) {\n\t      me.next();\n\t    }\n\t  }\n\n\t  init(me, seed);\n\t}\n\n\tfunction copy(f, t) {\n\t  t.x = f.x.slice();\n\t  t.i = f.i;\n\t  return t;\n\t}\n\n\tfunction impl(seed, opts) {\n\t  if (seed == null) seed = +(new Date);\n\t  var xg = new XorGen(seed),\n\t      state = opts && opts.state,\n\t      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n\t  prng.double = function() {\n\t    do {\n\t      var top = xg.next() >>> 11,\n\t          bot = (xg.next() >>> 0) / 0x100000000,\n\t          result = (top + bot) / (1 << 21);\n\t    } while (result === 0);\n\t    return result;\n\t  };\n\t  prng.int32 = xg.next;\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (state.x) copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.xorshift7 = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (xorshift7$1));\n\nvar xorshift7Exports = xorshift7$1.exports;\n\nvar xor4096$1 = {exports: {}};\n\nxor4096$1.exports;\n\n(function (module) {\n\t// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n\t//\n\t// This fast non-cryptographic random number generator is designed for\n\t// use in Monte-Carlo algorithms. It combines a long-period xorshift\n\t// generator with a Weyl generator, and it passes all common batteries\n\t// of stasticial tests for randomness while consuming only a few nanoseconds\n\t// for each prng generated.  For background on the generator, see Brent's\n\t// paper: \"Some long-period random number generators using shifts and xors.\"\n\t// http://arxiv.org/pdf/1004.3115v1.pdf\n\t//\n\t// Usage:\n\t//\n\t// var xor4096 = require('xor4096');\n\t// random = xor4096(1);                        // Seed with int32 or string.\n\t// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n\t// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n\t//\n\t// For nonzero numeric keys, this impelementation provides a sequence\n\t// identical to that by Brent's xorgens 3 implementaion in C.  This\n\t// implementation also provides for initalizing the generator with\n\t// string seeds, or for saving and restoring the state of the generator.\n\t//\n\t// On Chrome, this prng benchmarks about 2.1 times slower than\n\t// Javascript's built-in Math.random().\n\n\t(function(global, module, define) {\n\n\tfunction XorGen(seed) {\n\t  var me = this;\n\n\t  // Set up generator function.\n\t  me.next = function() {\n\t    var w = me.w,\n\t        X = me.X, i = me.i, t, v;\n\t    // Update Weyl generator.\n\t    me.w = w = (w + 0x61c88647) | 0;\n\t    // Update xor generator.\n\t    v = X[(i + 34) & 127];\n\t    t = X[i = ((i + 1) & 127)];\n\t    v ^= v << 13;\n\t    t ^= t << 17;\n\t    v ^= v >>> 15;\n\t    t ^= t >>> 12;\n\t    // Update Xor generator array state.\n\t    v = X[i] = v ^ t;\n\t    me.i = i;\n\t    // Result is the combination.\n\t    return (v + (w ^ (w >>> 16))) | 0;\n\t  };\n\n\t  function init(me, seed) {\n\t    var t, v, i, j, w, X = [], limit = 128;\n\t    if (seed === (seed | 0)) {\n\t      // Numeric seeds initialize v, which is used to generates X.\n\t      v = seed;\n\t      seed = null;\n\t    } else {\n\t      // String seeds are mixed into v and X one character at a time.\n\t      seed = seed + '\\0';\n\t      v = 0;\n\t      limit = Math.max(limit, seed.length);\n\t    }\n\t    // Initialize circular array and weyl value.\n\t    for (i = 0, j = -32; j < limit; ++j) {\n\t      // Put the unicode characters into the array, and shuffle them.\n\t      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n\t      // After 32 shuffles, take v as the starting w value.\n\t      if (j === 0) w = v;\n\t      v ^= v << 10;\n\t      v ^= v >>> 15;\n\t      v ^= v << 4;\n\t      v ^= v >>> 13;\n\t      if (j >= 0) {\n\t        w = (w + 0x61c88647) | 0;     // Weyl.\n\t        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n\t        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n\t      }\n\t    }\n\t    // We have detected all zeroes; make the key nonzero.\n\t    if (i >= 128) {\n\t      X[(seed && seed.length || 0) & 127] = -1;\n\t    }\n\t    // Run the generator 512 times to further mix the state before using it.\n\t    // Factoring this as a function slows the main generator, so it is just\n\t    // unrolled here.  The weyl generator is not advanced while warming up.\n\t    i = 127;\n\t    for (j = 4 * 128; j > 0; --j) {\n\t      v = X[(i + 34) & 127];\n\t      t = X[i = ((i + 1) & 127)];\n\t      v ^= v << 13;\n\t      t ^= t << 17;\n\t      v ^= v >>> 15;\n\t      t ^= t >>> 12;\n\t      X[i] = v ^ t;\n\t    }\n\t    // Storing state as object members is faster than using closure variables.\n\t    me.w = w;\n\t    me.X = X;\n\t    me.i = i;\n\t  }\n\n\t  init(me, seed);\n\t}\n\n\tfunction copy(f, t) {\n\t  t.i = f.i;\n\t  t.w = f.w;\n\t  t.X = f.X.slice();\n\t  return t;\n\t}\n\tfunction impl(seed, opts) {\n\t  if (seed == null) seed = +(new Date);\n\t  var xg = new XorGen(seed),\n\t      state = opts && opts.state,\n\t      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n\t  prng.double = function() {\n\t    do {\n\t      var top = xg.next() >>> 11,\n\t          bot = (xg.next() >>> 0) / 0x100000000,\n\t          result = (top + bot) / (1 << 21);\n\t    } while (result === 0);\n\t    return result;\n\t  };\n\t  prng.int32 = xg.next;\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (state.X) copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.xor4096 = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,                                     // window object or global\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (xor4096$1));\n\nvar xor4096Exports = xor4096$1.exports;\n\nvar tychei$1 = {exports: {}};\n\ntychei$1.exports;\n\n(function (module) {\n\t// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n\t// Samuel Neves and Filipe Araujo.\n\t// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n\t(function(global, module, define) {\n\n\tfunction XorGen(seed) {\n\t  var me = this, strseed = '';\n\n\t  // Set up generator function.\n\t  me.next = function() {\n\t    var b = me.b, c = me.c, d = me.d, a = me.a;\n\t    b = (b << 25) ^ (b >>> 7) ^ c;\n\t    c = (c - d) | 0;\n\t    d = (d << 24) ^ (d >>> 8) ^ a;\n\t    a = (a - b) | 0;\n\t    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n\t    me.c = c = (c - d) | 0;\n\t    me.d = (d << 16) ^ (c >>> 16) ^ a;\n\t    return me.a = (a - b) | 0;\n\t  };\n\n\t  /* The following is non-inverted tyche, which has better internal\n\t   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n\t  me.next = function() {\n\t    var a = me.a, b = me.b, c = me.c, d = me.d;\n\t    a = (me.a + me.b | 0) >>> 0;\n\t    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n\t    c = me.c + d | 0;\n\t    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n\t    me.a = a = a + b | 0;\n\t    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n\t    me.c = c = c + d | 0;\n\t    b = b ^ c;\n\t    return me.b = (b << 7 ^ b >>> 25);\n\t  }\n\t  */\n\n\t  me.a = 0;\n\t  me.b = 0;\n\t  me.c = 2654435769 | 0;\n\t  me.d = 1367130551;\n\n\t  if (seed === Math.floor(seed)) {\n\t    // Integer seed.\n\t    me.a = (seed / 0x100000000) | 0;\n\t    me.b = seed | 0;\n\t  } else {\n\t    // String seed.\n\t    strseed += seed;\n\t  }\n\n\t  // Mix in string seed, then discard an initial batch of 64 values.\n\t  for (var k = 0; k < strseed.length + 20; k++) {\n\t    me.b ^= strseed.charCodeAt(k) | 0;\n\t    me.next();\n\t  }\n\t}\n\n\tfunction copy(f, t) {\n\t  t.a = f.a;\n\t  t.b = f.b;\n\t  t.c = f.c;\n\t  t.d = f.d;\n\t  return t;\n\t}\n\tfunction impl(seed, opts) {\n\t  var xg = new XorGen(seed),\n\t      state = opts && opts.state,\n\t      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n\t  prng.double = function() {\n\t    do {\n\t      var top = xg.next() >>> 11,\n\t          bot = (xg.next() >>> 0) / 0x100000000,\n\t          result = (top + bot) / (1 << 21);\n\t    } while (result === 0);\n\t    return result;\n\t  };\n\t  prng.int32 = xg.next;\n\t  prng.quick = prng;\n\t  if (state) {\n\t    if (typeof(state) == 'object') copy(state, xg);\n\t    prng.state = function() { return copy(xg, {}); };\n\t  }\n\t  return prng;\n\t}\n\n\tif (module && module.exports) {\n\t  module.exports = impl;\n\t} else if (define && define.amd) {\n\t  define(function() { return impl; });\n\t} else {\n\t  this.tychei = impl;\n\t}\n\n\t})(\n\t  commonjsGlobal,\n\t  module,    // present in node.js\n\t  (typeof undefined) == 'function'    // present with an AMD loader\n\t); \n} (tychei$1));\n\nvar tycheiExports = tychei$1.exports;\n\nvar seedrandom$2 = {exports: {}};\n\n/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (module) {\n\t(function (global, pool, math) {\n\t//\n\t// The following constants are related to IEEE 754 limits.\n\t//\n\n\tvar width = 256,        // each RC4 output is 0 <= x < 256\n\t    chunks = 6,         // at least six RC4 outputs for each double\n\t    digits = 52,        // there are 52 significant digits in a double\n\t    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n\t    startdenom = math.pow(width, chunks),\n\t    significance = math.pow(2, digits),\n\t    overflow = significance * 2,\n\t    mask = width - 1,\n\t    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n\t//\n\t// seedrandom()\n\t// This is the seedrandom function described above.\n\t//\n\tfunction seedrandom(seed, options, callback) {\n\t  var key = [];\n\t  options = (options == true) ? { entropy: true } : (options || {});\n\n\t  // Flatten the seed string or build one from local entropy if needed.\n\t  var shortseed = mixkey(flatten(\n\t    options.entropy ? [seed, tostring(pool)] :\n\t    (seed == null) ? autoseed() : seed, 3), key);\n\n\t  // Use the seed to initialize an ARC4 generator.\n\t  var arc4 = new ARC4(key);\n\n\t  // This function returns a random double in [0, 1) that contains\n\t  // randomness in every bit of the mantissa of the IEEE 754 value.\n\t  var prng = function() {\n\t    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n\t        d = startdenom,                 //   and denominator d = 2 ^ 48.\n\t        x = 0;                          //   and no 'extra last byte'.\n\t    while (n < significance) {          // Fill up all significant digits by\n\t      n = (n + x) * width;              //   shifting numerator and\n\t      d *= width;                       //   denominator and generating a\n\t      x = arc4.g(1);                    //   new least-significant-byte.\n\t    }\n\t    while (n >= overflow) {             // To avoid rounding up, before adding\n\t      n /= 2;                           //   last byte, shift everything\n\t      d /= 2;                           //   right using integer math until\n\t      x >>>= 1;                         //   we have exactly the desired bits.\n\t    }\n\t    return (n + x) / d;                 // Form the number within [0, 1).\n\t  };\n\n\t  prng.int32 = function() { return arc4.g(4) | 0; };\n\t  prng.quick = function() { return arc4.g(4) / 0x100000000; };\n\t  prng.double = prng;\n\n\t  // Mix the randomness into accumulated entropy.\n\t  mixkey(tostring(arc4.S), pool);\n\n\t  // Calling convention: what to return as a function of prng, seed, is_math.\n\t  return (options.pass || callback ||\n\t      function(prng, seed, is_math_call, state) {\n\t        if (state) {\n\t          // Load the arc4 state from the given state if it has an S array.\n\t          if (state.S) { copy(state, arc4); }\n\t          // Only provide the .state method if requested via options.state.\n\t          prng.state = function() { return copy(arc4, {}); };\n\t        }\n\n\t        // If called as a method of Math (Math.seedrandom()), mutate\n\t        // Math.random because that is how seedrandom.js has worked since v1.0.\n\t        if (is_math_call) { math[rngname] = prng; return seed; }\n\n\t        // Otherwise, it is a newer calling convention, so return the\n\t        // prng directly.\n\t        else return prng;\n\t      })(\n\t  prng,\n\t  shortseed,\n\t  'global' in options ? options.global : (this == math),\n\t  options.state);\n\t}\n\n\t//\n\t// ARC4\n\t//\n\t// An ARC4 implementation.  The constructor takes a key in the form of\n\t// an array of at most (width) integers that should be 0 <= x < (width).\n\t//\n\t// The g(count) method returns a pseudorandom integer that concatenates\n\t// the next (count) outputs from ARC4.  Its return value is a number x\n\t// that is in the range 0 <= x < (width ^ count).\n\t//\n\tfunction ARC4(key) {\n\t  var t, keylen = key.length,\n\t      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n\t  // The empty key [] is treated as [0].\n\t  if (!keylen) { key = [keylen++]; }\n\n\t  // Set up S using the standard key scheduling algorithm.\n\t  while (i < width) {\n\t    s[i] = i++;\n\t  }\n\t  for (i = 0; i < width; i++) {\n\t    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n\t    s[j] = t;\n\t  }\n\n\t  // The \"g\" method returns the next (count) outputs as one number.\n\t  (me.g = function(count) {\n\t    // Using instance members instead of closure state nearly doubles speed.\n\t    var t, r = 0,\n\t        i = me.i, j = me.j, s = me.S;\n\t    while (count--) {\n\t      t = s[i = mask & (i + 1)];\n\t      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n\t    }\n\t    me.i = i; me.j = j;\n\t    return r;\n\t    // For robust unpredictability, the function call below automatically\n\t    // discards an initial batch of values.  This is called RC4-drop[256].\n\t    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n\t  })(width);\n\t}\n\n\t//\n\t// copy()\n\t// Copies internal state of ARC4 to or from a plain object.\n\t//\n\tfunction copy(f, t) {\n\t  t.i = f.i;\n\t  t.j = f.j;\n\t  t.S = f.S.slice();\n\t  return t;\n\t}\n\t//\n\t// flatten()\n\t// Converts an object tree to nested arrays of strings.\n\t//\n\tfunction flatten(obj, depth) {\n\t  var result = [], typ = (typeof obj), prop;\n\t  if (depth && typ == 'object') {\n\t    for (prop in obj) {\n\t      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n\t    }\n\t  }\n\t  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n\t}\n\n\t//\n\t// mixkey()\n\t// Mixes a string seed into a key that is an array of integers, and\n\t// returns a shortened string seed that is equivalent to the result key.\n\t//\n\tfunction mixkey(seed, key) {\n\t  var stringseed = seed + '', smear, j = 0;\n\t  while (j < stringseed.length) {\n\t    key[mask & j] =\n\t      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n\t  }\n\t  return tostring(key);\n\t}\n\n\t//\n\t// autoseed()\n\t// Returns an object for autoseeding, using window.crypto and Node crypto\n\t// module if available.\n\t//\n\tfunction autoseed() {\n\t  try {\n\t    var out;\n\t    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n\t      // The use of 'out' to remember randomBytes makes tight minified code.\n\t      out = out(width);\n\t    } else {\n\t      out = new Uint8Array(width);\n\t      (global.crypto || global.msCrypto).getRandomValues(out);\n\t    }\n\t    return tostring(out);\n\t  } catch (e) {\n\t    var browser = global.navigator,\n\t        plugins = browser && browser.plugins;\n\t    return [+new Date, global, plugins, global.screen, tostring(pool)];\n\t  }\n\t}\n\n\t//\n\t// tostring()\n\t// Converts an array of charcodes to a string\n\t//\n\tfunction tostring(a) {\n\t  return String.fromCharCode.apply(0, a);\n\t}\n\n\t//\n\t// When seedrandom.js is loaded, we immediately mix a few bits\n\t// from the built-in RNG into the entropy pool.  Because we do\n\t// not want to interfere with deterministic PRNG state later,\n\t// seedrandom will not call math.random on its own again after\n\t// initialization.\n\t//\n\tmixkey(math.random(), pool);\n\n\t//\n\t// Nodejs and AMD support: export the implementation as a module using\n\t// either convention.\n\t//\n\tif (module.exports) {\n\t  module.exports = seedrandom;\n\t  // When in node.js, try using crypto package for autoseeding.\n\t  try {\n\t    nodecrypto = require('crypto');\n\t  } catch (ex) {}\n\t} else {\n\t  // When included as a plain script, set up Math.seedrandom global.\n\t  math['seed' + rngname] = seedrandom;\n\t}\n\n\n\t// End anonymous scope, and pass initial values.\n\t})(\n\t  // global: `self` in browsers (including strict mode and web workers),\n\t  // otherwise `this` in Node and other environments\n\t  (typeof self !== 'undefined') ? self : commonjsGlobal,\n\t  [],     // pool: entropy pool starts empty\n\t  Math    // math: package containing random, pow, and seedrandom\n\t); \n} (seedrandom$2));\n\nvar seedrandomExports = seedrandom$2.exports;\n\n// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = aleaExports;\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = xor128Exports;\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = xorwowExports;\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = xorshift7Exports;\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = xor4096Exports;\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = tycheiExports;\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = seedrandomExports;\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nvar seedrandom$1 = sr;\n\nvar seedrandom = seedrandom$1;\n\nvar wordList = [\n  // Borrowed from xkcd password generator which borrowed it from wherever\n  \"ability\",\"able\",\"aboard\",\"about\",\"above\",\"accept\",\"accident\",\"according\",\n  \"account\",\"accurate\",\"acres\",\"across\",\"act\",\"action\",\"active\",\"activity\",\n  \"actual\",\"actually\",\"add\",\"addition\",\"additional\",\"adjective\",\"adult\",\"adventure\",\n  \"advice\",\"affect\",\"afraid\",\"after\",\"afternoon\",\"again\",\"against\",\"age\",\n  \"ago\",\"agree\",\"ahead\",\"aid\",\"air\",\"airplane\",\"alike\",\"alive\",\n  \"all\",\"allow\",\"almost\",\"alone\",\"along\",\"aloud\",\"alphabet\",\"already\",\n  \"also\",\"although\",\"am\",\"among\",\"amount\",\"ancient\",\"angle\",\"angry\",\n  \"animal\",\"announced\",\"another\",\"answer\",\"ants\",\"any\",\"anybody\",\"anyone\",\n  \"anything\",\"anyway\",\"anywhere\",\"apart\",\"apartment\",\"appearance\",\"apple\",\"applied\",\n  \"appropriate\",\"are\",\"area\",\"arm\",\"army\",\"around\",\"arrange\",\"arrangement\",\n  \"arrive\",\"arrow\",\"art\",\"article\",\"as\",\"aside\",\"ask\",\"asleep\",\n  \"at\",\"ate\",\"atmosphere\",\"atom\",\"atomic\",\"attached\",\"attack\",\"attempt\",\n  \"attention\",\"audience\",\"author\",\"automobile\",\"available\",\"average\",\"avoid\",\"aware\",\n  \"away\",\"baby\",\"back\",\"bad\",\"badly\",\"bag\",\"balance\",\"ball\",\n  \"balloon\",\"band\",\"bank\",\"bar\",\"bare\",\"bark\",\"barn\",\"base\",\n  \"baseball\",\"basic\",\"basis\",\"basket\",\"bat\",\"battle\",\"be\",\"bean\",\n  \"bear\",\"beat\",\"beautiful\",\"beauty\",\"became\",\"because\",\"become\",\"becoming\",\n  \"bee\",\"been\",\"before\",\"began\",\"beginning\",\"begun\",\"behavior\",\"behind\",\n  \"being\",\"believed\",\"bell\",\"belong\",\"below\",\"belt\",\"bend\",\"beneath\",\n  \"bent\",\"beside\",\"best\",\"bet\",\"better\",\"between\",\"beyond\",\"bicycle\",\n  \"bigger\",\"biggest\",\"bill\",\"birds\",\"birth\",\"birthday\",\"bit\",\"bite\",\n  \"black\",\"blank\",\"blanket\",\"blew\",\"blind\",\"block\",\"blood\",\"blow\",\n  \"blue\",\"board\",\"boat\",\"body\",\"bone\",\"book\",\"border\",\"born\",\n  \"both\",\"bottle\",\"bottom\",\"bound\",\"bow\",\"bowl\",\"box\",\"boy\",\n  \"brain\",\"branch\",\"brass\",\"brave\",\"bread\",\"break\",\"breakfast\",\"breath\",\n  \"breathe\",\"breathing\",\"breeze\",\"brick\",\"bridge\",\"brief\",\"bright\",\"bring\",\n  \"broad\",\"broke\",\"broken\",\"brother\",\"brought\",\"brown\",\"brush\",\"buffalo\",\n  \"build\",\"building\",\"built\",\"buried\",\"burn\",\"burst\",\"bus\",\"bush\",\n  \"business\",\"busy\",\"but\",\"butter\",\"buy\",\"by\",\"cabin\",\"cage\",\n  \"cake\",\"call\",\"calm\",\"came\",\"camera\",\"camp\",\"can\",\"canal\",\n  \"cannot\",\"cap\",\"capital\",\"captain\",\"captured\",\"car\",\"carbon\",\"card\",\n  \"care\",\"careful\",\"carefully\",\"carried\",\"carry\",\"case\",\"cast\",\"castle\",\n  \"cat\",\"catch\",\"cattle\",\"caught\",\"cause\",\"cave\",\"cell\",\"cent\",\n  \"center\",\"central\",\"century\",\"certain\",\"certainly\",\"chain\",\"chair\",\"chamber\",\n  \"chance\",\"change\",\"changing\",\"chapter\",\"character\",\"characteristic\",\"charge\",\"chart\",\n  \"check\",\"cheese\",\"chemical\",\"chest\",\"chicken\",\"chief\",\"child\",\"children\",\n  \"choice\",\"choose\",\"chose\",\"chosen\",\"church\",\"circle\",\"circus\",\"citizen\",\n  \"city\",\"class\",\"classroom\",\"claws\",\"clay\",\"clean\",\"clear\",\"clearly\",\n  \"climate\",\"climb\",\"clock\",\"close\",\"closely\",\"closer\",\"cloth\",\"clothes\",\n  \"clothing\",\"cloud\",\"club\",\"coach\",\"coal\",\"coast\",\"coat\",\"coffee\",\n  \"cold\",\"collect\",\"college\",\"colony\",\"color\",\"column\",\"combination\",\"combine\",\n  \"come\",\"comfortable\",\"coming\",\"command\",\"common\",\"community\",\"company\",\"compare\",\n  \"compass\",\"complete\",\"completely\",\"complex\",\"composed\",\"composition\",\"compound\",\"concerned\",\n  \"condition\",\"congress\",\"connected\",\"consider\",\"consist\",\"consonant\",\"constantly\",\"construction\",\n  \"contain\",\"continent\",\"continued\",\"contrast\",\"control\",\"conversation\",\"cook\",\"cookies\",\n  \"cool\",\"copper\",\"copy\",\"corn\",\"corner\",\"correct\",\"correctly\",\"cost\",\n  \"cotton\",\"could\",\"count\",\"country\",\"couple\",\"courage\",\"course\",\"court\",\n  \"cover\",\"cow\",\"cowboy\",\"crack\",\"cream\",\"create\",\"creature\",\"crew\",\n  \"crop\",\"cross\",\"crowd\",\"cry\",\"cup\",\"curious\",\"current\",\"curve\",\n  \"customs\",\"cut\",\"cutting\",\"daily\",\"damage\",\"dance\",\"danger\",\"dangerous\",\n  \"dark\",\"darkness\",\"date\",\"daughter\",\"dawn\",\"day\",\"dead\",\"deal\",\n  \"dear\",\"death\",\"decide\",\"declared\",\"deep\",\"deeply\",\"deer\",\"definition\",\n  \"degree\",\"depend\",\"depth\",\"describe\",\"desert\",\"design\",\"desk\",\"detail\",\n  \"determine\",\"develop\",\"development\",\"diagram\",\"diameter\",\"did\",\"die\",\"differ\",\n  \"difference\",\"different\",\"difficult\",\"difficulty\",\"dig\",\"dinner\",\"direct\",\"direction\",\n  \"directly\",\"dirt\",\"dirty\",\"disappear\",\"discover\",\"discovery\",\"discuss\",\"discussion\",\n  \"disease\",\"dish\",\"distance\",\"distant\",\"divide\",\"division\",\"do\",\"doctor\",\n  \"does\",\"dog\",\"doing\",\"doll\",\"dollar\",\"done\",\"donkey\",\"door\",\n  \"dot\",\"double\",\"doubt\",\"down\",\"dozen\",\"draw\",\"drawn\",\"dream\",\n  \"dress\",\"drew\",\"dried\",\"drink\",\"drive\",\"driven\",\"driver\",\"driving\",\n  \"drop\",\"dropped\",\"drove\",\"dry\",\"duck\",\"due\",\"dug\",\"dull\",\n  \"during\",\"dust\",\"duty\",\"each\",\"eager\",\"ear\",\"earlier\",\"early\",\n  \"earn\",\"earth\",\"easier\",\"easily\",\"east\",\"easy\",\"eat\",\"eaten\",\n  \"edge\",\"education\",\"effect\",\"effort\",\"egg\",\"eight\",\"either\",\"electric\",\n  \"electricity\",\"element\",\"elephant\",\"eleven\",\"else\",\"empty\",\"end\",\"enemy\",\n  \"energy\",\"engine\",\"engineer\",\"enjoy\",\"enough\",\"enter\",\"entire\",\"entirely\",\n  \"environment\",\"equal\",\"equally\",\"equator\",\"equipment\",\"escape\",\"especially\",\"essential\",\n  \"establish\",\"even\",\"evening\",\"event\",\"eventually\",\"ever\",\"every\",\"everybody\",\n  \"everyone\",\"everything\",\"everywhere\",\"evidence\",\"exact\",\"exactly\",\"examine\",\"example\",\n  \"excellent\",\"except\",\"exchange\",\"excited\",\"excitement\",\"exciting\",\"exclaimed\",\"exercise\",\n  \"exist\",\"expect\",\"experience\",\"experiment\",\"explain\",\"explanation\",\"explore\",\"express\",\n  \"expression\",\"extra\",\"eye\",\"face\",\"facing\",\"fact\",\"factor\",\"factory\",\n  \"failed\",\"fair\",\"fairly\",\"fall\",\"fallen\",\"familiar\",\"family\",\"famous\",\n  \"far\",\"farm\",\"farmer\",\"farther\",\"fast\",\"fastened\",\"faster\",\"fat\",\n  \"father\",\"favorite\",\"fear\",\"feathers\",\"feature\",\"fed\",\"feed\",\"feel\",\n  \"feet\",\"fell\",\"fellow\",\"felt\",\"fence\",\"few\",\"fewer\",\"field\",\n  \"fierce\",\"fifteen\",\"fifth\",\"fifty\",\"fight\",\"fighting\",\"figure\",\"fill\",\n  \"film\",\"final\",\"finally\",\"find\",\"fine\",\"finest\",\"finger\",\"finish\",\n  \"fire\",\"fireplace\",\"firm\",\"first\",\"fish\",\"five\",\"fix\",\"flag\",\n  \"flame\",\"flat\",\"flew\",\"flies\",\"flight\",\"floating\",\"floor\",\"flow\",\n  \"flower\",\"fly\",\"fog\",\"folks\",\"follow\",\"food\",\"foot\",\"football\",\n  \"for\",\"force\",\"foreign\",\"forest\",\"forget\",\"forgot\",\"forgotten\",\"form\",\n  \"former\",\"fort\",\"forth\",\"forty\",\"forward\",\"fought\",\"found\",\"four\",\n  \"fourth\",\"fox\",\"frame\",\"free\",\"freedom\",\"frequently\",\"fresh\",\"friend\",\n  \"friendly\",\"frighten\",\"frog\",\"from\",\"front\",\"frozen\",\"fruit\",\"fuel\",\n  \"full\",\"fully\",\"fun\",\"function\",\"funny\",\"fur\",\"furniture\",\"further\",\n  \"future\",\"gain\",\"game\",\"garage\",\"garden\",\"gas\",\"gasoline\",\"gate\",\n  \"gather\",\"gave\",\"general\",\"generally\",\"gentle\",\"gently\",\"get\",\"getting\",\n  \"giant\",\"gift\",\"girl\",\"give\",\"given\",\"giving\",\"glad\",\"glass\",\n  \"globe\",\"go\",\"goes\",\"gold\",\"golden\",\"gone\",\"good\",\"goose\",\n  \"got\",\"government\",\"grabbed\",\"grade\",\"gradually\",\"grain\",\"grandfather\",\"grandmother\",\n  \"graph\",\"grass\",\"gravity\",\"gray\",\"great\",\"greater\",\"greatest\",\"greatly\",\n  \"green\",\"grew\",\"ground\",\"group\",\"grow\",\"grown\",\"growth\",\"guard\",\n  \"guess\",\"guide\",\"gulf\",\"gun\",\"habit\",\"had\",\"hair\",\"half\",\n  \"halfway\",\"hall\",\"hand\",\"handle\",\"handsome\",\"hang\",\"happen\",\"happened\",\n  \"happily\",\"happy\",\"harbor\",\"hard\",\"harder\",\"hardly\",\"has\",\"hat\",\n  \"have\",\"having\",\"hay\",\"he\",\"headed\",\"heading\",\"health\",\"heard\",\n  \"hearing\",\"heart\",\"heat\",\"heavy\",\"height\",\"held\",\"hello\",\"help\",\n  \"helpful\",\"her\",\"herd\",\"here\",\"herself\",\"hidden\",\"hide\",\"high\",\n  \"higher\",\"highest\",\"highway\",\"hill\",\"him\",\"himself\",\"his\",\"history\",\n  \"hit\",\"hold\",\"hole\",\"hollow\",\"home\",\"honor\",\"hope\",\"horn\",\n  \"horse\",\"hospital\",\"hot\",\"hour\",\"house\",\"how\",\"however\",\"huge\",\n  \"human\",\"hundred\",\"hung\",\"hungry\",\"hunt\",\"hunter\",\"hurried\",\"hurry\",\n  \"hurt\",\"husband\",\"ice\",\"idea\",\"identity\",\"if\",\"ill\",\"image\",\n  \"imagine\",\"immediately\",\"importance\",\"important\",\"impossible\",\"improve\",\"in\",\"inch\",\n  \"include\",\"including\",\"income\",\"increase\",\"indeed\",\"independent\",\"indicate\",\"individual\",\n  \"industrial\",\"industry\",\"influence\",\"information\",\"inside\",\"instance\",\"instant\",\"instead\",\n  \"instrument\",\"interest\",\"interior\",\"into\",\"introduced\",\"invented\",\"involved\",\"iron\",\n  \"is\",\"island\",\"it\",\"its\",\"itself\",\"jack\",\"jar\",\"jet\",\n  \"job\",\"join\",\"joined\",\"journey\",\"joy\",\"judge\",\"jump\",\"jungle\",\n  \"just\",\"keep\",\"kept\",\"key\",\"kids\",\"kill\",\"kind\",\"kitchen\",\n  \"knew\",\"knife\",\"know\",\"knowledge\",\"known\",\"label\",\"labor\",\"lack\",\n  \"lady\",\"laid\",\"lake\",\"lamp\",\"land\",\"language\",\"large\",\"larger\",\n  \"largest\",\"last\",\"late\",\"later\",\"laugh\",\"law\",\"lay\",\"layers\",\n  \"lead\",\"leader\",\"leaf\",\"learn\",\"least\",\"leather\",\"leave\",\"leaving\",\n  \"led\",\"left\",\"leg\",\"length\",\"lesson\",\"let\",\"letter\",\"level\",\n  \"library\",\"lie\",\"life\",\"lift\",\"light\",\"like\",\"likely\",\"limited\",\n  \"line\",\"lion\",\"lips\",\"liquid\",\"list\",\"listen\",\"little\",\"live\",\n  \"living\",\"load\",\"local\",\"locate\",\"location\",\"log\",\"lonely\",\"long\",\n  \"longer\",\"look\",\"loose\",\"lose\",\"loss\",\"lost\",\"lot\",\"loud\",\n  \"love\",\"lovely\",\"low\",\"lower\",\"luck\",\"lucky\",\"lunch\",\"lungs\",\n  \"lying\",\"machine\",\"machinery\",\"mad\",\"made\",\"magic\",\"magnet\",\"mail\",\n  \"main\",\"mainly\",\"major\",\"make\",\"making\",\"man\",\"managed\",\"manner\",\n  \"manufacturing\",\"many\",\"map\",\"mark\",\"market\",\"married\",\"mass\",\"massage\",\n  \"master\",\"material\",\"mathematics\",\"matter\",\"may\",\"maybe\",\"me\",\"meal\",\n  \"mean\",\"means\",\"meant\",\"measure\",\"meat\",\"medicine\",\"meet\",\"melted\",\n  \"member\",\"memory\",\"men\",\"mental\",\"merely\",\"met\",\"metal\",\"method\",\n  \"mice\",\"middle\",\"might\",\"mighty\",\"mile\",\"military\",\"milk\",\"mill\",\n  \"mind\",\"mine\",\"minerals\",\"minute\",\"mirror\",\"missing\",\"mission\",\"mistake\",\n  \"mix\",\"mixture\",\"model\",\"modern\",\"molecular\",\"moment\",\"money\",\"monkey\",\n  \"month\",\"mood\",\"moon\",\"more\",\"morning\",\"most\",\"mostly\",\"mother\",\n  \"motion\",\"motor\",\"mountain\",\"mouse\",\"mouth\",\"move\",\"movement\",\"movie\",\n  \"moving\",\"mud\",\"muscle\",\"music\",\"musical\",\"must\",\"my\",\"myself\",\n  \"mysterious\",\"nails\",\"name\",\"nation\",\"national\",\"native\",\"natural\",\"naturally\",\n  \"nature\",\"near\",\"nearby\",\"nearer\",\"nearest\",\"nearly\",\"necessary\",\"neck\",\n  \"needed\",\"needle\",\"needs\",\"negative\",\"neighbor\",\"neighborhood\",\"nervous\",\"nest\",\n  \"never\",\"new\",\"news\",\"newspaper\",\"next\",\"nice\",\"night\",\"nine\",\n  \"no\",\"nobody\",\"nodded\",\"noise\",\"none\",\"noon\",\"nor\",\"north\",\n  \"nose\",\"not\",\"note\",\"noted\",\"nothing\",\"notice\",\"noun\",\"now\",\n  \"number\",\"numeral\",\"nuts\",\"object\",\"observe\",\"obtain\",\"occasionally\",\"occur\",\n  \"ocean\",\"of\",\"off\",\"offer\",\"office\",\"officer\",\"official\",\"oil\",\n  \"old\",\"older\",\"oldest\",\"on\",\"once\",\"one\",\"only\",\"onto\",\n  \"open\",\"operation\",\"opinion\",\"opportunity\",\"opposite\",\"or\",\"orange\",\"orbit\",\n  \"order\",\"ordinary\",\"organization\",\"organized\",\"origin\",\"original\",\"other\",\"ought\",\n  \"our\",\"ourselves\",\"out\",\"outer\",\"outline\",\"outside\",\"over\",\"own\",\n  \"owner\",\"oxygen\",\"pack\",\"package\",\"page\",\"paid\",\"pain\",\"paint\",\n  \"pair\",\"palace\",\"pale\",\"pan\",\"paper\",\"paragraph\",\"parallel\",\"parent\",\n  \"park\",\"part\",\"particles\",\"particular\",\"particularly\",\"partly\",\"parts\",\"party\",\n  \"pass\",\"passage\",\"past\",\"path\",\"pattern\",\"pay\",\"peace\",\"pen\",\n  \"pencil\",\"people\",\"per\",\"percent\",\"perfect\",\"perfectly\",\"perhaps\",\"period\",\n  \"person\",\"personal\",\"pet\",\"phrase\",\"physical\",\"piano\",\"pick\",\"picture\",\n  \"pictured\",\"pie\",\"piece\",\"pig\",\"pile\",\"pilot\",\"pine\",\"pink\",\n  \"pipe\",\"pitch\",\"place\",\"plain\",\"plan\",\"plane\",\"planet\",\"planned\",\n  \"planning\",\"plant\",\"plastic\",\"plate\",\"plates\",\"play\",\"pleasant\",\"please\",\n  \"pleasure\",\"plenty\",\"plural\",\"plus\",\"pocket\",\"poem\",\"poet\",\"poetry\",\n  \"point\",\"pole\",\"police\",\"policeman\",\"political\",\"pond\",\"pony\",\"pool\",\n  \"poor\",\"popular\",\"population\",\"porch\",\"port\",\"position\",\"positive\",\"possible\",\n  \"possibly\",\"post\",\"pot\",\"potatoes\",\"pound\",\"pour\",\"powder\",\"power\",\n  \"powerful\",\"practical\",\"practice\",\"prepare\",\"present\",\"president\",\"press\",\"pressure\",\n  \"pretty\",\"prevent\",\"previous\",\"price\",\"pride\",\"primitive\",\"principal\",\"principle\",\n  \"printed\",\"private\",\"prize\",\"probably\",\"problem\",\"process\",\"produce\",\"product\",\n  \"production\",\"program\",\"progress\",\"promised\",\"proper\",\"properly\",\"property\",\"protection\",\n  \"proud\",\"prove\",\"provide\",\"public\",\"pull\",\"pupil\",\"pure\",\"purple\",\n  \"purpose\",\"push\",\"put\",\"putting\",\"quarter\",\"queen\",\"question\",\"quick\",\n  \"quickly\",\"quiet\",\"quietly\",\"quite\",\"rabbit\",\"race\",\"radio\",\"railroad\",\n  \"rain\",\"raise\",\"ran\",\"ranch\",\"range\",\"rapidly\",\"rate\",\"rather\",\n  \"raw\",\"rays\",\"reach\",\"read\",\"reader\",\"ready\",\"real\",\"realize\",\n  \"rear\",\"reason\",\"recall\",\"receive\",\"recent\",\"recently\",\"recognize\",\"record\",\n  \"red\",\"refer\",\"refused\",\"region\",\"regular\",\"related\",\"relationship\",\"religious\",\n  \"remain\",\"remarkable\",\"remember\",\"remove\",\"repeat\",\"replace\",\"replied\",\"report\",\n  \"represent\",\"require\",\"research\",\"respect\",\"rest\",\"result\",\"return\",\"review\",\n  \"rhyme\",\"rhythm\",\"rice\",\"rich\",\"ride\",\"riding\",\"right\",\"ring\",\n  \"rise\",\"rising\",\"river\",\"road\",\"roar\",\"rock\",\"rocket\",\"rocky\",\n  \"rod\",\"roll\",\"roof\",\"room\",\"root\",\"rope\",\"rose\",\"rough\",\n  \"round\",\"route\",\"row\",\"rubbed\",\"rubber\",\"rule\",\"ruler\",\"run\",\n  \"running\",\"rush\",\"sad\",\"saddle\",\"safe\",\"safety\",\"said\",\"sail\",\n  \"sale\",\"salmon\",\"salt\",\"same\",\"sand\",\"sang\",\"sat\",\"satellites\",\n  \"satisfied\",\"save\",\"saved\",\"saw\",\"say\",\"scale\",\"scared\",\"scene\",\n  \"school\",\"science\",\"scientific\",\"scientist\",\"score\",\"screen\",\"sea\",\"search\",\n  \"season\",\"seat\",\"second\",\"secret\",\"section\",\"see\",\"seed\",\"seeing\",\n  \"seems\",\"seen\",\"seldom\",\"select\",\"selection\",\"sell\",\"send\",\"sense\",\n  \"sent\",\"sentence\",\"separate\",\"series\",\"serious\",\"serve\",\"service\",\"sets\",\n  \"setting\",\"settle\",\"settlers\",\"seven\",\"several\",\"shade\",\"shadow\",\"shake\",\n  \"shaking\",\"shall\",\"shallow\",\"shape\",\"share\",\"sharp\",\"she\",\"sheep\",\n  \"sheet\",\"shelf\",\"shells\",\"shelter\",\"shine\",\"shinning\",\"ship\",\"shirt\",\n  \"shoe\",\"shoot\",\"shop\",\"shore\",\"short\",\"shorter\",\"shot\",\"should\",\n  \"shoulder\",\"shout\",\"show\",\"shown\",\"shut\",\"sick\",\"sides\",\"sight\",\n  \"sign\",\"signal\",\"silence\",\"silent\",\"silk\",\"silly\",\"silver\",\"similar\",\n  \"simple\",\"simplest\",\"simply\",\"since\",\"sing\",\"single\",\"sink\",\"sister\",\n  \"sit\",\"sitting\",\"situation\",\"six\",\"size\",\"skill\",\"skin\",\"sky\",\n  \"slabs\",\"slave\",\"sleep\",\"slept\",\"slide\",\"slight\",\"slightly\",\"slip\",\n  \"slipped\",\"slope\",\"slow\",\"slowly\",\"small\",\"smaller\",\"smallest\",\"smell\",\n  \"smile\",\"smoke\",\"smooth\",\"snake\",\"snow\",\"so\",\"soap\",\"social\",\n  \"society\",\"soft\",\"softly\",\"soil\",\"solar\",\"sold\",\"soldier\",\"solid\",\n  \"solution\",\"solve\",\"some\",\"somebody\",\"somehow\",\"someone\",\"something\",\"sometime\",\n  \"somewhere\",\"son\",\"song\",\"soon\",\"sort\",\"sound\",\"source\",\"south\",\n  \"southern\",\"space\",\"speak\",\"special\",\"species\",\"specific\",\"speech\",\"speed\",\n  \"spell\",\"spend\",\"spent\",\"spider\",\"spin\",\"spirit\",\"spite\",\"split\",\n  \"spoken\",\"sport\",\"spread\",\"spring\",\"square\",\"stage\",\"stairs\",\"stand\",\n  \"standard\",\"star\",\"stared\",\"start\",\"state\",\"statement\",\"station\",\"stay\",\n  \"steady\",\"steam\",\"steel\",\"steep\",\"stems\",\"step\",\"stepped\",\"stick\",\n  \"stiff\",\"still\",\"stock\",\"stomach\",\"stone\",\"stood\",\"stop\",\"stopped\",\n  \"store\",\"storm\",\"story\",\"stove\",\"straight\",\"strange\",\"stranger\",\"straw\",\n  \"stream\",\"street\",\"strength\",\"stretch\",\"strike\",\"string\",\"strip\",\"strong\",\n  \"stronger\",\"struck\",\"structure\",\"struggle\",\"stuck\",\"student\",\"studied\",\"studying\",\n  \"subject\",\"substance\",\"success\",\"successful\",\"such\",\"sudden\",\"suddenly\",\"sugar\",\n  \"suggest\",\"suit\",\"sum\",\"summer\",\"sun\",\"sunlight\",\"supper\",\"supply\",\n  \"support\",\"suppose\",\"sure\",\"surface\",\"surprise\",\"surrounded\",\"swam\",\"sweet\",\n  \"swept\",\"swim\",\"swimming\",\"swing\",\"swung\",\"syllable\",\"symbol\",\"system\",\n  \"table\",\"tail\",\"take\",\"taken\",\"tales\",\"talk\",\"tall\",\"tank\",\n  \"tape\",\"task\",\"taste\",\"taught\",\"tax\",\"tea\",\"teach\",\"teacher\",\n  \"team\",\"tears\",\"teeth\",\"telephone\",\"television\",\"tell\",\"temperature\",\"ten\",\n  \"tent\",\"term\",\"terrible\",\"test\",\"than\",\"thank\",\"that\",\"thee\",\n  \"them\",\"themselves\",\"then\",\"theory\",\"there\",\"therefore\",\"these\",\"they\",\n  \"thick\",\"thin\",\"thing\",\"think\",\"third\",\"thirty\",\"this\",\"those\",\n  \"thou\",\"though\",\"thought\",\"thousand\",\"thread\",\"three\",\"threw\",\"throat\",\n  \"through\",\"throughout\",\"throw\",\"thrown\",\"thumb\",\"thus\",\"thy\",\"tide\",\n  \"tie\",\"tight\",\"tightly\",\"till\",\"time\",\"tin\",\"tiny\",\"tip\",\n  \"tired\",\"title\",\"to\",\"tobacco\",\"today\",\"together\",\"told\",\"tomorrow\",\n  \"tone\",\"tongue\",\"tonight\",\"too\",\"took\",\"tool\",\"top\",\"topic\",\n  \"torn\",\"total\",\"touch\",\"toward\",\"tower\",\"town\",\"toy\",\"trace\",\n  \"track\",\"trade\",\"traffic\",\"trail\",\"train\",\"transportation\",\"trap\",\"travel\",\n  \"treated\",\"tree\",\"triangle\",\"tribe\",\"trick\",\"tried\",\"trip\",\"troops\",\n  \"tropical\",\"trouble\",\"truck\",\"trunk\",\"truth\",\"try\",\"tube\",\"tune\",\n  \"turn\",\"twelve\",\"twenty\",\"twice\",\"two\",\"type\",\"typical\",\"uncle\",\n  \"under\",\"underline\",\"understanding\",\"unhappy\",\"union\",\"unit\",\"universe\",\"unknown\",\n  \"unless\",\"until\",\"unusual\",\"up\",\"upon\",\"upper\",\"upward\",\"us\",\n  \"use\",\"useful\",\"using\",\"usual\",\"usually\",\"valley\",\"valuable\",\"value\",\n  \"vapor\",\"variety\",\"various\",\"vast\",\"vegetable\",\"verb\",\"vertical\",\"very\",\n  \"vessels\",\"victory\",\"view\",\"village\",\"visit\",\"visitor\",\"voice\",\"volume\",\n  \"vote\",\"vowel\",\"voyage\",\"wagon\",\"wait\",\"walk\",\"wall\",\"want\",\n  \"war\",\"warm\",\"warn\",\"was\",\"wash\",\"waste\",\"watch\",\"water\",\n  \"wave\",\"way\",\"we\",\"weak\",\"wealth\",\"wear\",\"weather\",\"week\",\n  \"weigh\",\"weight\",\"welcome\",\"well\",\"went\",\"were\",\"west\",\"western\",\n  \"wet\",\"whale\",\"what\",\"whatever\",\"wheat\",\"wheel\",\"when\",\"whenever\",\n  \"where\",\"wherever\",\"whether\",\"which\",\"while\",\"whispered\",\"whistle\",\"white\",\n  \"who\",\"whole\",\"whom\",\"whose\",\"why\",\"wide\",\"widely\",\"wife\",\n  \"wild\",\"will\",\"willing\",\"win\",\"wind\",\"window\",\"wing\",\"winter\",\n  \"wire\",\"wise\",\"wish\",\"with\",\"within\",\"without\",\"wolf\",\"women\",\n  \"won\",\"wonder\",\"wonderful\",\"wood\",\"wooden\",\"wool\",\"word\",\"wore\",\n  \"work\",\"worker\",\"world\",\"worried\",\"worry\",\"worse\",\"worth\",\"would\",\n  \"wrapped\",\"write\",\"writer\",\"writing\",\"written\",\"wrong\",\"wrote\",\"yard\",\n  \"year\",\"yellow\",\"yes\",\"yesterday\",\"yet\",\"you\",\"young\",\"younger\",\n  \"your\",\"yourself\",\"youth\",\"zero\",\"zebra\",\"zipper\",\"zoo\",\"zulu\"\n];\n\nfunction words(options) {\n  // initalize random number generator for words if options.seed is provided\n  const random = options?.seed ? new seedrandom(options.seed) : null;\n\n  function word() {\n    if (options && options.maxLength > 1) {\n      return generateWordWithMaxLength();\n    } else {\n      return generateRandomWord();\n    }\n  }\n\n  function generateWordWithMaxLength() {\n    var rightSize = false;\n    var wordUsed;\n    while (!rightSize) {  \n      wordUsed = generateRandomWord();\n      if(wordUsed.length <= options.maxLength) {\n        rightSize = true;\n      }\n\n    }\n    return wordUsed;\n  }\n\n  function generateRandomWord() {\n    return wordList[randInt(wordList.length)];\n  }\n\n  // random int as seeded by options.seed if applicable, or Math.random() otherwise\n  function randInt(lessThan) {\n    const r = random ? random() : Math.random();\n    return Math.floor(r * lessThan);\n  }\n\n  // No arguments = generate one word\n  if (typeof(options) === 'undefined') {\n    return word();\n  }\n\n  // Just a number = return that many words\n  if (typeof(options) === 'number') {\n    options = { exactly: options };\n  }\n\n  // options supported: exactly, min, max, join\n  if (options.exactly) {\n    options.min = options.exactly;\n    options.max = options.exactly;\n  }\n  \n  // not a number = one word par string\n  if (typeof(options.wordsPerString) !== 'number') {\n    options.wordsPerString = 1;\n  }\n\n  //not a function = returns the raw word\n  if (typeof(options.formatter) !== 'function') {\n    options.formatter = (word) => word;\n  }\n\n  //not a string = separator is a space\n  if (typeof(options.separator) !== 'string') {\n    options.separator = ' ';\n  }\n\n  var total = options.min + randInt(options.max + 1 - options.min);\n  var results = [];\n  var token = '';\n  var relativeIndex = 0;\n\n  for (var i = 0; (i < total * options.wordsPerString); i++) {\n    if (relativeIndex === options.wordsPerString - 1) {\n      token += options.formatter(word(), relativeIndex);\n    }\n    else {\n      token += options.formatter(word(), relativeIndex) + options.separator;\n    }\n    relativeIndex++;\n    if ((i + 1) % options.wordsPerString === 0) {\n      results.push(token);\n      token = ''; \n      relativeIndex = 0;\n    }\n   \n  }\n  if (typeof options.join === 'string') {\n    results = results.join(options.join);\n  }\n\n  return results;\n}\n\nvar randomWords$1 = words;\n// Export the word list as it is often useful\nwords.wordList = wordList;\n\nvar rw = /*@__PURE__*/getDefaultExportFromCjs(randomWords$1);\n\n/**\n * Uses the `seedrandom` package to replace Math.random() with a seedable PRNG.\n *\n * @param seed An optional seed. If none is given, a random seed will be generated.\n * @returns The seed value.\n */\nfunction setSeed(seed = Math.random().toString()) {\n    Math.random = seedrandom$3(seed);\n    return seed;\n}\nfunction repeat(array, repetitions, unpack = false) {\n    const arr_isArray = Array.isArray(array);\n    const rep_isArray = Array.isArray(repetitions);\n    // if array is not an array, then we just repeat the item\n    if (!arr_isArray) {\n        if (!rep_isArray) {\n            array = [array];\n            repetitions = [repetitions];\n        }\n        else {\n            repetitions = [repetitions[0]];\n            console.log(\"Unclear parameters given to randomization.repeat. Multiple set sizes specified, but only one item exists to sample. Proceeding using the first set size.\");\n        }\n    }\n    else {\n        // if repetitions is not an array, but array is, then we\n        // repeat repetitions for each entry in array\n        if (!rep_isArray) {\n            let reps = [];\n            for (let i = 0; i < array.length; i++) {\n                reps.push(repetitions);\n            }\n            repetitions = reps;\n        }\n        else {\n            if (array.length != repetitions.length) {\n                console.warn(\"Unclear parameters given to randomization.repeat. Items and repetitions are unequal lengths. Behavior may not be as expected.\");\n                // throw warning if repetitions is too short, use first rep ONLY.\n                if (repetitions.length < array.length) {\n                    let reps = [];\n                    for (let i = 0; i < array.length; i++) {\n                        reps.push(repetitions);\n                    }\n                    repetitions = reps;\n                }\n                else {\n                    // throw warning if too long, and then use the first N\n                    repetitions = repetitions.slice(0, array.length);\n                }\n            }\n        }\n    }\n    // should be clear at this point to assume that array and repetitions are arrays with == length\n    let allsamples = [];\n    for (let i = 0; i < array.length; i++) {\n        for (let j = 0; j < repetitions[i]; j++) {\n            if (array[i] == null || typeof array[i] != \"object\") {\n                allsamples.push(array[i]);\n            }\n            else {\n                allsamples.push(Object.assign({}, array[i]));\n            }\n        }\n    }\n    let out = shuffle(allsamples);\n    if (unpack) {\n        out = unpackArray(out);\n    }\n    return out;\n}\nfunction shuffle(array) {\n    if (!Array.isArray(array)) {\n        console.error(\"Argument to shuffle() must be an array.\");\n    }\n    const copy_array = array.slice(0);\n    let m = copy_array.length, t, i;\n    // While there remain elements to shuffle…\n    while (m) {\n        // Pick a remaining element…\n        i = Math.floor(Math.random() * m--);\n        // And swap it with the current element.\n        t = copy_array[m];\n        copy_array[m] = copy_array[i];\n        copy_array[i] = t;\n    }\n    return copy_array;\n}\nfunction shuffleNoRepeats(arr, equalityTest) {\n    if (!Array.isArray(arr)) {\n        console.error(\"First argument to shuffleNoRepeats() must be an array.\");\n    }\n    if (typeof equalityTest !== \"undefined\" && typeof equalityTest !== \"function\") {\n        console.error(\"Second argument to shuffleNoRepeats() must be a function.\");\n    }\n    // define a default equalityTest\n    if (typeof equalityTest == \"undefined\") {\n        equalityTest = function (a, b) {\n            if (a === b) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n    }\n    const random_shuffle = shuffle(arr);\n    for (let i = 0; i < random_shuffle.length - 1; i++) {\n        if (equalityTest(random_shuffle[i], random_shuffle[i + 1])) {\n            // neighbors are equal, pick a new random neighbor to swap (not the first or last element, to avoid edge cases)\n            let random_pick = Math.floor(Math.random() * (random_shuffle.length - 2)) + 1;\n            // test to make sure the new neighbor isn't equal to the old one\n            while (equalityTest(random_shuffle[i + 1], random_shuffle[random_pick]) ||\n                equalityTest(random_shuffle[i + 1], random_shuffle[random_pick + 1]) ||\n                equalityTest(random_shuffle[i + 1], random_shuffle[random_pick - 1]) ||\n                equalityTest(random_shuffle[i], random_shuffle[random_pick])) {\n                random_pick = Math.floor(Math.random() * (random_shuffle.length - 2)) + 1;\n            }\n            const new_neighbor = random_shuffle[random_pick];\n            random_shuffle[random_pick] = random_shuffle[i + 1];\n            random_shuffle[i + 1] = new_neighbor;\n        }\n    }\n    return random_shuffle;\n}\nfunction shuffleAlternateGroups(arr_groups, random_group_order = false) {\n    const n_groups = arr_groups.length;\n    if (n_groups == 1) {\n        console.warn(\"shuffleAlternateGroups() was called with only one group. Defaulting to simple shuffle.\");\n        return shuffle(arr_groups[0]);\n    }\n    let group_order = [];\n    for (let i = 0; i < n_groups; i++) {\n        group_order.push(i);\n    }\n    if (random_group_order) {\n        group_order = shuffle(group_order);\n    }\n    const randomized_groups = [];\n    let min_length = null;\n    for (let i = 0; i < n_groups; i++) {\n        min_length =\n            min_length === null ? arr_groups[i].length : Math.min(min_length, arr_groups[i].length);\n        randomized_groups.push(shuffle(arr_groups[i]));\n    }\n    const out = [];\n    for (let i = 0; i < min_length; i++) {\n        for (let j = 0; j < group_order.length; j++) {\n            out.push(randomized_groups[group_order[j]][i]);\n        }\n    }\n    return out;\n}\nfunction sampleWithoutReplacement(arr, size) {\n    if (!Array.isArray(arr)) {\n        console.error(\"First argument to sampleWithoutReplacement() must be an array\");\n    }\n    if (size > arr.length) {\n        console.error(\"Cannot take a sample larger than the size of the set of items to sample.\");\n    }\n    return shuffle(arr).slice(0, size);\n}\nfunction sampleWithReplacement(arr, size, weights) {\n    if (!Array.isArray(arr)) {\n        console.error(\"First argument to sampleWithReplacement() must be an array\");\n    }\n    const normalized_weights = [];\n    if (typeof weights !== \"undefined\") {\n        if (weights.length !== arr.length) {\n            console.error(\"The length of the weights array must equal the length of the array \" +\n                \"to be sampled from.\");\n        }\n        let weight_sum = 0;\n        for (const weight of weights) {\n            weight_sum += weight;\n        }\n        for (const weight of weights) {\n            normalized_weights.push(weight / weight_sum);\n        }\n    }\n    else {\n        for (let i = 0; i < arr.length; i++) {\n            normalized_weights.push(1 / arr.length);\n        }\n    }\n    const cumulative_weights = [normalized_weights[0]];\n    for (let i = 1; i < normalized_weights.length; i++) {\n        cumulative_weights.push(normalized_weights[i] + cumulative_weights[i - 1]);\n    }\n    const samp = [];\n    for (let i = 0; i < size; i++) {\n        const rnd = Math.random();\n        let index = 0;\n        while (rnd > cumulative_weights[index]) {\n            index++;\n        }\n        samp.push(arr[index]);\n    }\n    return samp;\n}\nfunction factorial(factors, repetitions = 1, unpack = false) {\n    let design = [{}];\n    for (const [factorName, factor] of Object.entries(factors)) {\n        const new_design = [];\n        for (const level of factor) {\n            for (const cell of design) {\n                new_design.push(Object.assign(Object.assign({}, cell), { [factorName]: level }));\n            }\n        }\n        design = new_design;\n    }\n    return repeat(design, repetitions, unpack);\n}\nfunction randomID(length = 32) {\n    let result = \"\";\n    const chars = \"0123456789abcdefghjklmnopqrstuvwxyz\";\n    for (let i = 0; i < length; i++) {\n        result += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return result;\n}\n/**\n * Generate a random integer from `lower` to `upper`, inclusive of both end points.\n * @param lower The lowest value it is possible to generate\n * @param upper The highest value it is possible to generate\n * @returns A random integer\n */\nfunction randomInt(lower, upper) {\n    if (upper < lower) {\n        throw new Error(\"Upper boundary must be less than or equal to lower boundary\");\n    }\n    return lower + Math.floor(Math.random() * (upper - lower + 1));\n}\n/**\n * Generates a random sample from a Bernoulli distribution.\n * @param p The probability of sampling 1.\n * @returns 0, with probability 1-p, or 1, with probability p.\n */\nfunction sampleBernoulli(p) {\n    return Math.random() <= p ? 1 : 0;\n}\nfunction sampleNormal(mean, standard_deviation) {\n    return randn_bm() * standard_deviation + mean;\n}\nfunction sampleExponential(rate) {\n    return -Math.log(Math.random()) / rate;\n}\nfunction sampleExGaussian(mean, standard_deviation, rate, positive = false) {\n    let s = sampleNormal(mean, standard_deviation) + sampleExponential(rate);\n    if (positive) {\n        while (s <= 0) {\n            s = sampleNormal(mean, standard_deviation) + sampleExponential(rate);\n        }\n    }\n    return s;\n}\n/**\n * Generate one or more random words.\n *\n * This is a wrapper function for the {@link https://www.npmjs.com/package/random-words `random-words` npm package}.\n *\n * @param opts An object with optional properties `min`, `max`, `exactly`,\n * `join`, `maxLength`, `wordsPerString`, `separator`, and `formatter`.\n *\n * @returns An array of words or a single string, depending on parameter choices.\n */\nfunction randomWords(opts) {\n    return rw(opts);\n}\n// Box-Muller transformation for a random sample from normal distribution with mean = 0, std = 1\n// https://stackoverflow.com/a/36481059/3726673\nfunction randn_bm() {\n    var u = 0, v = 0;\n    while (u === 0)\n        u = Math.random(); //Converting [0,1) to (0,1)\n    while (v === 0)\n        v = Math.random();\n    return Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n}\nfunction unpackArray(array) {\n    const out = {};\n    for (const x of array) {\n        for (const key of Object.keys(x)) {\n            if (typeof out[key] === \"undefined\") {\n                out[key] = [];\n            }\n            out[key].push(x[key]);\n        }\n    }\n    return out;\n}\n\nvar randomization = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    factorial: factorial,\n    randomID: randomID,\n    randomInt: randomInt,\n    randomWords: randomWords,\n    repeat: repeat,\n    sampleBernoulli: sampleBernoulli,\n    sampleExGaussian: sampleExGaussian,\n    sampleExponential: sampleExponential,\n    sampleNormal: sampleNormal,\n    sampleWithReplacement: sampleWithReplacement,\n    sampleWithoutReplacement: sampleWithoutReplacement,\n    setSeed: setSeed,\n    shuffle: shuffle,\n    shuffleAlternateGroups: shuffleAlternateGroups,\n    shuffleNoRepeats: shuffleNoRepeats\n});\n\n/**\n * Gets information about the Mechanical Turk Environment, HIT, Assignment, and Worker\n * by parsing the URL variables that Mechanical Turk generates.\n * @returns An object containing information about the Mechanical Turk Environment, HIT, Assignment, and Worker.\n */\nfunction turkInfo() {\n    const turk = {\n        previewMode: false,\n        outsideTurk: false,\n        hitId: \"INVALID_URL_PARAMETER\",\n        assignmentId: \"INVALID_URL_PARAMETER\",\n        workerId: \"INVALID_URL_PARAMETER\",\n        turkSubmitTo: \"INVALID_URL_PARAMETER\",\n    };\n    const param = function (url, name) {\n        name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n        const regexS = \"[\\\\?&]\" + name + \"=([^&#]*)\";\n        const regex = new RegExp(regexS);\n        const results = regex.exec(url);\n        return results == null ? \"\" : results[1];\n    };\n    const src = param(window.location.href, \"assignmentId\")\n        ? window.location.href\n        : document.referrer;\n    const keys = [\"assignmentId\", \"hitId\", \"workerId\", \"turkSubmitTo\"];\n    keys.map(function (key) {\n        turk[key] = unescape(param(src, key));\n    });\n    turk.previewMode = turk.assignmentId == \"ASSIGNMENT_ID_NOT_AVAILABLE\";\n    turk.outsideTurk =\n        !turk.previewMode && turk.hitId === \"\" && turk.assignmentId == \"\" && turk.workerId == \"\";\n    return turk;\n}\n/**\n * Send data to Mechnical Turk for storage.\n * @param data An object containing `key:value` pairs to send to Mechanical Turk. Values\n * cannot contain nested objects, arrays, or functions.\n * @returns Nothing\n */\nfunction submitToTurk(data) {\n    const turk = turkInfo();\n    const assignmentId = turk.assignmentId;\n    const turkSubmitTo = turk.turkSubmitTo;\n    if (!assignmentId || !turkSubmitTo)\n        return;\n    const form = document.createElement(\"form\");\n    form.method = \"POST\";\n    form.action = turkSubmitTo + \"/mturk/externalSubmit?assignmentId=\" + assignmentId;\n    for (const key in data) {\n        if (data.hasOwnProperty(key)) {\n            const hiddenField = document.createElement(\"input\");\n            hiddenField.type = \"hidden\";\n            hiddenField.name = key;\n            hiddenField.id = key;\n            hiddenField.value = data[key];\n            form.appendChild(hiddenField);\n        }\n    }\n    document.body.appendChild(form);\n    form.submit();\n}\n\nvar turk = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    submitToTurk: submitToTurk,\n    turkInfo: turkInfo\n});\n\nclass TimelineNode {\n    // constructor\n    constructor(jsPsych, parameters, parent, relativeID) {\n        this.jsPsych = jsPsych;\n        // track progress through the node\n        this.progress = {\n            current_location: -1,\n            current_variable_set: 0,\n            current_repetition: 0,\n            current_iteration: 0,\n            done: false,\n        };\n        // store a link to the parent of this node\n        this.parent_node = parent;\n        // create the ID for this node\n        this.relative_id = typeof parent === \"undefined\" ? 0 : relativeID;\n        // check if there is a timeline parameter\n        // if there is, then this node has its own timeline\n        if (typeof parameters.timeline !== \"undefined\") {\n            // create timeline properties\n            this.timeline_parameters = {\n                timeline: [],\n                loop_function: parameters.loop_function,\n                conditional_function: parameters.conditional_function,\n                sample: parameters.sample,\n                randomize_order: typeof parameters.randomize_order == \"undefined\" ? false : parameters.randomize_order,\n                repetitions: typeof parameters.repetitions == \"undefined\" ? 1 : parameters.repetitions,\n                timeline_variables: typeof parameters.timeline_variables == \"undefined\"\n                    ? [{}]\n                    : parameters.timeline_variables,\n                on_timeline_finish: parameters.on_timeline_finish,\n                on_timeline_start: parameters.on_timeline_start,\n            };\n            this.setTimelineVariablesOrder();\n            // extract all of the node level data and parameters\n            // but remove all of the timeline-level specific information\n            // since this will be used to copy things down hierarchically\n            var node_data = Object.assign({}, parameters);\n            delete node_data.timeline;\n            delete node_data.conditional_function;\n            delete node_data.loop_function;\n            delete node_data.randomize_order;\n            delete node_data.repetitions;\n            delete node_data.timeline_variables;\n            delete node_data.sample;\n            delete node_data.on_timeline_start;\n            delete node_data.on_timeline_finish;\n            this.node_trial_data = node_data; // store for later...\n            // create a TimelineNode for each element in the timeline\n            for (var i = 0; i < parameters.timeline.length; i++) {\n                // merge parameters\n                var merged_parameters = Object.assign({}, node_data, parameters.timeline[i]);\n                // merge any data from the parent node into child nodes\n                if (typeof node_data.data == \"object\" && typeof parameters.timeline[i].data == \"object\") {\n                    var merged_data = Object.assign({}, node_data.data, parameters.timeline[i].data);\n                    merged_parameters.data = merged_data;\n                }\n                this.timeline_parameters.timeline.push(new TimelineNode(this.jsPsych, merged_parameters, this, i));\n            }\n        }\n        // if there is no timeline parameter, then this node is a trial node\n        else {\n            // check to see if a valid trial type is defined\n            if (typeof parameters.type === \"undefined\") {\n                console.error('Trial level node is missing the \"type\" parameter. The parameters for the node are: ' +\n                    JSON.stringify(parameters));\n            }\n            // create a deep copy of the parameters for the trial\n            this.trial_parameters = Object.assign({}, parameters);\n        }\n    }\n    // recursively get the next trial to run.\n    // if this node is a leaf (trial), then return the trial.\n    // otherwise, recursively find the next trial in the child timeline.\n    trial() {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            // returns a clone of the trial_parameters to\n            // protect functions.\n            return deepCopy(this.trial_parameters);\n        }\n        else {\n            if (this.progress.current_location >= this.timeline_parameters.timeline.length) {\n                return null;\n            }\n            else {\n                return this.timeline_parameters.timeline[this.progress.current_location].trial();\n            }\n        }\n    }\n    markCurrentTrialComplete() {\n        if (typeof this.timeline_parameters === \"undefined\") {\n            this.progress.done = true;\n        }\n        else {\n            this.timeline_parameters.timeline[this.progress.current_location].markCurrentTrialComplete();\n        }\n    }\n    nextRepetiton() {\n        this.setTimelineVariablesOrder();\n        this.progress.current_location = -1;\n        this.progress.current_variable_set = 0;\n        this.progress.current_repetition++;\n        for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n            this.timeline_parameters.timeline[i].reset();\n        }\n    }\n    // set the order for going through the timeline variables array\n    setTimelineVariablesOrder() {\n        const timeline_parameters = this.timeline_parameters;\n        // check to make sure this node has variables\n        if (typeof timeline_parameters === \"undefined\" ||\n            typeof timeline_parameters.timeline_variables === \"undefined\") {\n            return;\n        }\n        var order = [];\n        for (var i = 0; i < timeline_parameters.timeline_variables.length; i++) {\n            order.push(i);\n        }\n        if (typeof timeline_parameters.sample !== \"undefined\") {\n            if (timeline_parameters.sample.type == \"custom\") {\n                order = timeline_parameters.sample.fn(order);\n            }\n            else if (timeline_parameters.sample.type == \"with-replacement\") {\n                order = sampleWithReplacement(order, timeline_parameters.sample.size, timeline_parameters.sample.weights);\n            }\n            else if (timeline_parameters.sample.type == \"without-replacement\") {\n                order = sampleWithoutReplacement(order, timeline_parameters.sample.size);\n            }\n            else if (timeline_parameters.sample.type == \"fixed-repetitions\") {\n                order = repeat(order, timeline_parameters.sample.size, false);\n            }\n            else if (timeline_parameters.sample.type == \"alternate-groups\") {\n                order = shuffleAlternateGroups(timeline_parameters.sample.groups, timeline_parameters.sample.randomize_group_order);\n            }\n            else {\n                console.error('Invalid type in timeline sample parameters. Valid options for type are \"custom\", \"with-replacement\", \"without-replacement\", \"fixed-repetitions\", and \"alternate-groups\"');\n            }\n        }\n        if (timeline_parameters.randomize_order) {\n            order = shuffle(order);\n        }\n        this.progress.order = order;\n    }\n    // next variable set\n    nextSet() {\n        this.progress.current_location = -1;\n        this.progress.current_variable_set++;\n        for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n            this.timeline_parameters.timeline[i].reset();\n        }\n    }\n    // update the current trial node to be completed\n    // returns true if the node is complete after advance (all subnodes are also complete)\n    // returns false otherwise\n    advance() {\n        const progress = this.progress;\n        const timeline_parameters = this.timeline_parameters;\n        const internal = this.jsPsych.internal;\n        // first check to see if done\n        if (progress.done) {\n            return true;\n        }\n        // if node has not started yet (progress.current_location == -1),\n        // then try to start the node.\n        if (progress.current_location == -1) {\n            // check for on_timeline_start and conditonal function on nodes with timelines\n            if (typeof timeline_parameters !== \"undefined\") {\n                // only run the conditional function if this is the first repetition of the timeline when\n                // repetitions > 1, and only when on the first variable set\n                if (typeof timeline_parameters.conditional_function !== \"undefined\" &&\n                    progress.current_repetition == 0 &&\n                    progress.current_variable_set == 0) {\n                    internal.call_immediate = true;\n                    var conditional_result = timeline_parameters.conditional_function();\n                    internal.call_immediate = false;\n                    // if the conditional_function() returns false, then the timeline\n                    // doesn't run and is marked as complete.\n                    if (conditional_result == false) {\n                        progress.done = true;\n                        return true;\n                    }\n                }\n                // if we reach this point then the node has its own timeline and will start\n                // so we need to check if there is an on_timeline_start function if we are on the first variable set\n                if (typeof timeline_parameters.on_timeline_start !== \"undefined\" &&\n                    progress.current_variable_set == 0) {\n                    timeline_parameters.on_timeline_start();\n                }\n            }\n            // if we reach this point, then either the node doesn't have a timeline of the\n            // conditional function returned true and it can start\n            progress.current_location = 0;\n            // call advance again on this node now that it is pointing to a new location\n            return this.advance();\n        }\n        // if this node has a timeline, propogate down to the current trial.\n        if (typeof timeline_parameters !== \"undefined\") {\n            var have_node_to_run = false;\n            // keep incrementing the location in the timeline until one of the nodes reached is incomplete\n            while (progress.current_location < timeline_parameters.timeline.length &&\n                have_node_to_run == false) {\n                // check to see if the node currently pointed at is done\n                var target_complete = timeline_parameters.timeline[progress.current_location].advance();\n                if (!target_complete) {\n                    have_node_to_run = true;\n                    return false;\n                }\n                else {\n                    progress.current_location++;\n                }\n            }\n            // if we've reached the end of the timeline (which, if the code is here, we have)\n            // there are a few steps to see what to do next...\n            // first, check the timeline_variables to see if we need to loop through again\n            // with a new set of variables\n            if (progress.current_variable_set < progress.order.length - 1) {\n                // reset the progress of the node to be with the new set\n                this.nextSet();\n                // then try to advance this node again.\n                return this.advance();\n            }\n            // if we're all done with the timeline_variables, then check to see if there are more repetitions\n            else if (progress.current_repetition < timeline_parameters.repetitions - 1) {\n                this.nextRepetiton();\n                // check to see if there is an on_timeline_finish function\n                if (typeof timeline_parameters.on_timeline_finish !== \"undefined\") {\n                    timeline_parameters.on_timeline_finish();\n                }\n                return this.advance();\n            }\n            // if we're all done with the repetitions...\n            else {\n                // check to see if there is an on_timeline_finish function\n                if (typeof timeline_parameters.on_timeline_finish !== \"undefined\") {\n                    timeline_parameters.on_timeline_finish();\n                }\n                // if we're all done with the repetitions, check if there is a loop function.\n                if (typeof timeline_parameters.loop_function !== \"undefined\") {\n                    internal.call_immediate = true;\n                    if (timeline_parameters.loop_function(this.generatedData())) {\n                        this.reset();\n                        internal.call_immediate = false;\n                        return this.parent_node.advance();\n                    }\n                    else {\n                        progress.done = true;\n                        internal.call_immediate = false;\n                        return true;\n                    }\n                }\n            }\n            // no more loops on this timeline, we're done!\n            progress.done = true;\n            return true;\n        }\n    }\n    // check the status of the done flag\n    isComplete() {\n        return this.progress.done;\n    }\n    // getter method for timeline variables\n    getTimelineVariableValue(variable_name) {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            return undefined;\n        }\n        var v = this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]][variable_name];\n        return v;\n    }\n    // recursive upward search for timeline variables\n    findTimelineVariable(variable_name) {\n        var v = this.getTimelineVariableValue(variable_name);\n        if (typeof v == \"undefined\") {\n            if (typeof this.parent_node !== \"undefined\") {\n                return this.parent_node.findTimelineVariable(variable_name);\n            }\n            else {\n                return undefined;\n            }\n        }\n        else {\n            return v;\n        }\n    }\n    // recursive downward search for active trial to extract timeline variable\n    timelineVariable(variable_name) {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            const val = this.findTimelineVariable(variable_name);\n            if (typeof val === \"undefined\") {\n                console.warn(\"Timeline variable \" + variable_name + \" not found.\");\n            }\n            return val;\n        }\n        else {\n            // if progress.current_location is -1, then the timeline variable is being evaluated\n            // in a function that runs prior to the trial starting, so we should treat that trial\n            // as being the active trial for purposes of finding the value of the timeline variable\n            var loc = Math.max(0, this.progress.current_location);\n            // if loc is greater than the number of elements on this timeline, then the timeline\n            // variable is being evaluated in a function that runs after the trial on the timeline\n            // are complete but before advancing to the next (like a loop_function).\n            // treat the last active trial as the active trial for this purpose.\n            if (loc == this.timeline_parameters.timeline.length) {\n                loc = loc - 1;\n            }\n            // now find the variable\n            const val = this.timeline_parameters.timeline[loc].timelineVariable(variable_name);\n            if (typeof val === \"undefined\") {\n                console.warn(\"Timeline variable \" + variable_name + \" not found.\");\n            }\n            return val;\n        }\n    }\n    // recursively get all the timeline variables for this trial\n    allTimelineVariables() {\n        var all_tvs = this.allTimelineVariablesNames();\n        var all_tvs_vals = {};\n        for (var i = 0; i < all_tvs.length; i++) {\n            all_tvs_vals[all_tvs[i]] = this.timelineVariable(all_tvs[i]);\n        }\n        return all_tvs_vals;\n    }\n    // helper to get all the names at this stage.\n    allTimelineVariablesNames(so_far = []) {\n        if (typeof this.timeline_parameters !== \"undefined\") {\n            so_far = so_far.concat(Object.keys(this.timeline_parameters.timeline_variables[this.progress.order[this.progress.current_variable_set]]));\n            // if progress.current_location is -1, then the timeline variable is being evaluated\n            // in a function that runs prior to the trial starting, so we should treat that trial\n            // as being the active trial for purposes of finding the value of the timeline variable\n            var loc = Math.max(0, this.progress.current_location);\n            // if loc is greater than the number of elements on this timeline, then the timeline\n            // variable is being evaluated in a function that runs after the trial on the timeline\n            // are complete but before advancing to the next (like a loop_function).\n            // treat the last active trial as the active trial for this purpose.\n            if (loc == this.timeline_parameters.timeline.length) {\n                loc = loc - 1;\n            }\n            // now find the variable\n            return this.timeline_parameters.timeline[loc].allTimelineVariablesNames(so_far);\n        }\n        if (typeof this.timeline_parameters == \"undefined\") {\n            return so_far;\n        }\n    }\n    // recursively get the number of **trials** contained in the timeline\n    // assuming that while loops execute exactly once and if conditionals\n    // always run\n    length() {\n        var length = 0;\n        if (typeof this.timeline_parameters !== \"undefined\") {\n            for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n                length += this.timeline_parameters.timeline[i].length();\n            }\n        }\n        else {\n            return 1;\n        }\n        return length;\n    }\n    // return the percentage of trials completed, grouped at the first child level\n    // counts a set of trials as complete when the child node is done\n    percentComplete() {\n        var total_trials = this.length();\n        var completed_trials = 0;\n        for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n            if (this.timeline_parameters.timeline[i].isComplete()) {\n                completed_trials += this.timeline_parameters.timeline[i].length();\n            }\n        }\n        return (completed_trials / total_trials) * 100;\n    }\n    // resets the node and all subnodes to original state\n    // but increments the current_iteration counter\n    reset() {\n        this.progress.current_location = -1;\n        this.progress.current_repetition = 0;\n        this.progress.current_variable_set = 0;\n        this.progress.current_iteration++;\n        this.progress.done = false;\n        this.setTimelineVariablesOrder();\n        if (typeof this.timeline_parameters != \"undefined\") {\n            for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n                this.timeline_parameters.timeline[i].reset();\n            }\n        }\n    }\n    // mark this node as finished\n    end() {\n        this.progress.done = true;\n    }\n    // recursively end whatever sub-node is running the current trial\n    endActiveNode() {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            this.end();\n            this.parent_node.end();\n        }\n        else {\n            this.timeline_parameters.timeline[this.progress.current_location].endActiveNode();\n        }\n    }\n    // get a unique ID associated with this node\n    // the ID reflects the current iteration through this node.\n    ID() {\n        var id = \"\";\n        if (typeof this.parent_node == \"undefined\") {\n            return \"0.\" + this.progress.current_iteration;\n        }\n        else {\n            id += this.parent_node.ID() + \"-\";\n            id += this.relative_id + \".\" + this.progress.current_iteration;\n            return id;\n        }\n    }\n    // get the ID of the active trial\n    activeID() {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            return this.ID();\n        }\n        else {\n            return this.timeline_parameters.timeline[this.progress.current_location].activeID();\n        }\n    }\n    // get all the data generated within this node\n    generatedData() {\n        return this.jsPsych.data.getDataByTimelineNode(this.ID());\n    }\n    // get all the trials of a particular type\n    trialsOfType(type) {\n        if (typeof this.timeline_parameters == \"undefined\") {\n            if (this.trial_parameters.type == type) {\n                return this.trial_parameters;\n            }\n            else {\n                return [];\n            }\n        }\n        else {\n            var trials = [];\n            for (var i = 0; i < this.timeline_parameters.timeline.length; i++) {\n                var t = this.timeline_parameters.timeline[i].trialsOfType(type);\n                trials = trials.concat(t);\n            }\n            return trials;\n        }\n    }\n    // add new trials to end of this timeline\n    insert(parameters) {\n        if (typeof this.timeline_parameters === \"undefined\") {\n            console.error(\"Cannot add new trials to a trial-level node.\");\n        }\n        else {\n            this.timeline_parameters.timeline.push(new TimelineNode(this.jsPsych, Object.assign(Object.assign({}, this.node_trial_data), parameters), this, this.timeline_parameters.timeline.length));\n        }\n    }\n}\n\nfunction delay(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\nclass JsPsych {\n    version() {\n        return version;\n    }\n    constructor(options) {\n        this.extensions = {};\n        this.turk = turk;\n        this.randomization = randomization;\n        this.utils = utils;\n        //\n        // private variables\n        //\n        /**\n         * options\n         */\n        this.opts = {};\n        // flow control\n        this.global_trial_index = 0;\n        this.current_trial = {};\n        this.current_trial_finished = false;\n        /**\n         * is the experiment paused?\n         */\n        this.paused = false;\n        this.waiting = false;\n        /**\n         * is the page retrieved directly via file:// protocol (true) or hosted on a server (false)?\n         */\n        this.file_protocol = false;\n        /**\n         * is the experiment running in `simulate()` mode\n         */\n        this.simulation_mode = null;\n        // storing a single webaudio context to prevent problems with multiple inits\n        // of jsPsych\n        this.webaudio_context = null;\n        this.internal = {\n            /**\n             * this flag is used to determine whether we are in a scope where\n             * jsPsych.timelineVariable() should be executed immediately or\n             * whether it should return a function to access the variable later.\n             *\n             **/\n            call_immediate: false,\n        };\n        this.progress_bar_amount = 0;\n        // override default options if user specifies an option\n        options = Object.assign({ display_element: undefined, on_finish: () => { }, on_trial_start: () => { }, on_trial_finish: () => { }, on_data_update: () => { }, on_interaction_data_update: () => { }, on_close: () => { }, use_webaudio: true, exclusions: {}, show_progress_bar: false, message_progress_bar: \"Completion Progress\", auto_update_progress_bar: true, default_iti: 0, minimum_valid_rt: 0, experiment_width: null, override_safe_mode: false, case_sensitive_responses: false, extensions: [] }, options);\n        this.opts = options;\n        autoBind$1(this); // so we can pass JsPsych methods as callbacks and `this` remains the JsPsych instance\n        this.webaudio_context =\n            typeof window !== \"undefined\" && typeof window.AudioContext !== \"undefined\"\n                ? new AudioContext()\n                : null;\n        // detect whether page is running in browser as a local file, and if so, disable web audio and video preloading to prevent CORS issues\n        if (window.location.protocol == \"file:\" &&\n            (options.override_safe_mode === false || typeof options.override_safe_mode === \"undefined\")) {\n            options.use_webaudio = false;\n            this.file_protocol = true;\n            console.warn(\"jsPsych detected that it is running via the file:// protocol and not on a web server. \" +\n                \"To prevent issues with cross-origin requests, Web Audio and video preloading have been disabled. \" +\n                \"If you would like to override this setting, you can set 'override_safe_mode' to 'true' in initJsPsych. \" +\n                \"For more information, see: https://www.jspsych.org/overview/running-experiments\");\n        }\n        // initialize modules\n        this.data = new JsPsychData(this);\n        this.pluginAPI = createJointPluginAPIObject(this);\n        // create instances of extensions\n        for (const extension of options.extensions) {\n            this.extensions[extension.type.info.name] = new extension.type(this);\n        }\n        // initialize audio context based on options and browser capabilities\n        this.pluginAPI.initAudio();\n    }\n    /**\n     * Starts an experiment using the provided timeline and returns a promise that is resolved when\n     * the experiment is finished.\n     *\n     * @param timeline The timeline to be run\n     */\n    run(timeline) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof timeline === \"undefined\") {\n                console.error(\"No timeline declared in jsPsych.run. Cannot start experiment.\");\n            }\n            if (timeline.length === 0) {\n                console.error(\"No trials have been added to the timeline (the timeline is an empty array). Cannot start experiment.\");\n            }\n            // create experiment timeline\n            this.timelineDescription = timeline;\n            this.timeline = new TimelineNode(this, { timeline });\n            yield this.prepareDom();\n            yield this.checkExclusions(this.opts.exclusions);\n            yield this.loadExtensions(this.opts.extensions);\n            document.documentElement.setAttribute(\"jspsych\", \"present\");\n            this.startExperiment();\n            yield this.finished;\n        });\n    }\n    simulate(timeline, simulation_mode = \"data-only\", simulation_options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.simulation_mode = simulation_mode;\n            this.simulation_options = simulation_options;\n            yield this.run(timeline);\n        });\n    }\n    getProgress() {\n        return {\n            total_trials: typeof this.timeline === \"undefined\" ? undefined : this.timeline.length(),\n            current_trial_global: this.global_trial_index,\n            percent_complete: typeof this.timeline === \"undefined\" ? 0 : this.timeline.percentComplete(),\n        };\n    }\n    getStartTime() {\n        return this.exp_start_time;\n    }\n    getTotalTime() {\n        if (typeof this.exp_start_time === \"undefined\") {\n            return 0;\n        }\n        return new Date().getTime() - this.exp_start_time.getTime();\n    }\n    getDisplayElement() {\n        return this.DOM_target;\n    }\n    getDisplayContainerElement() {\n        return this.DOM_container;\n    }\n    finishTrial(data = {}) {\n        var _a;\n        if (this.current_trial_finished) {\n            return;\n        }\n        this.current_trial_finished = true;\n        // remove any CSS classes that were added to the DOM via css_classes parameter\n        if (typeof this.current_trial.css_classes !== \"undefined\" &&\n            Array.isArray(this.current_trial.css_classes)) {\n            this.DOM_target.classList.remove(...this.current_trial.css_classes);\n        }\n        // write the data from the trial\n        this.data.write(data);\n        // get back the data with all of the defaults in\n        const trial_data = this.data.getLastTrialData();\n        // for trial-level callbacks, we just want to pass in a reference to the values\n        // of the DataCollection, for easy access and editing.\n        const trial_data_values = trial_data.values()[0];\n        const current_trial = this.current_trial;\n        if (typeof current_trial.save_trial_parameters === \"object\") {\n            for (const key of Object.keys(current_trial.save_trial_parameters)) {\n                const key_val = current_trial.save_trial_parameters[key];\n                if (key_val === true) {\n                    if (typeof current_trial[key] === \"undefined\") {\n                        console.warn(`Invalid parameter specified in save_trial_parameters. Trial has no property called \"${key}\".`);\n                    }\n                    else if (typeof current_trial[key] === \"function\") {\n                        trial_data_values[key] = current_trial[key].toString();\n                    }\n                    else {\n                        trial_data_values[key] = current_trial[key];\n                    }\n                }\n                if (key_val === false) {\n                    // we don't allow internal_node_id or trial_index to be deleted because it would break other things\n                    if (key !== \"internal_node_id\" && key !== \"trial_index\") {\n                        delete trial_data_values[key];\n                    }\n                }\n            }\n        }\n        // handle extension callbacks\n        const extensionCallbackResults = ((_a = current_trial.extensions) !== null && _a !== void 0 ? _a : []).map((extension) => this.extensions[extension.type.info.name].on_finish(extension.params));\n        const onExtensionCallbacksFinished = () => {\n            // about to execute lots of callbacks, so switch context.\n            this.internal.call_immediate = true;\n            // handle callback at plugin level\n            if (typeof current_trial.on_finish === \"function\") {\n                current_trial.on_finish(trial_data_values);\n            }\n            // handle callback at whole-experiment level\n            this.opts.on_trial_finish(trial_data_values);\n            // after the above callbacks are complete, then the data should be finalized\n            // for this trial. call the on_data_update handler, passing in the same\n            // data object that just went through the trial's finish handlers.\n            this.opts.on_data_update(trial_data_values);\n            // done with callbacks\n            this.internal.call_immediate = false;\n            // wait for iti\n            if (this.simulation_mode === \"data-only\") {\n                this.nextTrial();\n            }\n            else if (typeof current_trial.post_trial_gap === null ||\n                typeof current_trial.post_trial_gap === \"undefined\") {\n                if (this.opts.default_iti > 0) {\n                    setTimeout(this.nextTrial, this.opts.default_iti);\n                }\n                else {\n                    this.nextTrial();\n                }\n            }\n            else {\n                if (current_trial.post_trial_gap > 0) {\n                    setTimeout(this.nextTrial, current_trial.post_trial_gap);\n                }\n                else {\n                    this.nextTrial();\n                }\n            }\n        };\n        // Strictly using Promise.resolve to turn all values into promises would be cleaner here, but it\n        // would require user test code to make the event loop tick after every simulated key press even\n        // if there are no async `on_finish` methods. Hence, in order to avoid a breaking change, we\n        // only rely on the event loop if at least one `on_finish` method returns a promise.\n        if (extensionCallbackResults.some((result) => typeof result.then === \"function\")) {\n            Promise.all(extensionCallbackResults.map((result) => Promise.resolve(result).then((ext_data_values) => {\n                Object.assign(trial_data_values, ext_data_values);\n            }))).then(onExtensionCallbacksFinished);\n        }\n        else {\n            for (const values of extensionCallbackResults) {\n                Object.assign(trial_data_values, values);\n            }\n            onExtensionCallbacksFinished();\n        }\n    }\n    endExperiment(end_message = \"\", data = {}) {\n        this.timeline.end_message = end_message;\n        this.timeline.end();\n        this.pluginAPI.cancelAllKeyboardResponses();\n        this.pluginAPI.clearAllTimeouts();\n        this.finishTrial(data);\n    }\n    endCurrentTimeline() {\n        this.timeline.endActiveNode();\n    }\n    getCurrentTrial() {\n        return this.current_trial;\n    }\n    getInitSettings() {\n        return this.opts;\n    }\n    getCurrentTimelineNodeID() {\n        return this.timeline.activeID();\n    }\n    timelineVariable(varname, immediate = false) {\n        if (this.internal.call_immediate || immediate === true) {\n            return this.timeline.timelineVariable(varname);\n        }\n        else {\n            return {\n                timelineVariablePlaceholder: true,\n                timelineVariableFunction: () => this.timeline.timelineVariable(varname),\n            };\n        }\n    }\n    getAllTimelineVariables() {\n        return this.timeline.allTimelineVariables();\n    }\n    addNodeToEndOfTimeline(new_timeline, preload_callback) {\n        this.timeline.insert(new_timeline);\n    }\n    pauseExperiment() {\n        this.paused = true;\n    }\n    resumeExperiment() {\n        this.paused = false;\n        if (this.waiting) {\n            this.waiting = false;\n            this.nextTrial();\n        }\n    }\n    loadFail(message) {\n        message = message || \"<p>The experiment failed to load.</p>\";\n        this.DOM_target.innerHTML = message;\n    }\n    getSafeModeStatus() {\n        return this.file_protocol;\n    }\n    getTimeline() {\n        return this.timelineDescription;\n    }\n    prepareDom() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Wait until the document is ready\n            if (document.readyState !== \"complete\") {\n                yield new Promise((resolve) => {\n                    window.addEventListener(\"load\", resolve);\n                });\n            }\n            const options = this.opts;\n            // set DOM element where jsPsych will render content\n            // if undefined, then jsPsych will use the <body> tag and the entire page\n            if (typeof options.display_element === \"undefined\") {\n                // check if there is a body element on the page\n                const body = document.querySelector(\"body\");\n                if (body === null) {\n                    document.documentElement.appendChild(document.createElement(\"body\"));\n                }\n                // using the full page, so we need the HTML element to\n                // have 100% height, and body to be full width and height with\n                // no margin\n                document.querySelector(\"html\").style.height = \"100%\";\n                document.querySelector(\"body\").style.margin = \"0px\";\n                document.querySelector(\"body\").style.height = \"100%\";\n                document.querySelector(\"body\").style.width = \"100%\";\n                options.display_element = document.querySelector(\"body\");\n            }\n            else {\n                // make sure that the display element exists on the page\n                const display = options.display_element instanceof Element\n                    ? options.display_element\n                    : document.querySelector(\"#\" + options.display_element);\n                if (display === null) {\n                    console.error(\"The display_element specified in initJsPsych() does not exist in the DOM.\");\n                }\n                else {\n                    options.display_element = display;\n                }\n            }\n            options.display_element.innerHTML =\n                '<div class=\"jspsych-content-wrapper\"><div id=\"jspsych-content\"></div></div>';\n            this.DOM_container = options.display_element;\n            this.DOM_target = document.querySelector(\"#jspsych-content\");\n            // set experiment_width if not null\n            if (options.experiment_width !== null) {\n                this.DOM_target.style.width = options.experiment_width + \"px\";\n            }\n            // add tabIndex attribute to scope event listeners\n            options.display_element.tabIndex = 0;\n            // add CSS class to DOM_target\n            if (options.display_element.className.indexOf(\"jspsych-display-element\") === -1) {\n                options.display_element.className += \" jspsych-display-element\";\n            }\n            this.DOM_target.className += \"jspsych-content\";\n            // create listeners for user browser interaction\n            this.data.createInteractionListeners();\n            // add event for closing window\n            window.addEventListener(\"beforeunload\", options.on_close);\n        });\n    }\n    loadExtensions(extensions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // run the .initialize method of any extensions that are in use\n            // these should return a Promise to indicate when loading is complete\n            try {\n                yield Promise.all(extensions.map((extension) => this.extensions[extension.type.info.name].initialize(extension.params || {})));\n            }\n            catch (error_message) {\n                console.error(error_message);\n                throw new Error(error_message);\n            }\n        });\n    }\n    startExperiment() {\n        this.finished = new Promise((resolve) => {\n            this.resolveFinishedPromise = resolve;\n        });\n        // show progress bar if requested\n        if (this.opts.show_progress_bar === true) {\n            this.drawProgressBar(this.opts.message_progress_bar);\n        }\n        // record the start time\n        this.exp_start_time = new Date();\n        // begin!\n        this.timeline.advance();\n        this.doTrial(this.timeline.trial());\n    }\n    finishExperiment() {\n        const finish_result = this.opts.on_finish(this.data.get());\n        const done_handler = () => {\n            if (typeof this.timeline.end_message !== \"undefined\") {\n                this.DOM_target.innerHTML = this.timeline.end_message;\n            }\n            this.resolveFinishedPromise();\n        };\n        if (finish_result) {\n            Promise.resolve(finish_result).then(done_handler);\n        }\n        else {\n            done_handler();\n        }\n    }\n    nextTrial() {\n        // if experiment is paused, don't do anything.\n        if (this.paused) {\n            this.waiting = true;\n            return;\n        }\n        this.global_trial_index++;\n        // advance timeline\n        this.timeline.markCurrentTrialComplete();\n        const complete = this.timeline.advance();\n        // update progress bar if shown\n        if (this.opts.show_progress_bar === true && this.opts.auto_update_progress_bar === true) {\n            this.updateProgressBar();\n        }\n        // check if experiment is over\n        if (complete) {\n            this.finishExperiment();\n            return;\n        }\n        this.doTrial(this.timeline.trial());\n    }\n    doTrial(trial) {\n        this.current_trial = trial;\n        this.current_trial_finished = false;\n        // process all timeline variables for this trial\n        this.evaluateTimelineVariables(trial);\n        if (typeof trial.type === \"string\") {\n            throw new MigrationError(\"A string was provided as the trial's `type` parameter. Since jsPsych v7, the `type` parameter needs to be a plugin object.\");\n        }\n        // instantiate the plugin for this trial\n        trial.type = Object.assign(Object.assign({}, autoBind$1(new trial.type(this))), { info: trial.type.info });\n        // evaluate variables that are functions\n        this.evaluateFunctionParameters(trial);\n        // get default values for parameters\n        this.setDefaultValues(trial);\n        // about to execute callbacks\n        this.internal.call_immediate = true;\n        // call experiment wide callback\n        this.opts.on_trial_start(trial);\n        // call trial specific callback if it exists\n        if (typeof trial.on_start === \"function\") {\n            trial.on_start(trial);\n        }\n        // call any on_start functions for extensions\n        if (Array.isArray(trial.extensions)) {\n            for (const extension of trial.extensions) {\n                this.extensions[extension.type.info.name].on_start(extension.params);\n            }\n        }\n        // apply the focus to the element containing the experiment.\n        this.DOM_container.focus();\n        // reset the scroll on the DOM target\n        this.DOM_target.scrollTop = 0;\n        // add CSS classes to the DOM_target if they exist in trial.css_classes\n        if (typeof trial.css_classes !== \"undefined\") {\n            if (!Array.isArray(trial.css_classes) && typeof trial.css_classes === \"string\") {\n                trial.css_classes = [trial.css_classes];\n            }\n            if (Array.isArray(trial.css_classes)) {\n                this.DOM_target.classList.add(...trial.css_classes);\n            }\n        }\n        // setup on_load event callback\n        const load_callback = () => {\n            if (typeof trial.on_load === \"function\") {\n                trial.on_load();\n            }\n            // call any on_load functions for extensions\n            if (Array.isArray(trial.extensions)) {\n                for (const extension of trial.extensions) {\n                    this.extensions[extension.type.info.name].on_load(extension.params);\n                }\n            }\n        };\n        let trial_complete;\n        let trial_sim_opts;\n        let trial_sim_opts_merged;\n        if (!this.simulation_mode) {\n            trial_complete = trial.type.trial(this.DOM_target, trial, load_callback);\n        }\n        if (this.simulation_mode) {\n            // check if the trial supports simulation\n            if (trial.type.simulate) {\n                if (!trial.simulation_options) {\n                    trial_sim_opts = this.simulation_options.default;\n                }\n                if (trial.simulation_options) {\n                    if (typeof trial.simulation_options == \"string\") {\n                        if (this.simulation_options[trial.simulation_options]) {\n                            trial_sim_opts = this.simulation_options[trial.simulation_options];\n                        }\n                        else if (this.simulation_options.default) {\n                            console.log(`No matching simulation options found for \"${trial.simulation_options}\". Using \"default\" options.`);\n                            trial_sim_opts = this.simulation_options.default;\n                        }\n                        else {\n                            console.log(`No matching simulation options found for \"${trial.simulation_options}\" and no \"default\" options provided. Using the default values provided by the plugin.`);\n                            trial_sim_opts = {};\n                        }\n                    }\n                    else {\n                        trial_sim_opts = trial.simulation_options;\n                    }\n                }\n                // merge in default options that aren't overriden by the trial's simulation_options\n                // including nested parameters in the simulation_options\n                trial_sim_opts_merged = this.utils.deepMerge(this.simulation_options.default, trial_sim_opts);\n                trial_sim_opts_merged = this.utils.deepCopy(trial_sim_opts_merged);\n                trial_sim_opts_merged = this.replaceFunctionsWithValues(trial_sim_opts_merged, null);\n                if ((trial_sim_opts_merged === null || trial_sim_opts_merged === void 0 ? void 0 : trial_sim_opts_merged.simulate) === false) {\n                    trial_complete = trial.type.trial(this.DOM_target, trial, load_callback);\n                }\n                else {\n                    trial_complete = trial.type.simulate(trial, (trial_sim_opts_merged === null || trial_sim_opts_merged === void 0 ? void 0 : trial_sim_opts_merged.mode) || this.simulation_mode, trial_sim_opts_merged, load_callback);\n                }\n            }\n            else {\n                // trial doesn't have a simulate method, so just run as usual\n                trial_complete = trial.type.trial(this.DOM_target, trial, load_callback);\n            }\n        }\n        // see if trial_complete is a Promise by looking for .then() function\n        const is_promise = trial_complete && typeof trial_complete.then == \"function\";\n        // in simulation mode we let the simulate function call the load_callback always,\n        // so we don't need to call it here. however, if we are in simulation mode but not simulating\n        // this particular trial we need to call it.\n        if (!is_promise &&\n            (!this.simulation_mode || (this.simulation_mode && (trial_sim_opts_merged === null || trial_sim_opts_merged === void 0 ? void 0 : trial_sim_opts_merged.simulate) === false))) {\n            load_callback();\n        }\n        // done with callbacks\n        this.internal.call_immediate = false;\n    }\n    evaluateTimelineVariables(trial) {\n        for (const key of Object.keys(trial)) {\n            if (typeof trial[key] === \"object\" &&\n                trial[key] !== null &&\n                typeof trial[key].timelineVariablePlaceholder !== \"undefined\") {\n                trial[key] = trial[key].timelineVariableFunction();\n            }\n            // timeline variables that are nested in objects\n            if (typeof trial[key] === \"object\" &&\n                trial[key] !== null &&\n                key !== \"timeline\" &&\n                key !== \"timeline_variables\") {\n                this.evaluateTimelineVariables(trial[key]);\n            }\n        }\n    }\n    evaluateFunctionParameters(trial) {\n        // set a flag so that jsPsych.timelineVariable() is immediately executed in this context\n        this.internal.call_immediate = true;\n        // iterate over each parameter\n        for (const key of Object.keys(trial)) {\n            // check to make sure parameter is not \"type\", since that was eval'd above.\n            if (key !== \"type\") {\n                // this if statement is checking to see if the parameter type is expected to be a function, in which case we should NOT evaluate it.\n                // the first line checks if the parameter is defined in the universalPluginParameters set\n                // the second line checks the plugin-specific parameters\n                if (typeof universalPluginParameters[key] !== \"undefined\" &&\n                    universalPluginParameters[key].type !== ParameterType.FUNCTION) {\n                    trial[key] = this.replaceFunctionsWithValues(trial[key], null);\n                }\n                if (typeof trial.type.info.parameters[key] !== \"undefined\" &&\n                    trial.type.info.parameters[key].type !== ParameterType.FUNCTION) {\n                    trial[key] = this.replaceFunctionsWithValues(trial[key], trial.type.info.parameters[key]);\n                }\n            }\n        }\n        // reset so jsPsych.timelineVariable() is no longer immediately executed\n        this.internal.call_immediate = false;\n    }\n    replaceFunctionsWithValues(obj, info) {\n        // null typeof is 'object' (?!?!), so need to run this first!\n        if (obj === null) {\n            return obj;\n        }\n        // arrays\n        else if (Array.isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                obj[i] = this.replaceFunctionsWithValues(obj[i], info);\n            }\n        }\n        // objects\n        else if (typeof obj === \"object\") {\n            if (info === null || !info.nested) {\n                for (const key of Object.keys(obj)) {\n                    if (key === \"type\" || key === \"timeline\" || key === \"timeline_variables\") {\n                        // Ignore the object's `type` field because it contains a plugin and we do not want to\n                        // call plugin functions. Also ignore `timeline` and `timeline_variables` because they\n                        // are used in the `trials` parameter of the preload plugin and we don't want to actually\n                        // evaluate those in that context.\n                        continue;\n                    }\n                    obj[key] = this.replaceFunctionsWithValues(obj[key], null);\n                }\n            }\n            else {\n                for (const key of Object.keys(obj)) {\n                    if (typeof info.nested[key] === \"object\" &&\n                        info.nested[key].type !== ParameterType.FUNCTION) {\n                        obj[key] = this.replaceFunctionsWithValues(obj[key], info.nested[key]);\n                    }\n                }\n            }\n        }\n        else if (typeof obj === \"function\") {\n            return obj();\n        }\n        return obj;\n    }\n    setDefaultValues(trial) {\n        for (const param in trial.type.info.parameters) {\n            // check if parameter is complex with nested defaults\n            if (trial.type.info.parameters[param].type === ParameterType.COMPLEX) {\n                // check if parameter is undefined and has a default value\n                if (typeof trial[param] === \"undefined\" && trial.type.info.parameters[param].default) {\n                    trial[param] = trial.type.info.parameters[param].default;\n                }\n                // if parameter is an array, iterate over each entry after confirming that there are\n                // entries to iterate over. this is common when some parameters in a COMPLEX type have\n                // default values and others do not.\n                if (trial.type.info.parameters[param].array === true && Array.isArray(trial[param])) {\n                    // iterate over each entry in the array\n                    trial[param].forEach(function (ip, i) {\n                        // check each parameter in the plugin description\n                        for (const p in trial.type.info.parameters[param].nested) {\n                            if (typeof trial[param][i][p] === \"undefined\" || trial[param][i][p] === null) {\n                                if (typeof trial.type.info.parameters[param].nested[p].default === \"undefined\") {\n                                    console.error(`You must specify a value for the ${p} parameter (nested in the ${param} parameter) in the ${trial.type.info.name} plugin.`);\n                                }\n                                else {\n                                    trial[param][i][p] = trial.type.info.parameters[param].nested[p].default;\n                                }\n                            }\n                        }\n                    });\n                }\n            }\n            // if it's not nested, checking is much easier and do that here:\n            else if (typeof trial[param] === \"undefined\" || trial[param] === null) {\n                if (typeof trial.type.info.parameters[param].default === \"undefined\") {\n                    console.error(`You must specify a value for the ${param} parameter in the ${trial.type.info.name} plugin.`);\n                }\n                else {\n                    trial[param] = trial.type.info.parameters[param].default;\n                }\n            }\n        }\n    }\n    checkExclusions(exclusions) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (exclusions.min_width || exclusions.min_height || exclusions.audio) {\n                console.warn(\"The exclusions option in `initJsPsych()` is deprecated and will be removed in a future version. We recommend using the browser-check plugin instead. See https://www.jspsych.org/latest/plugins/browser-check/.\");\n            }\n            // MINIMUM SIZE\n            if (exclusions.min_width || exclusions.min_height) {\n                const mw = exclusions.min_width || 0;\n                const mh = exclusions.min_height || 0;\n                if (window.innerWidth < mw || window.innerHeight < mh) {\n                    this.getDisplayElement().innerHTML =\n                        \"<p>Your browser window is too small to complete this experiment. \" +\n                            \"Please maximize the size of your browser window. If your browser window is already maximized, \" +\n                            \"you will not be able to complete this experiment.</p>\" +\n                            \"<p>The minimum width is \" +\n                            mw +\n                            \"px. Your current width is \" +\n                            window.innerWidth +\n                            \"px.</p>\" +\n                            \"<p>The minimum height is \" +\n                            mh +\n                            \"px. Your current height is \" +\n                            window.innerHeight +\n                            \"px.</p>\";\n                    // Wait for window size to increase\n                    while (window.innerWidth < mw || window.innerHeight < mh) {\n                        yield delay(100);\n                    }\n                    this.getDisplayElement().innerHTML = \"\";\n                }\n            }\n            // WEB AUDIO API\n            if (typeof exclusions.audio !== \"undefined\" && exclusions.audio) {\n                if (!window.hasOwnProperty(\"AudioContext\") && !window.hasOwnProperty(\"webkitAudioContext\")) {\n                    this.getDisplayElement().innerHTML =\n                        \"<p>Your browser does not support the WebAudio API, which means that you will not \" +\n                            \"be able to complete the experiment.</p><p>Browsers that support the WebAudio API include \" +\n                            \"Chrome, Firefox, Safari, and Edge.</p>\";\n                    throw new Error();\n                }\n            }\n        });\n    }\n    drawProgressBar(msg) {\n        document\n            .querySelector(\".jspsych-display-element\")\n            .insertAdjacentHTML(\"afterbegin\", '<div id=\"jspsych-progressbar-container\">' +\n            \"<span>\" +\n            msg +\n            \"</span>\" +\n            '<div id=\"jspsych-progressbar-outer\">' +\n            '<div id=\"jspsych-progressbar-inner\"></div>' +\n            \"</div></div>\");\n    }\n    updateProgressBar() {\n        this.setProgressBar(this.getProgress().percent_complete / 100);\n    }\n    setProgressBar(proportion_complete) {\n        proportion_complete = Math.max(Math.min(1, proportion_complete), 0);\n        document.querySelector(\"#jspsych-progressbar-inner\").style.width =\n            proportion_complete * 100 + \"%\";\n        this.progress_bar_amount = proportion_complete;\n    }\n    getProgressBarCompleted() {\n        return this.progress_bar_amount;\n    }\n}\n\n// __rollup-babel-import-regenerator-runtime__\n// temporary patch for Safari\nif (typeof window !== \"undefined\" &&\n    window.hasOwnProperty(\"webkitAudioContext\") &&\n    !window.hasOwnProperty(\"AudioContext\")) {\n    // @ts-expect-error\n    window.AudioContext = webkitAudioContext;\n}\n// end patch\n// The following function provides a uniform interface to initialize jsPsych, no matter whether a\n// browser supports ES6 classes or not (and whether the ES6 build or the Babel build is used).\n/**\n * Creates a new JsPsych instance using the provided options.\n *\n * @param options The options to pass to the JsPsych constructor\n * @returns A new JsPsych instance\n */\nfunction initJsPsych(options) {\n    const jsPsych = new JsPsych(options);\n    // Handle invocations of non-existent v6 methods with migration errors\n    const migrationMessages = {\n        init: \"`jsPsych.init()` was replaced by `initJsPsych()` in jsPsych v7.\",\n        ALL_KEYS: 'jsPsych.ALL_KEYS was replaced by the \"ALL_KEYS\" string in jsPsych v7.',\n        NO_KEYS: 'jsPsych.NO_KEYS was replaced by the \"NO_KEYS\" string in jsPsych v7.',\n        // Getter functions that were renamed\n        currentTimelineNodeID: \"`currentTimelineNodeID()` was renamed to `getCurrentTimelineNodeID()` in jsPsych v7.\",\n        progress: \"`progress()` was renamed to `getProgress()` in jsPsych v7.\",\n        startTime: \"`startTime()` was renamed to `getStartTime()` in jsPsych v7.\",\n        totalTime: \"`totalTime()` was renamed to `getTotalTime()` in jsPsych v7.\",\n        currentTrial: \"`currentTrial()` was renamed to `getCurrentTrial()` in jsPsych v7.\",\n        initSettings: \"`initSettings()` was renamed to `getInitSettings()` in jsPsych v7.\",\n        allTimelineVariables: \"`allTimelineVariables()` was renamed to `getAllTimelineVariables()` in jsPsych v7.\",\n    };\n    Object.defineProperties(jsPsych, Object.fromEntries(Object.entries(migrationMessages).map(([key, message]) => [\n        key,\n        {\n            get() {\n                throw new MigrationError(message);\n            },\n        },\n    ])));\n    return jsPsych;\n}\n\nexport { JsPsych, ParameterType, initJsPsych, universalPluginParameters };\n//# sourceMappingURL=index.js.map\n"],"names":["_package","name","version","description","type","main","exports","import","require","typings","unpkg","files","source","scripts","test","tsc","build","repository","url","directory","author","license","bugs","homepage","peerDependencies","jspsych","devDependencies","info","parameters","stimulus","AUDIO","default","choices","KEYS","prompt","HTML_STRING","pretty_name","trial_duration","INT","response_ends_trial","BOOL","trial_ends_after_audio","response_allowed_while_playing","data","response","STRING","rt","AudioKeyboardResponsePlugin","constructor","jsPsych","this","key","trial","display_element","on_load","Promise","async","resolve","finish","params","display","audio","pluginAPI","getAudioPlayer","addEventListener","end_trial","innerHTML","startTime","audioContext","currentTime","setup_keyboard_listener","setTimeout","play","clearAllTimeouts","stop","removeEventListener","cancelAllKeyboardResponses","trial_data","after_response","info2","useWebaudio","getKeyboardResponse","callback_function","valid_responses","rt_method","persist","allow_held_key","audio_context","audio_context_start_time","simulate","simulation_mode","simulation_options","load_callback","simulate_data_only","simulate_visual","create_simulation_data","getDisplayElement","respond","pressKey","result","default_data","randomization","sampleExGaussian","getValidKey","mergeSimulationData","ensureSimulationDataConsistency","func","FUNCTION","value","COMPLEX","CallFunctionPlugin","return_val","finishTrial","done","array","button_html","choice","choice_index","stimulus_duration","button_layout","grid_rows","grid_columns","enable_button_after","HtmlButtonResponsePlugin","stimulusElement","document","createElement","id","appendChild","buttonGroupElement","classList","add","Error","n_cols","Math","ceil","length","n_rows","style","gridTemplateColumns","gridTemplateRows","choiceIndex","entries","insertAdjacentHTML","buttonElement","lastChild","dataset","toString","start_time","performance","now","button","end_time","round","parseInt","children","setAttribute","visibility","btns","querySelectorAll","i","btns2","i2","removeAttribute","randomInt","clickTarget","querySelector","HtmlKeyboardResponsePlugin","new_html","keyboardListener","cancelKeyboardResponse","className","auto_preload","trials","TIMELINE","images","video","message","show_progress_bar","continue_after_error","error_message","show_detailed_errors","max_load_time","on_error","on_success","success","timeout","failed_images","failed_audio","failed_video","PreloadPlugin","detailed_errors","in_safe_mode","getSafeModeStatus","experiment_timeline","getTimeline","getAutoPreloadList","concat","trial_preloads","utils","unique","flat","html","update_loading_progress_bar","loaded","percent_loaded","total_n","preload_progress_bar","width","cancelPreloads","on_timeout","loaded_success","after_error","push","stop_with_error_message","forEach","e","load_video","cb","preloadVideo","file_loading_success","file_loading_error","load_audio","preloadAudio","load_images","preloadImages","error","path","localName","err_msg","statusText","after_success","preamble","button_label","autofocus","dataAsArray","autocomplete","nested","identifier","FLOAT","OBJECT","SurveyHtmlFormPlugin","focus_elements","console","warn","focus","event","preventDefault","endTime","response_time","this_form","question_data","serializeArray","objectifyForm","trialdata","form","serialized","elements","field","disabled","n","options","selected","checked","formArray","returnArray","questions","labels","required","randomize_question_order","scale_width","question_order","SurveyLikertPlugin","w","shuffle","question","options_string","j","matches","index","el","obje","attributes","Object","assign","q","indexOf","Array","keys","answers","horizontal","SurveyMultiChoicePlugin","plugin_id_name","question_id","question_classes","join","option_id_name","input_name","input_id","required_attr","val","match","sampleWithoutReplacement","placeholder","rows","columns","SurveyTextPlugin","question_index","req","q_element","ans_words","sampleExponential","randomWords","exactly","map","x","fillTextInput","VIDEO","height","autoplay","controls","start","rate","trial_ends_after_video","VideoKeyboardResponsePlugin","isArray","video_html","video_preload_blob","getVideoBuffer","file_name","substring","substr","lastIndexOf","toLowerCase","video_element","src","onended","playbackRate","pause","onseeked","muted","onplaying","stopped","currenttime","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","next","rejected","then","apply","SuppressedError","commonjsGlobal","globalThis","window","global","self","getDefaultExportFromCjs","__esModule","prototype","hasOwnProperty","call","getAllProperties","object","properties","Set","Reflect","ownKeys","getPrototypeOf","autoBind","include","exclude","filter","pattern","some","descriptor","getOwnPropertyDescriptor","bind","autoBind$1","MigrationError","super","arr","deepCopy","obj","out","deepMerge","obj1","obj2","merged","init","turk","ALL_KEYS","NO_KEYS","ParameterType","freeze","__proto__","DataColumn","values","sum","s","v","mean","count","median","numbers","slice","sort","a","b","middle","floor","isEven","min","max","variance","sum_square_error","pow","mse","sd","rmse","sqrt","frequencies","all","eval_fn","subset","saveTextToFile","textstr","filename","blobToSave","Blob","blobURL","webkitURL","createObjectURL","URL","link","download","href","click","JSON2CSV","objArray","JSON","parse","line","row","keyString","replace","includes","col","stringify","valueString","getQueryString","location","search","split","p","decodeURIComponent","DataCollection","new_data","other_data_collection","top","first","last","readOnly","addToAll","addToLast","filters","f","filtered_data","keep","filterCustom","fn","filterColumns","fromEntries","select","column","ignore","o","delete_key","uniqueNames","names","csv","json","pretty","localSave","format","data_string","JsPsychData","dataProperties","reset","allData","interactionData","get","getInteractionData","write","data_object","progress","getProgress","getCurrentTrial","trial_type","trial_index","current_trial_global","time_elapsed","getTotalTime","internal_node_id","getCurrentTimelineNodeID","addProperties","addDataToLastTrial","getDataByTimelineNode","node_id","getLastTrialData","getLastTimelineData","lasttrial","parent_node_id","lastnodedata","displayData","log","getElementById","textContent","urlVariables","query_string","getURLVariable","whichvar","createInteractionListeners","time","getInitSettings","on_interaction_data_update","fullscreenchange","isFullScreen","webkitIsFullScreen","mozIsFullScreen","fullscreenElement","_customInsert","_fullreset","HardwareAPI","hardwareConnected","evt","hardware","mess","jspsychEvt","CustomEvent","detail","dispatchEvent","KeyboardListenerAPI","getRootElement","areResponsesCaseSensitive","minimumValidRt","listeners","heldKeys","areRootListenersRegistered","registerRootListeners","rootElement","rootKeydownListener","rootKeyupListener","listener","from","toLowerCaseIfInsensitive","string","delete","isResponseValid","validResponses","allowHeldKey","has","minimum_valid_rt","usePerformanceRt","r","clear","compareKeys","key1","key2","universalPluginParameters","on_start","on_finish","post_trial_gap","css_classes","preloadParameterTypes","IMAGE","MediaAPI","webaudioContext","video_buffers","context","audio_buffers","preload_requests","img_cache","preloadMap","Map","microphone_recorder","camera_stream","camera_recorder","videoID","startsWith","initAudio","state","resume","getAudioBuffer","audioID","callback_complete","callback_load","filepath","callback_error","error_msg","n_loaded","load_audio_file_webaudio","request","XMLHttpRequest","open","responseType","onload","decodeAudioData","buffer","onerror","err","status","onloadend","send","load_audio_file_html5audio","Audio","handleCanPlayThrough","handleError","handleAbort","file","img","Image","videos","videoBlob","timeline_description","preloadPaths","traverseTimeline","node","inheritedTrialType","_a","_b","_c","_d","isTimeline","timeline","childNode","pluginName","set","_name","preload","parameterName","parameterType","parameterValue","element","oncanplaythrough","onabort","initializeMicrophoneRecorder","stream","recorder","MediaRecorder","getMicrophoneRecorder","initializeCameraRecorder","opts","getCameraStream","getCameraRecorder","SimulationAPI","getDisplayContainerElement","setJsPsychTimeout","keyDown","KeyboardEvent","keyUp","delay","target","MouseEvent","bubbles","text","possible_keys","random","flat_choices","correct","allow_response_before_complete","sequence_reps","frame_time","min_time","stimuli","TimeoutAPI","timeout_handlers","callback","handle","handler","clearTimeout","createJointPluginAPIObject","settings","keyboardListenerAPI","case_sensitive_responses","timeoutAPI","mediaAPI","use_webaudio","webaudio_context","hardwareAPI","simulationAPI","alea$1","module","define","Alea","seed","me","mash","Mash","t","s0","c","s1","s2","copy","impl","xg","prng","int32","double","quick","String","charCodeAt","h","amd","alea","aleaExports","seedrandom$3","xor128$1","XorGen","strseed","y","z","k","bot","xor128","xor128Exports","xorwow$1","d","xorwow","xorwowExports","xorshift7$1","X","Date","xorshift7","xorshift7Exports","xor4096$1","limit","xor4096","xor4096Exports","tychei$1","tychei","tycheiExports","seedrandom$2","pool","math","nodecrypto","chunks","digits","rngname","startdenom","significance","overflow","mask","seedrandom","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","g","S","pass","is_math_call","keylen","depth","prop","typ","smear","stringseed","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","navigator","plugins","screen","fromCharCode","ex","seedrandomExports","sr","seedrandom$1","wordList","words","word","maxLength","generateWordWithMaxLength","generateRandomWord","wordUsed","rightSize","randInt","lessThan","wordsPerString","formatter","separator","total","results","token","relativeIndex","randomWords$1","rw","setSeed","repeat","repetitions","unpack","arr_isArray","rep_isArray","reps","allsamples","unpackArray","copy_array","m","shuffleNoRepeats","equalityTest","random_shuffle","random_pick","new_neighbor","shuffleAlternateGroups","arr_groups","random_group_order","n_groups","group_order","randomized_groups","min_length","size","sampleWithReplacement","weights","normalized_weights","weight_sum","weight","cumulative_weights","samp","rnd","factorial","factors","design","factorName","factor","new_design","level","cell","randomID","chars","lower","upper","sampleBernoulli","sampleNormal","standard_deviation","randn_bm","positive","u","cos","PI","turkInfo","previewMode","outsideTurk","hitId","assignmentId","workerId","turkSubmitTo","param","regexS","regex","RegExp","exec","referrer","unescape","submitToTurk","method","action","hiddenField","body","submit","TimelineNode","parent","relativeID","current_location","current_variable_set","current_repetition","current_iteration","parent_node","relative_id","timeline_parameters","loop_function","conditional_function","sample","randomize_order","timeline_variables","on_timeline_finish","on_timeline_start","setTimelineVariablesOrder","node_data","node_trial_data","merged_parameters","merged_data","trial_parameters","markCurrentTrialComplete","nextRepetiton","order","groups","randomize_group_order","nextSet","advance","internal","call_immediate","conditional_result","have_node_to_run","target_complete","generatedData","isComplete","getTimelineVariableValue","variable_name","findTimelineVariable","timelineVariable","loc","allTimelineVariables","all_tvs","allTimelineVariablesNames","all_tvs_vals","so_far","percentComplete","total_trials","completed_trials","end","endActiveNode","ID","activeID","trialsOfType","insert","ms","JsPsych","extensions","global_trial_index","current_trial","current_trial_finished","paused","waiting","file_protocol","progress_bar_amount","undefined","on_trial_start","on_trial_finish","on_data_update","on_close","exclusions","message_progress_bar","auto_update_progress_bar","default_iti","experiment_width","override_safe_mode","AudioContext","protocol","extension","run","timelineDescription","prepareDom","checkExclusions","loadExtensions","documentElement","startExperiment","finished","percent_complete","getStartTime","exp_start_time","getTime","DOM_target","DOM_container","remove","trial_data_values","save_trial_parameters","key_val","extensionCallbackResults","onExtensionCallbacksFinished","nextTrial","ext_data_values","endExperiment","end_message","endCurrentTimeline","varname","immediate","timelineVariablePlaceholder","timelineVariableFunction","getAllTimelineVariables","addNodeToEndOfTimeline","new_timeline","preload_callback","pauseExperiment","resumeExperiment","loadFail","readyState","margin","Element","tabIndex","initialize","resolveFinishedPromise","drawProgressBar","doTrial","finishExperiment","finish_result","done_handler","complete","updateProgressBar","evaluateTimelineVariables","evaluateFunctionParameters","setDefaultValues","scrollTop","trial_complete","trial_sim_opts","trial_sim_opts_merged","replaceFunctionsWithValues","mode","is_promise","ip","min_width","min_height","mw","mh","innerWidth","innerHeight","msg","setProgressBar","proportion_complete","getProgressBarCompleted","initJsPsych","migrationMessages","currentTimelineNodeID","totalTime","currentTrial","initSettings","defineProperties","webkitAudioContext"],"sourceRoot":""}